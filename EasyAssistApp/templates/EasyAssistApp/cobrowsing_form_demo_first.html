{% load static %}
<!doctype html>
<html lang=en-us prefix="og: http://ogp.me/ns#">
    <meta charset=utf-8>
    <meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
    <title>{{ cobrowse_config_obj.cobrowsing_title_text }} Form Demo</title>
    <link rel=profile href=http://gmpg.org/xfn/11>
    <link rel=pingback href>
    <style>img.wp-smiley,img.emoji{display:inline!important;border:none!important;box-shadow:none!important;height:1em!important;width:1em!important;margin:0 .07em!important;vertical-align:-.1em!important;background:0 0!important;padding:0!important}</style>
    <link rel=stylesheet id=custom-style-css href="https://www.geeksforgeeks.org/wp-content/themes/iconic-one/css/gfg.min.css?ver=8.59" media=all>
    
    {% if cobrowse_config_obj.cobrowsing_favicon %}
        <link rel="shortcut icon" type="image/x-icon" href="{{ cobrowse_config_obj.cobrowsing_favicon }}">
    {% else %}
        <link rel="shortcut icon" type="image/x-icon" href="{% static 'EasyAssistApp/img/cobrowseLogoShort.svg' %}">
    {% endif %}
    
    <script src="https://code.jquery.com/jquery-3.1.1.min.js?ver=3.1.1"></script>
    <script src="https://code.jquery.com/jquery-migrate-3.0.0.min.js?ver=3.0.0"></script>
    <body>
        <div id=main class=wrapper>
            <style>div#content{margin:0}.site-content{margin:0}header,.small-img{display:none}.large-img{display:block}.column img,.column .hire-form{position:relative}.column .hire-form{color:initial;max-width:576px;min-height:850px;margin:0 auto;z-index:2;margin-top:-60px;position:relative;border-radius:6px;padding-left:14px;padding-right:14px}.site-content{width:100%}.site-content article{overflow:hidden}.div-box{border:1px solid #c5bebe;border-radius:8px;background:#fff}.side-margin{padding:30px 20px}.heading-title{line-height:135%;font-size:32px;font-family:Poppins}.heading-content{margin-top:15px;letter-spacing:.2px;line-height:20px;font-size:14px}.form-box{text-align:left}.redText{color:red}.form-input{margin-top:21px;border:none;font-size:15px;padding-left:0;outline:none;border-bottom:1px solid #c5bebe}.form-margin{margin-top:20px}.switch{position:relative;display:inline-block;width:48px;height:15px}.switch input{opacity:0;width:0;height:0}.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.slider:before{position:absolute;content:"";height:22px;width:22px;left:0;bottom:-4px;background-color:#fff;-webkit-transition:.4s;transition:.4s;border:1px solid #c3bdbd}input:checked+.slider{background-color:#2196f3}input:focus+.slider{box-shadow:0 0 1px #2196F3}input:checked+.slider:before{-webkit-transform:translateX(26px);-ms-transform:translateX(26px);transform:translateX(26px)}.slider.round{border-radius:34px}.slider.round:before{border-radius:50%}.custom-toggle-btn{margin-top:41px}.lable-text{padding-left:12px;font-size:17px!important;color:#707275}.submit-btn{text-shadow:0 1px 1px rgba(0,0,0,.2);background:#1e9239;color:#fff;border-radius:4px;font-size:93%;height:39px;width:93px;padding:4px;font-family:inherit;margin-top:34px;outline:none;float:right;cursor:pointer;overflow:hidden}.strip{width:100%;height:10px;background-color:#4caf50;border-top-left-radius:8px;border-top-right-radius:8px;margin-top:-1px}.padding-head{padding-top:12px}.border-red{border-color:red}.error-text{color:red;font-family:sans-serif;font-size:12px}.success-link{border-bottom:1px solid #060;color:#060;cursor:pointer}.heading-content-success{display:none}@media only screen and (min-width:1392px){.column img{width:60%}}@media only screen and (min-width:1168px) and (max-width:1391px){.column img{width:65%}}@media only screen and (min-width:992px) and (max-width:1167px){.column img{width:70%}}@media only screen and (max-width:991px){.column img{width:100%}}@media only screen and (min-width:1024px){.row{text-align:center}.row::after{content:"";clear:both;display:table}}@media only screen and (max-width:768px){.small-img{display:block}.large-img{display:none}.column .hire-form{margin-top:-7.1%}}@media only screen and (min-width:768px){.column{text-align:center}}select{width: 50%;height: 30px;outline: none;border: none;background: white;border-bottom: 1px solid #c5bebe;}</style>
            <div id=primary class=site-content>
                <div id=content role=main style=margin:0!important>
                    <article>
                        <div class=entry-content>
                            <div class=row style="text-align: center;">
                                <div class=column>
                                    <p>
                                    <div class=hire-form>
                                        <div class=form-box>
                                            <div class="heading-div div-box" style="margin-top: 50px;">
                                                <div class=strip></div>
                                                <div class="side-margin padding-head">
                                                    <div class=heading-title>Cobrowsing Demo Page</div>
                                                    <div class=heading-content>Used GeeksforGeeks page as a reference to create this page<br><br><span class=redText>* Required</span></div>
                                                    <div class=heading-content-success><br>Your response has been recorded.<br><br><br><label class=success-link href=#>Submit another response.</label></div>
                                                </div>
                                            </div>
                                            <form class=hire-us-form novalidate>
                                                <div class="div-box form-margin">
                                                    <div class=side-margin>
                                                        <div class=input-title>Email address
                                                            <span class=redText>*</span>
                                                        </div>
                                                        <div class=input-content><input class=form-input id=email type=email placeholder="Your email" name=email maxlength=100 required></div>
                                                    </div>
                                                </div>
                                                <div class="div-box form-margin">
                                                    <div class=side-margin>
                                                        <div class=input-title>Full Name
                                                            <span class=redText>*</span>
                                                        </div>
                                                        <div class=input-content><input class=form-input id=full-name placeholder="Your answer" name=full_name maxlength=100 required></div>
                                                    </div>
                                                </div>
                                                <div class="div-box form-margin">
                                                    <div class=side-margin>
                                                        <div class=input-title>Phone Number
                                                            <span class=redText>*</span>
                                                        </div>
                                                        <div class=input-content><input class=form-input id=phone-no placeholder="Your answer" name=phone_number maxlength=20 required></div>
                                                    </div>
                                                </div>
                                                <div class="div-box form-margin">
                                                    <div class=side-margin>
                                                        <div class=input-title>Check Radio Button
                                                            <span class=redText></span>
                                                        </div>
                                                        <div class=input-content>
                                                            <div>
                                                                <label>
                                                                    <input class=form-input type="radio" name="radio-option" style="transform: scale(1.2); margin-right:0.5em">
                                                                    <span class=input-title>Option 1</span>
                                                                </label>
                                                            </div>
                                                            <div>
                                                                <label>
                                                                    <input class=form-input type="radio" name="radio-option" style="transform: scale(1.2); margin-right:0.5em">
                                                                    <span class=input-title>Option 2</span>
                                                                </label>
                                                            </div>
                                                            <div>
                                                                <label>
                                                                    <input class=form-input type="radio" name="radio-option" style="transform: scale(1.2); margin-right:0.5em">
                                                                    <span class=input-title>Option 3</span>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="div-box form-margin">
                                                    <div class=side-margin>
                                                        <div class=input-title>Check Checkbox
                                                            <span class=redText></span>
                                                        </div>
                                                        <div class=input-content>
                                                            <div>
                                                                <label>
                                                                    <input class=form-input type="checkbox" style="transform: scale(1.2); margin-right:0.5em">
                                                                    <span class=input-title>Option 1</span>
                                                                </label>
                                                            </div>
                                                            <div>
                                                                <label>
                                                                    <input class=form-input type="checkbox" style="transform: scale(1.2); margin-right:0.5em">
                                                                    <span class=input-title>Option 2</span>
                                                                </label>
                                                            </div>
                                                            <div>
                                                                <label>
                                                                    <input class=form-input type="checkbox" style="transform: scale(1.2); margin-right:0.5em">
                                                                    <span class=input-title>Option 3</span>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="div-box form-margin">
                                                    <div class=side-margin>
                                                        <div class=input-title>Dropdown
                                                        </div>
                                                        <div class=input-content style="margin-top: 1em;">
                                                            <select style="width: 50%;height: 30px;" id="form-select">
                                                                <option value="option_1">Option 1</option>
                                                                <option value="option_2">Option 2</option>
                                                                <option value="option_3">Option 3</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="div-box form-margin">
                                                    <div class=side-margin>
                                                        <div class=input-title>Description
                                                        </div>
                                                        <div class=input-content>
                                                            <textarea class=form-input placeholder="Description" style="width: 100%;" rows="1" id="form-description"></textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="div-box form-margin">
                                                    <div class=side-margin>
                                                        <div class=input-title>Date
                                                        </div>
                                                        <div class=input-content>
                                                            <input type="date" class="form-input" id="date">
                                                        </div>
                                                    </div>
                                                </div>
                                                <button id=submit class=submit-btn>Submit</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                    </article>
                    </div>
                </div>
                <div class=spinner-loading-overlay style=display:none></div>

                {% if DEVELOPMENT %}
                    {% if request.META.HTTP_HOST == "127.0.0.1:8000" %}
                        <script type="text/javascript" src="http://{{ request.META.HTTP_HOST }}/static/EasyAssistApp/js/assist.js?key={{ access_token }}"></script>
                    {% else %}
                        <script type="text/javascript" src="https://{{ request.META.HTTP_HOST }}/static/EasyAssistApp/js/assist.js?key={{ access_token }}"></script>
                    {% endif%}
                {% else %}
                    <script type="text/javascript" src="https://{{ request.META.HTTP_HOST }}/static/EasyAssistApp/js/easy-assist-v6.js?key={{ access_token }}"></script>
                {% endif %}

                <script>
                    $(document).ready(function() {
                        $('body').on('click', '.success-link', function(e) {
                            e.preventDefault();
                            toggleClass();
                        });

                        $('.hire-us-form').submit(function(e) {
                            e.preventDefault();
                            if (validateForm()) {
                                redirect();
                            }
                        });

                        $('body').on('keyup', 'input[required=required]', function(){
                            var this1 = $(this);
                            var val = this1.val().trim();
                            if (val != "" || val != null || val != undefined){
                                const msg = validate(this1.attr('name'), this1.val());
                                if (msg != true) {
                                    addError(this1, msg);
                                } else {
                                    removeError(this1);
                                }
                            }
                        });
                    
                        function addError(this1, msg) {
                            $('.border-red').removeClass('border-red');
                            $('div.error-text').remove();
                            this1.addClass('border-red');
                            this1.closest('.div-box').addClass('border-red');
                            this1.closest('.side-margin').append(msg);
                            this1.focus();
                        }
                    
                        function removeError(this1) {
                            this1.removeClass('border-red');
                            this1.closest('.div-box').removeClass('border-red');
                            this1.closest('.side-margin').find('.error-text').remove();
                        }
                    
                        function validate(type, value) {
                            value = value.trim();
                    
                            const emptyFeild     = '<div class="error-text">Field can not be empty.</div>';
                            const invalidPhoneNo = '<div class="error-text">Kindly enter a valid phone number.</div>';
                            const invalidEmailId = '<div class="error-text">Must be a valid email address.</div>';
                    
                            const phonePattern = /^[0-9]{10,20}$/;
                            const emailPattern = /^[\-\!\#\$\%\&\'\*\+\/\=\?\_\`\{\|\}\~a-zA-Z0-9\.\^]+\@[a-zA-Z0-9\-]+\.[a-zA-Z0-9\.\-]+$/;
                    
                            if (value == "" || value == null || value == undefined) {
                                return emptyFeild;
                            }
                    
                            if (type == 'phone_number') {
                                if (phonePattern.test(value)) {
                                    return true;
                                } else {
                                    return invalidPhoneNo;
                                }
                            } else if (type == 'email') {
                                if (emailPattern.test(value)) {
                                    return true;
                                } else {
                                    return invalidEmailId;
                                }
                            } 
                    
                            return true;
                        }
                    
                        function validateForm() {
                            var formRef = null;
                            var isValid = true;
                            $('.form-input').each(function() {
                                var this1 = $(this);
                                const msg = validate(this1.attr('name'), this1.val());
                                if (msg != true && formRef == null) {
                                    formRef = this1;
                                    addError(this1, msg);
                                    isValid = false;
                                } 
                            });
                            return isValid;
                        }
                    
                        function toggleClass() {
                            $('.heading-content-success').toggle();
                            $('.heading-content').toggle();
                            $('.hire-us-form').toggle();
                            $('input').val('');
                        }

                        function redirect() {
                            window.location.href = "/easy-assist/cobrowsing-form-demo/second/{{ access_token }}"
                        }
                    });
                </script>
            </div>
        </div>
    </body>
</html>