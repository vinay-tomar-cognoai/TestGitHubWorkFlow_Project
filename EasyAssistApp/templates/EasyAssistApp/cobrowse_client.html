{% load static %}
<!DOCTYPE html>
<html lang="en" style="overflow:hidden;">
<head>
  {% if utm_source == "client" %}
      <title>Customer | Cobrowsing</title>
  {% else %}
      <title>Sales Expert | Cobrowsing</title>
  {% endif %}
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="og:image" content="{{ cobrowse_io.access_token.get_client_logo }}">
  <link rel="apple-touch-icon" sizes="194x194" href="{{ cobrowse_io.access_token.get_client_logo }}" type="image/png">

  <link href="{% static 'EasyAssistApp/vendor/fontawesome-free/css/all.min.css' %}" rel="stylesheet" type="text/css">
  <link href="{% static 'EasyAssistApp/css/sb-admin-2.min.css' %}" rel="stylesheet">
  {% if cobrowse_config_obj.cobrowsing_favicon %}
    <link rel="shortcut icon" type="image/x-icon" href="{{ cobrowse_config_obj.cobrowsing_favicon }}">
  {% else %}
    <link rel="shortcut icon" type="image/x-icon" href="{% static 'EasyAssistApp/img/favicon.png' %}">
  {% endif %}
  <link rel="stylesheet" type="text/css" href="{% static 'EasyAssistApp/css/client.css' %}">
  <link rel="stylesheet" href="{% static 'EasyAssistApp/css/bootstrap-multiselect.css' %}">
  <link rel="stylesheet" href="{% static 'EasyAssistApp/css/getHTMLMediaElement.css' %}">

  <script type="text/javascript" src="{% static 'EasyAssistApp/vendor/jquery/jquery.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'EasyAssistApp/js/bootstrap-multiselect.js' %}"></script>
  <style type="text/css">
    #audio-call-iframe {
        position: absolute;
        bottom: 0;
        right: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
    }
    .easyassist-app-cobrowse-masking {
      filter: blur(5px);
      background-color: gray;
      position: absolute;
      z-index: 1000;
      float: left;
    }
    {% if is_mobile %}
      @media (orientation: landscape) {
          .easyassist-custom-nav-bar_wrapper #cobrowse-voip-container {
              margin-top: 0em!important;
              top: 5em!important;
              position: absolute;
          }
      }
    {% endif %}
</style>
</head>
<body style="margin: unset;background-color: #F4F4F4;" oncontextmenu="return false">
{% csrf_token %}
<div class="easyassist-custom-nav-bar_wrapper">
  {% if is_mobile == True %} 
  <button id="sidebar-mobile-modal-btn" class="open-menu-btn" onclick="hide_mobile_modal_btn();" data-toggle="modal" data-target="#cobrowse-mobile-modal">
      <svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M8 8.00003C8.00046 8.23368 7.91908 8.46012 7.77 8.64003L2.77 14.64C2.60026 14.8442 2.35635 14.9727 2.09192 14.9971C1.8275 15.0214 1.56422 14.9398 1.36 14.77C1.15578 14.6003 1.02736 14.3564 1.00298 14.092C0.978601 13.8275 1.06026 13.5642 1.23 13.36L5.71 8.00003L1.39 2.64003C1.30694 2.53774 1.2449 2.42004 1.20747 2.29371C1.17004 2.16737 1.15795 2.03488 1.17189 1.90385C1.18582 1.77282 1.22552 1.64584 1.2887 1.5302C1.35187 1.41456 1.43727 1.31255 1.54 1.23003C1.64282 1.13845 1.76345 1.06909 1.89432 1.0263C2.0252 0.983505 2.1635 0.968203 2.30056 0.981345C2.43762 0.994488 2.5705 1.03579 2.69085 1.10268C2.81121 1.16956 2.91646 1.26058 3 1.37003L7.83 7.37003C7.95552 7.55511 8.01537 7.77693 8 8.00003Z" fill="{{ floating_button_bg_color }}"/>
      </svg>
  </button>
  {% else %}
  <div id="mySidenav" class="easyassist-custom-nav-bar" onmouseover="on_agent_mouse_over_nav_bar(this)" onmouseout="on_agent_mouse_out_nav_bar(this)">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()" onmouseover="easyassistChangeTooltipShow(this)" onmouseout="easyassistChangeTooltipHide(this)">
          <svg width="14" height="8" viewBox="0 0 14 8" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M11.6044 8L6.76923 3L1.93407 8L-4.37114e-08 7L6.76923 -2.95892e-07L13.5385 7L11.6044 8Z" fill="{{floating_button_bg_color}}"/>
          </svg>
          <label>
              <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M-2.62268e-07 6L7.5 0.803848L7.5 11.1962L-2.62268e-07 6Z" fill="{{ floating_button_bg_color }}"/>
              </svg>
              <span>Minimise</span>
          </label>
      </a>
      <a href="javascript:void(0)" data-toggle="modal" data-target="#revoke_self_access_modal" id="revoke-self-edit-access" style="display:none;" onmouseover="easyassistChangeTooltipShow(this)" onmouseout="easyassistChangeTooltipHide(this)" >
        <img alt="Revoke self edit access" src="{% static 'EasyAssistApp/img/file-delete.png' %}">
        <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M-2.62268e-07 6L7.5 0.803848L7.5 11.1962L-2.62268e-07 6Z" fill="{{ floating_button_bg_color }}"/>
        </svg>
        <span>Revoke self edit access</span>
      </a>
      {% if cobrowse_io.access_token.enable_app_chat_dialog %}
      <a href="javascript:void(0)" onclick="open_livechat_agent_window()" onmouseover="easyassistChangeTooltipShow(this)" onmouseout="easyassistChangeTooltipHide(this)">
          <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" >
              <path d="M8.5 0C13.1944 0 17 3.80501 17 8.49873C17 13.1925 13.1944 16.9975 8.5 16.9975C7.10562 16.9975 5.75889 16.6609 4.55241 16.0271L0.905575 16.9765C0.519433 17.0771 0.124868 16.8456 0.0242893 16.4595C-0.00681194 16.3401 -0.00681557 16.2148 0.0242652 16.0954L0.973164 12.4509C0.337619 11.2433 0 9.89489 0 8.49873C0 3.80501 3.80558 0 8.5 0ZM9.56395 9.3486H5.7375L5.651 9.35442C5.33983 9.39663 5.1 9.66331 5.1 9.98601C5.1 10.3087 5.33983 10.5754 5.651 10.6176L5.7375 10.6234H9.56395L9.65045 10.6176C9.96162 10.5754 10.2014 10.3087 10.2014 9.98601C10.2014 9.66331 9.96162 9.39663 9.65045 9.35442L9.56395 9.3486ZM11.2625 6.37405H5.7375L5.651 6.37987C5.33983 6.42207 5.1 6.68876 5.1 7.01145C5.1 7.33415 5.33983 7.60083 5.651 7.64304L5.7375 7.64886H11.2625L11.349 7.64304C11.6602 7.60083 11.9 7.33415 11.9 7.01145C11.9 6.68876 11.6602 6.42207 11.349 6.37987L11.2625 6.37405Z" fill="{{floating_button_bg_color}}"/>
          </svg>
          <label>
              <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M-2.62268e-07 6L7.5 0.803848L7.5 11.1962L-2.62268e-07 6Z" fill="{{ floating_button_bg_color }}"/>
              </svg>
              {% if utm_source == "client" %}
                  <span>Chat with the Agent</span>
              {% else %}
                <span>Chat with the Customer</span>
              {% endif %}
          </label>
      </a>
      {% endif %}
      <a href="javascript:void(0)" onclick="restart_audio_call()" id="restart-client-audio-call-icon" style="display:none;" onmouseover="easyassistChangeTooltipShow(this)" onmouseout="easyassistChangeTooltipHide(this)">
          {% if cobrowse_io.access_token.enable_app_video_conferencing_dialog %}
            <svg width="17" height="13" viewBox="0 0 17 13" fill="none" xmlns="http://www.w3.org/2000/svg" id="voip-call-icon">
                <path d="M11.9 10.1833C11.9 11.7389 10.6632 13 9.1375 13H2.7625C1.23681 13 0 11.7389 0 10.1833V2.81667C0 1.26106 1.23681 0 2.7625 0H9.1375C10.6632 0 11.9 1.26106 11.9 2.81667V10.1833ZM16.7977 1.20756C16.9283 1.36425 17 1.56319 17 1.76883V11.231C17 11.7096 16.6194 12.0976 16.15 12.0976C15.9483 12.0976 15.7532 12.0245 15.5995 11.8913L12.75 9.42148V3.57754L15.5995 1.10846C15.9572 0.798477 16.4937 0.842848 16.7977 1.20756Z" fill="{{floating_button_bg_color}}"/>
            </svg>
          {% else %}
            <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" id="voip-call-icon">
                <path d="M16.065 11.6922C14.9033 11.6922 13.7794 11.5033 12.7311 11.1633C12.5669 11.1077 12.3903 11.0994 12.2216 11.1395C12.0529 11.1796 11.8989 11.2664 11.7772 11.39L10.2944 13.2506C7.62167 11.9756 5.11889 9.56722 3.78722 6.8L5.62889 5.23222C5.88389 4.96778 5.95944 4.59944 5.85556 4.26889C5.50611 3.22056 5.32667 2.09667 5.32667 0.935C5.32667 0.425 4.90167 0 4.39167 0H1.12389C0.613889 0 0 0.226667 0 0.935C0 9.70889 7.30056 17 16.065 17C16.7356 17 17 16.405 17 15.8856V12.6272C17 12.1172 16.575 11.6922 16.065 11.6922Z" fill="{{floating_button_bg_color}}"/>
            </svg>
          {% endif %}
          <svg width="17" height="17" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg" id="voip-calling-icon" style="display: none;">
              <path d="M16.065 15.6922C14.9033 15.6922 13.7794 15.5033 12.7311 15.1633C12.5669 15.1077 12.3903 15.0994 12.2216 15.1395C12.0529 15.1796 11.8989 15.2664 11.7772 15.39L10.2944 17.2506C7.62167 15.9756 5.11889 13.5672 3.78722 10.8L5.62889 9.23222C5.88389 8.96778 5.95944 8.59944 5.85556 8.26889C5.50611 7.22056 5.32667 6.09667 5.32667 4.935C5.32667 4.425 4.90167 4 4.39167 4H1.12389C0.613889 4 0 4.22667 0 4.935C0 13.7089 7.30056 21 16.065 21C16.7356 21 17 20.405 17 19.8856V16.6272C17 16.1172 16.575 15.6922 16.065 15.6922Z" fill="{{ floating_button_bg_color }}"/>
              <path d="M19.2891 11.0679C18.6949 5.772 14.0939 1.87804 8.77448 2.16523C8.57445 2.17603 8.42184 2.35187 8.43718 2.55176L8.51883 3.61444C8.53335 3.80515 8.69642 3.94702 8.88731 3.93754C13.2516 3.72289 17.0146 6.90819 17.5226 11.249C17.5447 11.4389 17.7117 11.5761 17.902 11.5592L18.9636 11.4645C19.1631 11.4465 19.3114 11.267 19.2891 11.0679ZM11.1886 9.97458C10.5984 9.47489 9.70688 9.55798 9.197 10.1602C8.68712 10.7624 8.75218 11.6554 9.34233 12.1551C9.93248 12.6548 10.824 12.5717 11.3339 11.9695C11.8438 11.3673 11.7787 10.4743 11.1886 9.97458ZM15.7777 11.4154C15.3237 8.04975 12.4014 5.57866 9.01076 5.6858C8.80758 5.69218 8.65116 5.86947 8.66733 6.07211L8.75203 7.13796C8.76681 7.32362 8.92231 7.46698 9.10861 7.46327C11.5569 7.41367 13.6546 9.19448 14.0083 11.6118C14.0354 11.7962 14.2023 11.9261 14.388 11.9099L15.4532 11.8177C15.6559 11.8004 15.8049 11.6165 15.7777 11.4154Z" fill="{{ floating_button_bg_color }}"/>
          </svg>
          <label>
              <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M-2.62268e-07 6L7.5 0.803848L7.5 11.1962L-2.62268e-07 6Z" fill="{{ floating_button_bg_color }}"/>
              </svg>
              <span>Rejoin the call</span>
          </label>
      </a>

      {% if cobrowse_io.access_token.enable_app_screen_share_dialog or cobrowse_io.access_token.enable_app_audio_call_dialog or cobrowse_io.access_token.enable_app_video_conferencing_dialog %}
      
      <a href="javascript:void(0)" id="client-screenshare-icon" style="display:none;" onclick="hide_video_conferencing_window()" onmouseover="easyassistChangeTooltipShow(this)" onmouseout="easyassistChangeTooltipHide(this)">
          <i class="fas fa-fw fa-tablet-alt" style="color: {{ floating_button_bg_color }}"></i>
          <label>
              <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M-2.62268e-07 6L7.5 0.803848L7.5 11.1962L-2.62268e-07 6Z" fill="{{ floating_button_bg_color }}"/>
              </svg>
              <span>View Agent's Screen</span>
          </label>
      </a>

      <a href="javascript:void(0)" id="client-video-call-icon" style="display:none;" onclick="show_video_conferencing_window()" onmouseover="easyassistChangeTooltipShow(this)" onmouseout="easyassistChangeTooltipHide(this)">
          
          {% if cobrowse_io.access_token.enable_app_video_conferencing_dialog %}
            <svg width="17" height="13" viewBox="0 0 17 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11.9 10.1833C11.9 11.7389 10.6632 13 9.1375 13H2.7625C1.23681 13 0 11.7389 0 10.1833V2.81667C0 1.26106 1.23681 0 2.7625 0H9.1375C10.6632 0 11.9 1.26106 11.9 2.81667V10.1833ZM16.7977 1.20756C16.9283 1.36425 17 1.56319 17 1.76883V11.231C17 11.7096 16.6194 12.0976 16.15 12.0976C15.9483 12.0976 15.7532 12.0245 15.5995 11.8913L12.75 9.42148V3.57754L15.5995 1.10846C15.9572 0.798477 16.4937 0.842848 16.7977 1.20756Z" fill="{{floating_button_bg_color}}"/>
            </svg>
            <label>
                <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M-2.62268e-07 6L7.5 0.803848L7.5 11.1962L-2.62268e-07 6Z" fill="{{ floating_button_bg_color }}"/>
                </svg>
                {% if utm_source == "client" %}
                  <span>Video call with Agent</span>
                {% else %}
                  <span>Video call with Customer</span>
                {% endif %}
            </label>
          {% elif cobrowse_io.access_token.enable_app_audio_call_dialog %}
            <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M16.065 11.6922C14.9033 11.6922 13.7794 11.5033 12.7311 11.1633C12.5669 11.1077 12.3903 11.0994 12.2216 11.1395C12.0529 11.1796 11.8989 11.2664 11.7772 11.39L10.2944 13.2506C7.62167 11.9756 5.11889 9.56722 3.78722 6.8L5.62889 5.23222C5.88389 4.96778 5.95944 4.59944 5.85556 4.26889C5.50611 3.22056 5.32667 2.09667 5.32667 0.935C5.32667 0.425 4.90167 0 4.39167 0H1.12389C0.613889 0 0 0.226667 0 0.935C0 9.70889 7.30056 17 16.065 17C16.7356 17 17 16.405 17 15.8856V12.6272C17 12.1172 16.575 11.6922 16.065 11.6922Z" fill="{{floating_button_bg_color}}"/>
            </svg>
            <label>
                <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M-2.62268e-07 6L7.5 0.803848L7.5 11.1962L-2.62268e-07 6Z" fill="{{ floating_button_bg_color }}"/>
                </svg>
                <span>Voice call with Agent</span>
                {% if utm_source == "client" %}
                  <span>Voice call with Agent</span>
                {% else %}
                  <span>Voice call with Customer</span>
                {% endif %}
            </label>
          {% elif cobrowse_io.access_token.enable_app_screen_share_dialog %}
            <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 256 256">
              <path d="M232,56V200a16.01833,16.01833,0,0,1-16,16H144a8,8,0,0,1,0-16h72V56H40V96a8,8,0,0,1-16,0V56A16.01833,16.01833,0,0,1,40,40H216A16.01833,16.01833,0,0,1,232,56ZM32,184a8,8,0,0,0,0,16,8.00917,8.00917,0,0,1,8,8,8,8,0,0,0,16,0A24.02718,24.02718,0,0,0,32,184Zm0-32a8,8,0,0,0,0,16,40.04552,40.04552,0,0,1,40,40,8,8,0,0,0,16,0A56.06322,56.06322,0,0,0,32,152Zm0-32a8,8,0,0,0,0,16,72.08124,72.08124,0,0,1,72,72,8,8,0,0,0,16,0A88.09957,88.09957,0,0,0,32,120Z" fill="{{floating_button_bg_color}}"/>
            </svg>
            <label>
                <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M-2.62268e-07 6L7.5 0.803848L7.5 11.1962L-2.62268e-07 6Z" fill="{{ floating_button_bg_color }}"/>
                </svg>
                <span>Screen share with Agent</span>
            </label>
          {% endif %}
      </a>
      
      <a href="javascript:void(0)" onclick="end_audio_call()" id="end-client-audio-call-icon" style="display:none;" onmouseover="easyassistChangeTooltipShow(this)" onmouseout="easyassistChangeTooltipHide(this)">
          <i style="transform: rotate(90deg); color: #D70000;" class="fas fa-fw fa-phone-slash" style="color:#D70000;"></i>
          <label style="background-color: #D70000 !important">
              <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M-2.62268e-07 6L7.5 0.803848L7.5 11.1962L-2.62268e-07 6Z" fill="#D70000"/>
              </svg>
              <span>End the call</span>
          </label>
      </a>
      {% endif %}
      <hr style="color: black;width: 30px;margin: 0.3rem auto;">
      <a href="javascript:void(0)" onclick="open_close_session_modal()" onmouseover="easyassistChangeTooltipShow(this)" onmouseout="easyassistChangeTooltipHide(this)">
        <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill="#D70000" d="M11 1.83325C16.0626 1.83325 20.1666 5.93731 20.1666 10.9999C20.1666 16.0625 16.0626 20.1666 11 20.1666C5.93737 20.1666 1.83331 16.0625 1.83331 10.9999C1.83331 5.93731 5.93737 1.83325 11 1.83325ZM14.2361 7.76378L14.159 7.69722C13.9198 7.51971 13.5914 7.51751 13.35 7.69064L13.2638 7.76378L11 10.0273L8.73612 7.76378L8.65901 7.69722C8.41977 7.51971 8.0914 7.51751 7.84997 7.69064L7.76384 7.76378L7.69728 7.84089C7.51977 8.08013 7.51757 8.40849 7.6907 8.64993L7.76384 8.73605L10.0274 10.9999L7.76384 13.2638L7.69728 13.3409C7.51977 13.5801 7.51757 13.9085 7.6907 14.1499L7.76384 14.2361L7.84095 14.3026C8.08019 14.4801 8.40855 14.4823 8.64999 14.3092L8.73612 14.2361L11 11.9725L13.2638 14.2361L13.341 14.3026C13.5802 14.4801 13.9086 14.4823 14.15 14.3092L14.2361 14.2361L14.3027 14.1589C14.4802 13.9197 14.4824 13.5913 14.3093 13.3499L14.2361 13.2638L11.9726 10.9999L14.2361 8.73605L14.3027 8.65895C14.4802 8.41971 14.4824 8.09134 14.3093 7.8499L14.2361 7.76378L14.159 7.69722L14.2361 7.76378Z"></path>
        </svg>
        <label style="background-color: #D70000 !important">
            <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M-2.62268e-07 6L7.5 0.803848L7.5 11.1962L-2.62268e-07 6Z" fill="#D70000"/>
            </svg>
            {% if utm_source == "client" %}
            <span>End Session</span>
            {% else %}
            <span>Leave Session</span>
            {% endif %}
        </label>
    </a>
  </div>
  <div id="maximise-button" class="inner" style="display:none;">
      <div id="minimize-button" class="easyassist-custom-nav-bar">
          <a href="javascript:void(0)" class="closebtn" onclick="openNav()"  onmouseover="easyassistChangeTooltipShow(this)" onmouseout="easyassistChangeTooltipHide(this)">
              <svg width="14" height="8" viewBox="0 0 14 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M1.93418 -5.07244e-07L6.76934 5L11.6045 -8.45407e-08L13.5386 1L6.76934 8L0.000113444 0.999999L1.93418 -5.07244e-07Z" fill="{{ floating_button_bg_color }}"/>
              </svg>
              <label>
                  <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M-2.62268e-07 6L7.5 0.803848L7.5 11.1962L-2.62268e-07 6Z" fill="{{ floating_button_bg_color }}"/>
                  </svg>
                  <span>Maximise</span>
              </label>
          </a>
      </div>
  </div>
  {% endif %}
</div>

<span id="easyassist-snackbar"></span>

<div class="loader" id="easyassist-loader">
  <div class="loaderCenter">
    <h3 data-text="Loading...">Loading...</h3>
  </div>
</div>


<div id="transaction-payment-loader" style="display: none;top: 45%;left: 45%;position: fixed;z-index: 2147483647;color: black;"><p>Redirected to Payment Page...</p></div>
<div id="frames-container"></div>
<div id="form-container" style="display:none;"></div>
<div id="audio-call-iframe" style="display:none;"></div>

<!-- LiveChat Iframe Starts -->
{% if utm_source == "client" %}
    <iframe title="CoBrowsing LiveChat" id="allincall-chat-box" src="/easy-assist/sales-ai/client/livechat/?access_token={{ access_token }}" style="display: none; bottom: 1em; right: 2em; animation-name: bottom-left-right-anime;"></iframe>
{% else %}
    <iframe title="CoBrowsing LiveChat" id="allincall-chat-box" src="/easy-assist/sales-ai/livechat/?session_id={{ session_id }}}&is_agent=True" style="display: none; bottom: 1em; right: 2em; animation-name: bottom-left-right-anime;"></iframe>
{% endif %}

<!-- LiveChat Iframe Ends -->
<input type="text" name="android-access-control-dynamic-text" id="android-access-control-dynamic-text" style="display: none;"/>

<div class="modal fade" id="capture_screenshot_confirm_modal" tabindex="-1" role="dialog" aria-labelledby="capture_client_screenshot_modal_label" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="capture_client_screenshot_modal_label">Ready to capture client screenshot?</h5>
        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">Select "Capture" below if you want to capture client screenshot?</div>
      <div class="modal-footer">
        <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
        <a class="btn btn-primary" href="javascript:void(0)" onclick="capture_client_screenshot_confirm()" data-dismiss="modal">Capture</a>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="capture_pageshot_confirm_modal" tabindex="-1" role="dialog" aria-labelledby="capture_client_pageshot_modal_label" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="capture_client_pageshot_modal_label">Ready to capture client pageshot?</h5>
        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">Select "Capture" below if you want to capture client pageshot?</div>
      <div class="modal-footer">
        <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
        <a class="btn btn-primary" href="javascript:void(0)" onclick="capture_client_pageshot_confirm()" data-dismiss="modal">Capture</a>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="captured_information_modal" tabindex="-1" role="dialog" aria-labelledby="captured_information_modal_label" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="captured_information_modal_label">Send/Received Document</h5>
        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">
          <div class="row">
              <div class="col-md-12">
            <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                  <li class="nav-item">
                          <a class="nav-link" id="pills-send-attachment-tab" data-toggle="pill" href="#pills-send-attachment" role="tab" aria-controls="pills-home" aria-selected="true" onclick="reset_send_document_div(this)">Send</a>
                      </li>
            <li class="nav-item">
                  <a class="nav-link" id="pills-received-attachment-tab" data-toggle="pill" href="#pills-received-attachment" role="tab" aria-controls="pills-profile" aria-selected="false" onclick="load_received_document_list('{{ session_id }}')">Received</a>
            </li>
            </ul>
              </div>
          </div>

          <div class="tab-content" id="pills-tabContent">
          <div class="tab-pane fade" id="pills-send-attachment" role="tabpanel" aria-labelledby="pills-integration-tab">
                  <div class="row">
                      <div class="col-md-12">

                          <p>Select document from your device and send it to agent. Click on the below "choose document" button for the same.</p>

              <div class="input-group mb-3">
              <div class="custom-file">
                    <input type="file" class="custom-file-input" id="input-selected-document-client" onchange="check_client_selected_document(this)">
                    <label class="custom-file-label" for="input-selected-document-client">Choose document</label>
              </div>
              </div>                      

                          <hr>

                          <p>Chat with our agent</p>

        <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="Enter your message and click send" aria-label="Enter your message and click send" aria-describedby="basic-addon2" id="client-chat-message">
              <div class="input-group-append">
                    <button class="btn btn-info" type="button" onclick="save_chat_message_and_send_to_agent(this)">Send</button>
              </div>
        </div>

                          <p id="upload-attachment-error-message"></p>

                      </div>
                  </div>
          </div>
              <div class="tab-pane fade" id="pills-received-attachment" role="tabpanel" aria-labelledby="pills-integration-tab">
                  <div class="row">
                     <div class="col-md-12" id="session-chat-history-container" style="max-height: 300px; overflow-y: scroll;">
                     </div>
                  </div>
              </div>
          </div>

      </div>
      <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Close</button>
          <button class="btn btn-success" type="button" onclick="upload_selected_document_and_send(this)" id="button-send-attachment-to-agent" style="display:none;">Send to agent</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="close_session_modal" tabindex="-1" role="dialog" aria-labelledby="close_session_modal_label" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="close_session_modal_label">Ready to end the session?</h5>
        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row" style="padding:0.5em;">
            <label for="close-session-remarks">Comments<sup>*</sup></label>
            <textarea class="form-control" id="close-session-remarks"></textarea>
            <br>
        </div>
        <p>Select <b>"Close"</b> below if you want to close the session?</p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
        <a class="btn btn-primary" href="javascript:void(0)" onclick="close_agent_confirm_session(this)">Close</a>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="askfor_support_modal" tabindex="-1" role="dialog" aria-labelledby="close_session_modal_label" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="close_session_modal_label">Ask for support?</h5>
        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row" style="padding:0.5em;">
            <div class="" id="div-support-agents-container"></div>
        </div>
      </div>
      <div class="modal-footer">
            <button class="btn btn-secondary" type="button" data-dismiss="modal">Close</button>
            <a class="btn btn-primary" href="javascript:void(0)" onclick="share_cobrowsing_session(this)" id="btn-share-cobrowsing-session">Share</a>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="request_video_record_modal" tabindex="-1" role="dialog" aria-labelledby="request_video_record_label" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="request_video_record_label">Request for Video KYC</h5>
      </div>
      <div class="modal-body">
        <div class="row" style="padding:0.5em;">
            Please allow us to record your short video for Video KYC purposes. 
        </div>
      </div>
      <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Close</button>
          <button class="btn btn-primary" type="button" onclick="proceed_to_video_record(this)" data-dismiss="modal">Proceed</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="start_video_record_modal" tabindex="-1" role="dialog" aria-labelledby="start_video_record_label" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="start_video_record_label">Request for Video KYC</h5>
        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row" style="padding:0.5em;max-height: 300px; overflow-y: scroll;">

                <input type="checkbox" id="chk-timeSlice" style="margin:0;width:auto;display:none;" title="Use intervals based recording">

                <div style="display: none;">
                    <input type="checkbox" id="chk-fixSeeking" style="margin:0;width:auto;" title="Fix video seeking issues?">
                </div>

                <select class="recording-media" style="display:none;">
                    <option value="record-audio-plus-video" selected>Microphone+Camera</option>
                    <option value="record-audio">Microphone</option>
                    <option value="record-screen">Full Screen</option>
                    <option value="record-audio-plus-screen">Microphone+Screen</option>
                </select>

                <select class="media-container-format" style="display:none;">
                    <option selected>default</option>
                    <option>vp8</option>
                    <option>vp9</option>
                    <option>h264</option>
                    <option>mkv</option>
                    <option>opus</option>
                    <option>ogg</option>
                    <option>pcm</option>
                    <option>gif</option>
                    <option>whammy</option>
                    <option>WebAssembly</option>
                </select>

                <select class="media-resolutions" style="display:none;">
                    <option value="default">Default resolutions</option>
                    <option value="1920x1080">1080p</option>
                    <option value="1280x720">720p</option>
                    <option value="640x480" selected>480p</option>
                    <option value="3840x2160">4K Ultra HD (3840x2160)</option>
                </select>

                <select class="media-framerates" style="display:none;">
                    <option value="default" selected>Default framerates</option>
                    <option value="5">5 fps</option>
                    <option value="15">15 fps</option>
                    <option value="24">24 fps</option>
                    <option value="30">30 fps</option>
                    <option value="60">60 fps</option>
                </select>

                <select class="media-bitrates" style="display:none;">
                    <option value="default" selected>Default bitrates</option>
                    <option value="8000000000">1 GB bps</option>
                    <option value="800000000">100 MB bps</option>
                    <option value="8000000">1 MB bps</option>
                    <option value="800000">100 KB bps</option>
                    <option value="8000">1 KB bps</option>
                    <option value="800">100 Bytes bps</option>
                </select>

            <div class="input-group" style="margin: 1em 0em 1em 0em;">
              <button class="btn btn-info" id="btn-start-recording">Start Recording</button>
              <button class="btn btn-info" id="btn-pause-recording" style="display: none;font-size: 15px;margin-left:1em;">Pause</button>
            </div>
            <div style="display: contents;" id="recording-player"></div>

            <p id="video-upload-status"></p>
        </div>
      </div>
      <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="attachment_confirmation_modal" tabindex="-1" role="dialog" aria-labelledby="form_details_label" style="top:120px;">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="form_details_label">Send Attachment</h5>&nbsp;&nbsp;&nbsp;
        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">
          <div class="row">
              <div class="col-sm-12">
                  <h5>Are you sure, you want to send attachment to agent?</h5>                
              </div>
          </div>
      </div>
      <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
          <button class="btn btn-success" type="button" data-dismiss="modal" onclick="save_chat_message_and_send_to_agent(this)">Send</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="agent_chat_history" tabindex="-1" role="dialog" aria-labelledby="agent_chat_history_modal_label" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="agent_chat_history_modal_label">Chat with our agent</h5>
        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">
          <div class="row">
              <div class="col-sm-12" id="agent-chat-history-container" style="max-height: 300px;overflow-y: scroll;"></div>
          </div>
      </div>
      <div class="modal-footer">
  <div class="input-group">
        {% if cobrowse_io.access_token.app_client_document_sharing_allowed %}
            <button class="btn" onclick="open_file_explorer(this)"><i class="fas fa-fw fa-paperclip"></i></button>
        {% endif %}
        <input type="text" class="form-control" placeholder="Enter message" aria-label="Enter message" aria-describedby="basic-addon2" id="client-chat-message-2">
        <button class="btn" id="button-chat-submit" onclick="save_chat_message_and_send_to_agent(this)"><i class="fas fa-fw fa-paper-plane"></i></button>
  </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="form_details_modal" tabindex="-1" role="dialog" aria-labelledby="form_details_label">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="form_details_label">Fill in the form</h5>&nbsp;&nbsp;&nbsp;<span style="color: green; display:none;" id="save-changes-action">changes saved</span>
        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row" style="padding:0.5em;max-height: 350px;overflow-y: scroll;" id="dynamic-form-container"></div>
      </div>
      <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

{% if is_mobile %}
  <div id="cobrowse-mobile-modal" class="modal fade left">
      <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
              <div class="modal-header">
                  <button type="button" onclick="show_mobile_modal_btn();" id="mobile-modal-hide-btn">
                      <svg width="16" height="2" viewBox="0 0 16 2" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M15 2H1C0.734784 2 0.48043 1.89464 0.292893 1.70711C0.105357 1.51957 0 1.26522 0 1C0 0.734784 0.105357 0.48043 0.292893 0.292893C0.48043 0.105357 0.734784 0 1 0H15C15.2652 0 15.5196 0.105357 15.7071 0.292893C15.8946 0.48043 16 0.734784 16 1C16 1.26522 15.8946 1.51957 15.7071 1.70711C15.5196 1.89464 15.2652 2 15 2Z" fill="{{ floating_button_bg_color }}"/>
                      </svg>
                  </button>
              </div>
              <div class="modal-body">
                  <ul class="menu-items">
                      <li id="revoke-self-edit-access" style="display:none;">
                          <div class="menu-item">
                              <a href="#" data-toggle="modal" data-target="#revoke_self_access_modal">
                                  <img alt="Revoke self edit access" src="{% static 'EasyAssistApp/img/file-delete.png' %}">
                              </a>
                          </div>
                          <span>Revoke self edit access</span>
                      </li>
                      {% if cobrowse_io.access_token.enable_app_chat_dialog %}
                      <li>
                          <div class="menu-item">
                              <a href="#" onclick="hide_mobile_menu_modal();open_livechat_agent_window()">
                                  <svg width="24" height="24" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 24px; height: 24px;">
                                      <path d="M8.5 0C13.1944 0 17 3.80501 17 8.49873C17 13.1925 13.1944 16.9975 8.5 16.9975C7.10562 16.9975 5.75889 16.6609 4.55241 16.0271L0.905575 16.9765C0.519433 17.0771 0.124868 16.8456 0.0242893 16.4595C-0.00681194 16.3401 -0.00681557 16.2148 0.0242652 16.0954L0.973164 12.4509C0.337619 11.2433 0 9.89489 0 8.49873C0 3.80501 3.80558 0 8.5 0ZM9.56395 9.3486H5.7375L5.651 9.35442C5.33983 9.39663 5.1 9.66331 5.1 9.98601C5.1 10.3087 5.33983 10.5754 5.651 10.6176L5.7375 10.6234H9.56395L9.65045 10.6176C9.96162 10.5754 10.2014 10.3087 10.2014 9.98601C10.2014 9.66331 9.96162 9.39663 9.65045 9.35442L9.56395 9.3486ZM11.2625 6.37405H5.7375L5.651 6.37987C5.33983 6.42207 5.1 6.68876 5.1 7.01145C5.1 7.33415 5.33983 7.60083 5.651 7.64304L5.7375 7.64886H11.2625L11.349 7.64304C11.6602 7.60083 11.9 7.33415 11.9 7.01145C11.9 6.68876 11.6602 6.42207 11.349 6.37987L11.2625 6.37405Z" fill="{{floating_button_bg_color}}"/>
                                  </svg>
                              </a>
                          </div>
                          <span>Chat with Agent</span>
                      </li>
                      {% endif %}
                      <li id="restart-client-audio-call-icon" style="display:none;">
                        <div class="menu-item">
                          <a href="#" onclick="show_mobile_modal_btn();restart_audio_call();" >
                            {% if cobrowse_io.access_token.enable_app_video_conferencing_dialog %}
                              <svg width="17" height="13" viewBox="0 0 17 13" fill="none" xmlns="http://www.w3.org/2000/svg" id="voip-call-icon">
                                <path d="M11.9 10.1833C11.9 11.7389 10.6632 13 9.1375 13H2.7625C1.23681 13 0 11.7389 0 10.1833V2.81667C0 1.26106 1.23681 0 2.7625 0H9.1375C10.6632 0 11.9 1.26106 11.9 2.81667V10.1833ZM16.7977 1.20756C16.9283 1.36425 17 1.56319 17 1.76883V11.231C17 11.7096 16.6194 12.0976 16.15 12.0976C15.9483 12.0976 15.7532 12.0245 15.5995 11.8913L12.75 9.42148V3.57754L15.5995 1.10846C15.9572 0.798477 16.4937 0.842848 16.7977 1.20756Z" fill="{{floating_button_bg_color}}"/>
                              </svg>
                            {% else %}
                              <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" id="voip-call-icon">
                                <path d="M16.065 11.6922C14.9033 11.6922 13.7794 11.5033 12.7311 11.1633C12.5669 11.1077 12.3903 11.0994 12.2216 11.1395C12.0529 11.1796 11.8989 11.2664 11.7772 11.39L10.2944 13.2506C7.62167 11.9756 5.11889 9.56722 3.78722 6.8L5.62889 5.23222C5.88389 4.96778 5.95944 4.59944 5.85556 4.26889C5.50611 3.22056 5.32667 2.09667 5.32667 0.935C5.32667 0.425 4.90167 0 4.39167 0H1.12389C0.613889 0 0 0.226667 0 0.935C0 9.70889 7.30056 17 16.065 17C16.7356 17 17 16.405 17 15.8856V12.6272C17 12.1172 16.575 11.6922 16.065 11.6922Z" fill="{{floating_button_bg_color}}"/>
                              </svg>
                            {% endif %}
                            <svg width="17" height="17" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg" id="voip-calling-icon" style="display: none;">
                                <path d="M16.065 15.6922C14.9033 15.6922 13.7794 15.5033 12.7311 15.1633C12.5669 15.1077 12.3903 15.0994 12.2216 15.1395C12.0529 15.1796 11.8989 15.2664 11.7772 15.39L10.2944 17.2506C7.62167 15.9756 5.11889 13.5672 3.78722 10.8L5.62889 9.23222C5.88389 8.96778 5.95944 8.59944 5.85556 8.26889C5.50611 7.22056 5.32667 6.09667 5.32667 4.935C5.32667 4.425 4.90167 4 4.39167 4H1.12389C0.613889 4 0 4.22667 0 4.935C0 13.7089 7.30056 21 16.065 21C16.7356 21 17 20.405 17 19.8856V16.6272C17 16.1172 16.575 15.6922 16.065 15.6922Z" fill="{{ floating_button_bg_color }}"/>
                                <path d="M19.2891 11.0679C18.6949 5.772 14.0939 1.87804 8.77448 2.16523C8.57445 2.17603 8.42184 2.35187 8.43718 2.55176L8.51883 3.61444C8.53335 3.80515 8.69642 3.94702 8.88731 3.93754C13.2516 3.72289 17.0146 6.90819 17.5226 11.249C17.5447 11.4389 17.7117 11.5761 17.902 11.5592L18.9636 11.4645C19.1631 11.4465 19.3114 11.267 19.2891 11.0679ZM11.1886 9.97458C10.5984 9.47489 9.70688 9.55798 9.197 10.1602C8.68712 10.7624 8.75218 11.6554 9.34233 12.1551C9.93248 12.6548 10.824 12.5717 11.3339 11.9695C11.8438 11.3673 11.7787 10.4743 11.1886 9.97458ZM15.7777 11.4154C15.3237 8.04975 12.4014 5.57866 9.01076 5.6858C8.80758 5.69218 8.65116 5.86947 8.66733 6.07211L8.75203 7.13796C8.76681 7.32362 8.92231 7.46698 9.10861 7.46327C11.5569 7.41367 13.6546 9.19448 14.0083 11.6118C14.0354 11.7962 14.2023 11.9261 14.388 11.9099L15.4532 11.8177C15.6559 11.8004 15.8049 11.6165 15.7777 11.4154Z" fill="{{ floating_button_bg_color }}"/>
                            </svg>
                          </a>
                        </div>
                        <span>Rejoin the call</span>
                      </li>

                      {% if cobrowse_io.access_token.enable_app_screen_share_dialog or cobrowse_io.access_token.enable_app_audio_call_dialog or cobrowse_io.access_token.enable_app_video_conferencing_dialog %}
                        <li id="client-screenshare-icon" style="display:none;" >
                          <div class="menu-item">
                            <a href="#" onclick="show_mobile_modal_btn();hide_video_conferencing_window();">
                              <i class="fas fa-fw fa-tablet-alt" style="color: {{ floating_button_bg_color }}"></i>
                            </a>
                          </div>
                          <span>View Agent's Screen</span>
                        </li>

                        <li id="client-video-call-icon" style="display:none;">
                          <div class="menu-item">
                            <a href="#" onclick="show_mobile_modal_btn();show_video_conferencing_window();">
                              {% if cobrowse_io.access_token.enable_app_video_conferencing_dialog %}
                                <svg width="17" height="13" viewBox="0 0 17 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                  <path d="M11.9 10.1833C11.9 11.7389 10.6632 13 9.1375 13H2.7625C1.23681 13 0 11.7389 0 10.1833V2.81667C0 1.26106 1.23681 0 2.7625 0H9.1375C10.6632 0 11.9 1.26106 11.9 2.81667V10.1833ZM16.7977 1.20756C16.9283 1.36425 17 1.56319 17 1.76883V11.231C17 11.7096 16.6194 12.0976 16.15 12.0976C15.9483 12.0976 15.7532 12.0245 15.5995 11.8913L12.75 9.42148V3.57754L15.5995 1.10846C15.9572 0.798477 16.4937 0.842848 16.7977 1.20756Z" fill="{{floating_button_bg_color}}"/>
                                </svg>
                              {% elif cobrowse_io.access_token.enable_app_audio_call_dialog %}
                                <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                  <path d="M16.065 11.6922C14.9033 11.6922 13.7794 11.5033 12.7311 11.1633C12.5669 11.1077 12.3903 11.0994 12.2216 11.1395C12.0529 11.1796 11.8989 11.2664 11.7772 11.39L10.2944 13.2506C7.62167 11.9756 5.11889 9.56722 3.78722 6.8L5.62889 5.23222C5.88389 4.96778 5.95944 4.59944 5.85556 4.26889C5.50611 3.22056 5.32667 2.09667 5.32667 0.935C5.32667 0.425 4.90167 0 4.39167 0H1.12389C0.613889 0 0 0.226667 0 0.935C0 9.70889 7.30056 17 16.065 17C16.7356 17 17 16.405 17 15.8856V12.6272C17 12.1172 16.575 11.6922 16.065 11.6922Z" fill="{{floating_button_bg_color}}"/>
                                </svg>
                              {% elif cobrowse_io.access_token.enable_app_screen_share_dialog %}
                                <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 256 256">
                                  <path d="M232,56V200a16.01833,16.01833,0,0,1-16,16H144a8,8,0,0,1,0-16h72V56H40V96a8,8,0,0,1-16,0V56A16.01833,16.01833,0,0,1,40,40H216A16.01833,16.01833,0,0,1,232,56ZM32,184a8,8,0,0,0,0,16,8.00917,8.00917,0,0,1,8,8,8,8,0,0,0,16,0A24.02718,24.02718,0,0,0,32,184Zm0-32a8,8,0,0,0,0,16,40.04552,40.04552,0,0,1,40,40,8,8,0,0,0,16,0A56.06322,56.06322,0,0,0,32,152Zm0-32a8,8,0,0,0,0,16,72.08124,72.08124,0,0,1,72,72,8,8,0,0,0,16,0A88.09957,88.09957,0,0,0,32,120Z" fill="{{floating_button_bg_color}}"/>
                                </svg>
                              {% endif %}
                            </a>
                          </div>
                          {% if cobrowse_io.access_token.enable_app_video_conferencing_dialog %}
                            <span>Video call with Agent</span>
                          {% elif cobrowse_io.access_token.enable_app_audio_call_dialog %}
                            <span>Voice call with Agent</span>
                          {% elif cobrowse_io.access_token.enable_app_screen_share_dialog %}
                            <span>Screen share with Agent</span>
                          {% endif %}
                        </li>

                        <li id="end-client-audio-call-icon" style="display:none;">
                          <div class="menu-item">
                            <a href="#" onclick="show_mobile_modal_btn();end_audio_call();">
                              <i style="transform: rotate(90deg); color: #D70000;" class="fas fa-fw fa-phone-slash" style="color:#D70000;"></i>
                            </a>
                          </div>
                          <span>End the call</span>
                        </li>
                        {% endif %}
                      </ul>
                      <button class="menu-end-session-btn" type="button" style="background-color: #D70000 !important;" onclick="show_mobile_modal_btn();open_close_session_modal();">
                        {% if utm_source == "client" %}
                          End Session
                        {% else %}
                          Leave Session
                        {% endif %}
                      </button>
              </div>
          </div>
      </div>
  </div>
{% endif %}

<div class="modal fade show" id="close_session_message_modal" tabindex="-1" role="dialog"
    aria-labelledby="close_session_message_label" aria-modal="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content" style="border-radius: 20px; ">
            <div class="modal-header">
                <img alt="Logo" src="{{ cobrowse_io.access_token.get_client_logo }}" style="height:2em;">
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row" style="padding:0.5em;">
                    <div class="col-md-12 text-center">
                        <h5 class="modal-title" id="close_session_message_label"
                            style="color: #111111; font-weight: bold;">Session Ended
                        </h5>

                        <img alt="Logo" src="/files/{{ cobrowse_io.access_token.app_client_logo }}" style="height: 5em; margin-top: 10px;">
                    </div>
                    <div class="col-md-12" style="text-align: center;">
                        <br><br>
                        <h5 style="color: #043C6E;">{{ cobrowse_io.get_close_session_message | safe }}</h5>
                    </div>
                </div>
            </div>
            <div class="modal-footer" style="justify-content: center;">
                <button class="btn btn-primary center" type="button" data-dismiss="modal"
                    style="background-color: #B12A31; border-radius: 30px; border-color: #F89C30; padding: 6px 25px;">Close</button>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="revoke_self_access_modal" tabindex="-1" role="dialog" aria-labelledby="revoke_self_access_label">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Revoke self edit access?</h5>
        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row" style="padding:0.5em;">
            <p>Are you sure, you do not want to edit the form further at your self? On clicking "Revoke" below, edit access will be revoked from you.</p>
        </div>
      </div>
      <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Close</button>
          <button class="btn btn-danger" type="button" data-dismiss="modal" onclick="revoke_edit_form_access(this)">Revoke</button>
      </div>
    </div>
  </div>
</div>



<div class="modal fade" id="request_allow_session_another_device_modal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Do you want to continue this co-browsing session on another device?</h5>
        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row" style="padding:0.5em;">
            <p>Continuing this session on another device will terminate the existing session on this device.</p>
            <p><button class="btn btn-success" type="button" data-dismiss="modal" onclick="action_on_cobrowsing_another_device('Yes')">Yes</button> – I want to terminate this session and <b>continue on another device</b><p>
            <p><button class="btn btn-danger" type="button" data-dismiss="modal" onclick="action_on_cobrowsing_another_device('No')">No</button> - I want to continue the co-browsing session on <b>this device</b></p>
            <p style="display:none;">Remove device IP address: <span id="remove-device-ip-address"></span></p>
        </div>
      </div>
      <div class="modal-footer">
      </div>
    </div>
  </div>
</div>



<div class="modal fade" id="request_photo_capture_modal" tabindex="-1" role="dialog" aria-labelledby="request_photo_capture_label" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Request for Photo KYC</h5>
      </div>
      <div class="modal-body">
        <div class="row" style="padding:0.5em;">
            Please allow us to capture your photo for KYC.
        </div>
      </div>
      <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Close</button>
          <button class="btn btn-primary" type="button" onclick="proceed_to_photo_capture(this)" data-dismiss="modal">Proceed</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="capture_photo_activity_modal" tabindex="-1" role="dialog" aria-labelledby="capture_photo_activity_label" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Request for Photo KYC</h5>
        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">
          <div class="row" style="max-height: 400px; overflow-y: scroll;">
              <div class="col-md-12">
            <p>Click on the Start WebCam button.</p>
                  <p>
                      <button class="btn btn-info mt-2" onclick="startWebcamForPhotoCapture(this);" id="start-webcam-photo">Start WebCam</button>
                      <button class="btn btn-info mt-2" onclick="stopWebcamForPhotoCapture(this);" id="stop-webcam-photo">Stop WebCam</button>
                      <button class="btn btn-info mt-2" onclick="takeSnapshotPhotoCapture(this);" id="take-snapshot-photo">Capture my photo</button>
                  </p>
              </div>
              <div class="col-md-6">
                  <video onclick="takeSnapshotPhotoCapture(this);" id="photo-capture-video" autoplay style="width: 100%;height: 100%;"></video>
              </div>
              <div class="col-md-6">
                  <p style="padding-top: 0.5em;">Captured photo: </p>
                  <canvas id="photo-capture-canvas" style="width: 100%;" height="240"></canvas>
            </div>
        </div>
      </div>
      <div class="modal-footer">
          <button class="btn btn-success" type="button" onclick="submit_captured_photo(this)" data-dismiss="modal">Submit</button>
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

{% if utm_source == "client" %}

<div class="modal fade show" style="z-index: 2147483647!important;" id="close-session-modal-client" >
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h6 class="modal-title"> Feedback </h6>
      </div>
      <div class="modal-body">
        <label>
            <p>On a scale of 0-10, how likely are you to recommend Co-browse to a friend or colleague?</p>
            <div class="easyassist-tickmarks">
                <span onclick="rate_agent(this);" onmouseover="show_emoji_by_user_rating(this, 0)" onmouseout="easyassist_feedback_icon_color_change(this)" >0</span>
                <span onclick="rate_agent(this);" onmouseover="show_emoji_by_user_rating(this, 1)" onmouseout="easyassist_feedback_icon_color_change(this)" >1</span>
                <span onclick="rate_agent(this);" onmouseover="show_emoji_by_user_rating(this, 2)" onmouseout="easyassist_feedback_icon_color_change(this)" >2</span>
                <span onclick="rate_agent(this);" onmouseover="show_emoji_by_user_rating(this, 3)" onmouseout="easyassist_feedback_icon_color_change(this)" >3</span>
                <span onclick="rate_agent(this);" onmouseover="show_emoji_by_user_rating(this, 4)" onmouseout="easyassist_feedback_icon_color_change(this)" >4</span>
                <span onclick="rate_agent(this);" onmouseover="show_emoji_by_user_rating(this, 5)" onmouseout="easyassist_feedback_icon_color_change(this)" >5</span>
                <span onclick="rate_agent(this);" onmouseover="show_emoji_by_user_rating(this, 6)" onmouseout="easyassist_feedback_icon_color_change(this)" >6</span>
                <span onclick="rate_agent(this);" onmouseover="show_emoji_by_user_rating(this, 7)" onmouseout="easyassist_feedback_icon_color_change(this)" >7</span>
                <span onclick="rate_agent(this);" onmouseover="show_emoji_by_user_rating(this, 8)" onmouseout="easyassist_feedback_icon_color_change(this)" >8</span>
                <span onclick="rate_agent(this);" onmouseover="show_emoji_by_user_rating(this, 9)" onmouseout="easyassist_feedback_icon_color_change(this)" >9</span>
                <span onclick="rate_agent(this);" onmouseover="show_emoji_by_user_rating(this, 10)" onmouseout="easyassist_feedback_icon_color_change(this)" >10</span>
            </div>
        </label>
        <div class="row textarea-container">
          <p>Remarks</p>
            <div>
                <textarea class="form-control" placeholder="Enter remarks" id="close-session-remarks-client"></textarea>
                <label id="close-session-remarks-error"></label>
            </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" type="button" onclick="submit_client_feedback('false')">No Thanks</button>
        <a class="btn btn-primary" href="javascript:void(0)" style="background-color: {{floating_button_bg_color}}!important;" onclick="submit_client_feedback('true')">Submit</a>
      </div>
    </div>
  </div>
</div>

{% else %}

<div class="modal fade show" id="leave-session-modal" tabindex="-1" role="dialog" aria-labelledby="close_session_modal_label" aria-modal="true" style="z-index: 2147483647!important;">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header" style="justify-content: left;">
        <h5 class="modal-title" id="close_session_modal_label">Leave session</h5>
      </div>
      <div class="modal-body" style="padding: 1rem 2rem 0rem 2rem!important;">
        <div class="row">
          <div class="col-12 mt-1">
            <span class="modal-end-session-text">Select Leave session below if you want to leave this session.</span>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" type="button" data-dismiss="modal" id="end_session_cancel_btn">Cancel</button>
        <a class="btn btn-primary" href="javascript:void(0)" onclick="expert_leave_session()" style="width: 130px !important; background-color: {{floating_button_bg_color}}!important;">Leave Session</a>
      </div>
    </div>
  </div>
</div>

{% endif %}


<!-- Custom Keyboard Starts -->

  <div id="custom-keyboard" style="display:none;">

    <div id="root">

      <div class="simple-keyboard hg-theme-default hg-layout-default">

        <div class="hg-row">

          <div class="hg-button hg-standardBtn"><span>1</span></div>

          <div class="hg-button hg-standardBtn"><span>2</span></div>

          <div class="hg-button hg-standardBtn"><span>3</span></div>

          <div class="hg-button hg-standardBtn"><span>4</span></div>

          <div class="hg-button hg-standardBtn"><span>5</span></div>

          <div class="hg-button hg-standardBtn"><span>6</span></div>

          <div class="hg-button hg-standardBtn"><span>7</span></div>

          <div class="hg-button hg-standardBtn"><span>8</span></div>

          <div class="hg-button hg-standardBtn"><span>9</span></div>

          <div class="hg-button hg-standardBtn"><span>0</span></div>

          <div class="hg-button hg-functionBtn hg-button-bksp"><span>delete</span></div>

        </div>

        <div class="hg-row">

          <div class="hg-button hg-standardBtn"><span>q</span></div>

          <div class="hg-button hg-standardBtn"><span>w</span></div>

          <div class="hg-button hg-standardBtn"><span>e</span></div>

          <div class="hg-button hg-standardBtn"><span>r</span></div>

          <div class="hg-button hg-standardBtn"><span>t</span></div>

          <div class="hg-button hg-standardBtn"><span>y</span></div>

          <div class="hg-button hg-standardBtn"><span>u</span></div>

          <div class="hg-button hg-standardBtn"><span>i</span></div>

          <div class="hg-button hg-standardBtn"><span>o</span></div>

          <div class="hg-button hg-standardBtn"><span>p</span></div>

        </div>

        <div class="hg-row">

          <div class="hg-button hg-standardBtn"><span>a</span></div>

          <div class="hg-button hg-standardBtn"><span>s</span></div>

          <div class="hg-button hg-standardBtn"><span>d</span></div>

          <div class="hg-button hg-standardBtn"><span>f</span></div>

          <div class="hg-button hg-standardBtn"><span>g</span></div>

          <div class="hg-button hg-standardBtn"><span>h</span></div>

          <div class="hg-button hg-standardBtn"><span>j</span></div>

          <div class="hg-button hg-standardBtn"><span>k</span></div>

          <div class="hg-button hg-standardBtn"><span>l</span></div>

          <div class="hg-button hg-functionBtn hg-button-enter"><span>&lt; enter</span></div>

        </div>

        <div class="hg-row">

          <div class="hg-button hg-functionBtn hg-button-shift"><span>shift</span></div>

          <div class="hg-button hg-standardBtn"><span>z</span></div>

          <div class="hg-button hg-standardBtn"><span>x</span></div>

          <div class="hg-button hg-standardBtn"><span>c</span></div>

          <div class="hg-button hg-standardBtn"><span>v</span></div>

          <div class="hg-button hg-standardBtn"><span>b</span></div>

          <div class="hg-button hg-standardBtn"><span>n</span></div>

          <div class="hg-button hg-standardBtn"><span>m</span></div>

          <div class="hg-button hg-standardBtn hg-button-comma"><span>,</span></div>

          <div class="hg-button hg-standardBtn hg-button-dot"><span>.</span></div>

        </div>

        <div class="hg-row">

          <div class="hg-button hg-standardBtn hg-button-at"><span>@</span></div>

          <div class="hg-button hg-functionBtn hg-button-space"><span> </span></div>

          <div class="hg-button hg-standardBtn"><span>.com</span></div>

        </div>

      </div>

    </div>

  </div>


<!-- Custom Keyboard Ends -->

<script type="text/javascript" src="{% static 'EasyAssistApp/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<script type="text/javascript" src="{% static 'EasyAssistApp/vendor/jquery-easing/jquery.easing.min.js' %}"></script>
<script type="text/javascript" src="{% static 'EasyAssistApp/js/sb-admin-2.min.js' %}"></script>
<script type="text/javascript" src="{% static 'EasyAssistApp/js/crypto-js.min.js' %}"></script>
<script type="text/javascript" src="{% static 'EasyAssistApp/js/encrypt.js' %}"></script>
<script type="text/javascript" src="{% static 'EasyAssistApp/js/lz-string.min.js' %}"></script>
<script type="text/javascript" src="{% static 'EasyAssistApp/js/validations.js' %}"></script>
<!-- video element -->
<script type="text/javascript" src="{% static 'EasyAssistApp/js/getHTMLMediaElement.js' %}"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/RecordRTC/5.5.9/RecordRTC.js"></script>
<script type="text/javascript" src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
<script type="text/javascript" src="https://www.webrtc-experiment.com/DetectRTC.js"> </script>
<script type="text/javascript">

function get_url_vars() {
    var vars = {};
    var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m, key, value) {
        vars[key] = value;
    });
    return vars;
}

window.COBROWSE_SESSION_ID = "{{ session_id }}";
window.voip_session_id = "{{ session_id }}";
window.ALLOW_DEFAULT_COBROWSING = "{{ cobrowse_io.access_token.enable_inapp_cobrowsing }}";
window.ALLOW_SCREEN_SHARING = "{{ cobrowse_io.access_token.enable_app_screen_share_dialog }}";
window.MEET_ENDPOINT = "{{ cobrowse_io.access_token.meeting_host_url }}";
window.utm_source = get_url_vars()["utm"];
</script>
<script type="text/javascript" src="{% static 'EasyAssistApp/js/client.socket.js' %}?v=7.0"></script>
<script>
    (function() {
        var params = {},
            r = /([^&=]+)=?([^&]*)/g;

        function d(s) {
            return decodeURIComponent(s.replace(/\+/g, ' '));
        }

        var match, search = window.location.search;
        while (match = r.exec(search.substring(1))) {
            params[d(match[1])] = d(match[2]);

            if(d(match[2]) === 'true' || d(match[2]) === 'false') {
                params[d(match[1])] = d(match[2]) === 'true' ? true : false;
            }
        }

        window.params = params;
    })();

    function addStreamStopListener(stream, callback) {
        stream.addEventListener('ended', function() {
            callback();
            callback = function() {};
        }, false);
        stream.addEventListener('inactive', function() {
            callback();
            callback = function() {};
        }, false);
        stream.getTracks().forEach(function(track) {
            track.addEventListener('ended', function() {
                callback();
                callback = function() {};
            }, false);
            track.addEventListener('inactive', function() {
                callback();
                callback = function() {};
            }, false);
        });
    }
</script>
<script type="text/javascript">
  var jitsi_meet_api = null;
  window.CLIENT_IP_ADDRESS = "{{ client_ip_address }}";
  {% if app_cobrowsing_session_obj %}
      window.USER_ALIAS = "{{ app_cobrowsing_session_obj.user_alias }}";
  {% endif %}
  window.IS_MOBILE = "{{ is_mobile }}";
  window.ADMIN_AGENT_USERNAME = "{{ agent_name }}"

  function easyassistChangeTooltipShow(el){
    el.querySelector('label').style.display = "inline-block"
  }
  function easyassistChangeTooltipHide(el){
    el.querySelector('label').style.display = "none"
  }  
    $(document).ready(function() {
        $("#multiple-support-agent").multiselect({
          includeSelectAllOption: true,
        });
    });

  function show_easyassist_toast(message){
    var x = document.getElementById("easyassist-snackbar");
    x.innerHTML = message;
    x.className = "show";
    setTimeout(function(){ x.className = x.className.replace("show", ""); }, 5000);
  }

  function proceed_to_video_record(element){
      $("#start_video_record_modal").modal("show");
  }

  function reset_send_document_div(element){
      document.getElementById("upload-attachment-error-message").innerHTML = "";
      document.getElementById("button-send-attachment-to-agent").style.display = "none";
  }

  function open_file_explorer(element){
      document.getElementById("input-selected-document-client").click();
  }

  function hide_mobile_modal_btn() {
    document.getElementById("sidebar-mobile-modal-btn").style.display = "none";
  }

  function show_mobile_modal_btn() {
    try {
        document.getElementById("sidebar-mobile-modal-btn").style.display = "flex";
        $('#cobrowse-mobile-modal').modal('hide');
    } catch (err) {}
  }

  function hide_mobile_menu_modal() {
    $('#cobrowse-mobile-modal').modal('hide');
  }
  
  $("#request_photo_capture_modal").on("hidden.bs.modal", function() {
    show_mobile_modal_btn();
  });
  
  $("#request_video_record_modal").on("hidden.bs.modal", function() {
    show_mobile_modal_btn();
  });

</script>

{% if cobrowse_io.access_token.enable_app_screen_share_dialog or cobrowse_io.access_token.enable_app_audio_call_dialog or cobrowse_io.access_token.enable_app_video_conferencing_dialog %}

<script type="text/javascript" src="https://{{ cobrowse_io.access_token.meeting_host_url }}/external_api.js"></script>
<!-- <script type="text/javascript" src="{% static 'EasyAssistApp/js/custom-keyboard.js' %}"></script> -->
<script>
var mute_icon = document.getElementById("mute-client-audio-icon");
var unmute_icon = document.getElementById("unmute-client-audio-icon");
var end_call_icon = document.getElementById("end-client-audio-call-icon");
var restart_call_icon = document.getElementById("restart-client-audio-call-icon");

function start_audio_call() {

    domain = window.MEET_ENDPOINT;

    restart_call_icon.style.display = "none";

    var displayName = "{{ cobrowse_io.full_name }}";

    if (utm_source == "expert") {
      displayName = "Expert";
    }

    var toolbar_options = [];
    {% if cobrowse_io.access_token.enable_app_video_conferencing_dialog %} 
    toolbar_options = ['microphone', 'camera', 'profile', 'participants-pane', 'videoquality', 'tileview', 'fodeviceselection', 'e2ee', 'etherpad']
    {% elif cobrowse_io.access_token.enable_app_audio_call_dialog %} 
    toolbar_options = ['microphone', 'profile', 'participants-pane', 'tileview', 'fodeviceselection', 'e2ee', 'etherpad']
    {% elif cobrowse_io.access_token.enable_app_screen_share_dialog %} 
    toolbar_options = ['profile', 'participants-pane', 'tileview', 'fodeviceselection', 'e2ee', 'etherpad']
    {% endif %}

    options = {
        roomName: voip_session_id,
        configOverwrite: { startWithVideoMuted: true, startWithAudioMuted: true, disableDeepLinking: true },
        parentNode: document.querySelector('#audio-call-iframe'),
        userInfo: {
            displayName: displayName
        },
        interfaceConfigOverwrite: {
            TOOLBAR_BUTTONS: toolbar_options,
        }
    };

    jitsi_meet_api = new JitsiMeetExternalAPI(domain, options);

    jitsi_meet_api.executeCommand('subject', "Meeting");

    jitsi_meet_api.addEventListener("videoConferenceLeft", function(e) {
        //send_signal_based_on_type_to_agent("audio_call_ended");
        // window.location = "/easy-assist/session-closed/";
    });

    jitsi_meet_api.addEventListener("participantJoined", function(e) {
        show_easyassist_toast(e.displayName + " has joined the call");
    });

    jitsi_meet_api.addEventListener("participantLeft", function(e){
        //show_easyassist_toast("Agent has left the call");
    });

    iframe = jitsi_meet_api.getIFrame();

    end_call_icon.style.display = "";
    send_signal_based_on_type_to_agent("audio_call_connected");
    show_video_conferencing_window();
}

function mute_audio_call() {
    send_signal_based_on_type_to_agent("customer_audio_call_muted");
    jitsi_meet_api.executeCommand('toggleAudio');
}

function unmute_audio_call() {
    jitsi_meet_api.executeCommand('toggleAudio');
    send_signal_based_on_type_to_agent("customer_audio_call_unmuted");
}

function end_audio_call() {
    jitsi_meet_api.executeCommand("hangup");
    send_signal_based_on_type_to_agent("audio_call_ended");
    end_call_icon.style.display = "none";
    restart_call_icon.style.display = "";
    set_easyassist_current_session_local_storage_obj("easyassistHasLeftConference", "true");
    hide_video_conferencing_window();
    document.getElementById("client-video-call-icon").style.display = "none";
}

function restart_audio_call() {
    if (jitsi_meet_api != null) {
      jitsi_meet_api._parentNode.innerHTML = "";
    }
    set_easyassist_current_session_local_storage_obj("easyassistHasLeftConference", "false");
    start_audio_call();
}

var local_storage_object = get_easyassist_current_session_local_storage_obj();
var value;
if(local_storage_object != null && local_storage_object.hasOwnProperty("easyassistHasLeftConference")) {
  value = local_storage_object["easyassistHasLeftConference"];
}

if (!(value === "true")) {
  start_audio_call();
} else {
  restart_call_icon.style.display = "";
}

</script>
{% endif %}

</body>
</html>
