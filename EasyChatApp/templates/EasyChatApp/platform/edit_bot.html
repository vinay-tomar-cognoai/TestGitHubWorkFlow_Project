{% extends 'EasyChatApp/console.html' %}
{% block consolecontent %}
{% load static %}

<!-- <div class="row white center" style="padding:15em;display:none;" id="div-analytics-preloader">
    <div class="col s12">
      <h3>Moving to production...</h3>
      <h5>It might take some time</h5>
        <img src="{% static 'EasyChatApp/img/analytics-preloader.svg' %}">
    </div>
</div> -->

<link rel="stylesheet" type="text/css" href="{% static 'EasyChatApp/css/changes_placement.css' %}?v={% random_int 1 100 %}">
<link rel="stylesheet" type="text/css" href="{% static 'EasyChatApp/css/edit_bot.css' %}?v={% random_int 1 100 %}">
<link rel="stylesheet" type="text/css" href="{% static 'EasyChatApp/css/mailer_analytics.css' %}?v={% random_int 1 100 %}">
<link rel="stylesheet" type="text/css" href="{% static 'EasyChatApp/css/ion_range_slider.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'EasyChatApp/css/emoji_bot_response.css' %}?v={% random_int 1 100 %}">

<script src="{% static 'EasyChatApp/js/ion_range_slider.js' %}"></script>

<style type="text/css">
    .select2-dropdown{
        top: 0px !important;
    }
    {% if is_livechat_enabled %}
    #trigger_livechat_profanity_words_wrapper{
        display: table-row;
    }
    {% else %}
    #trigger_livechat_profanity_words_wrapper{
        display: none;
    }
    {% endif %}
</style>
{% csrf_token %}

<!-- Ameyo fusion select notification start  -->
<div class="fusion-select-notification-div">
    <p class="fusion-select-notification">
        <span class="alert-notification-svg">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 3C16.9707 3 21 7.0302 21 12C21 16.9698 16.9707 21 12 21C7.0293 21 3 16.9698 3 12C3 7.0302 7.0293 3 12 3ZM12.0016 14.7034C11.5052 14.7034 11.1028 15.1058 11.1028 15.6021C11.1028 16.0985 11.5052 16.5009 12.0016 16.5009C12.498 16.5009 12.9004 16.0985 12.9004 15.6021C12.9004 15.1058 12.498 14.7034 12.0016 14.7034ZM11.9997 7.5C11.5381 7.50017 11.1578 7.84774 11.106 8.29536L11.1 8.40032L11.1016 12.9011L11.1077 13.0061C11.1599 13.4537 11.5404 13.801 12.0019 13.8008C12.4635 13.8006 12.8438 13.4531 12.8956 13.0054L12.9016 12.9005L12.9 8.39968L12.8939 8.29472C12.8418 7.84713 12.4612 7.49983 11.9997 7.5Z" fill="#F5C828"/>
            </svg>
        </span>

            Make sure you configure App ID and Host Name so that the setup functions normally
       
        <span class="close-svg">
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1.19165 1L10.8082 11" stroke="#4D4D4D" stroke-width="1.73614" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.8083 1L1.19183 11" stroke="#4D4D4D" stroke-width="1.73614" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </span>
      
        
    </p>
</div>
<!-- Ameyo fusion select notification end  -->

<div id="edit_bot_page">

  <div class="row">

    <div class="col s12">

      <div class="row">   
        
        <!-- Bot Name and Main Settings -->
        <div id="bot_name_edit" class="col s12 gy-bot-settings">

            <div class="row">

                <div class="col l8 m12 s12">
                    <div class="gy-settings-heading">
                        <svg width="24" height="24" viewBox="0 0 109 135" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M86.1247 19.6686C85.505 19.6686 84.9247 19.9083 84.4853 20.3463C84.048 20.7844 83.8055 21.363 83.8055 21.9808C83.8055 22.5986 84.048 23.1772 84.4853 23.6152C84.9247 24.0512 85.505 24.293 86.1247 24.293C86.7443 24.293 87.3246 24.0512 87.764 23.6152C88.2013 23.1772 88.4438 22.5986 88.4438 21.9808C88.4438 21.363 88.2013 20.7844 87.764 20.3463C87.5494 20.1307 87.294 19.9598 87.0126 19.8435C86.7311 19.7271 86.4293 19.6677 86.1247 19.6686ZM94.6696 24.5347L93.3142 23.3797C93.3784 22.9871 93.4116 22.5862 93.4116 22.1874C93.4116 21.7886 93.3784 21.3857 93.3142 20.9952L94.6696 19.8401C94.772 19.7527 94.8453 19.6363 94.8797 19.5064C94.9141 19.3765 94.9081 19.2392 94.8623 19.1128L94.8437 19.059C94.4706 18.0191 93.9117 17.0551 93.194 16.2138L93.1567 16.1704C93.0695 16.0682 92.9533 15.9947 92.8235 15.9597C92.6936 15.9247 92.5562 15.9297 92.4292 15.9741L90.7463 16.5712C90.1246 16.0629 89.4324 15.6621 88.6821 15.3831L88.3567 13.6288C88.3322 13.4967 88.2679 13.3751 88.1724 13.2802C88.0769 13.1854 87.9547 13.1217 87.822 13.0978L87.7661 13.0874C86.6884 12.8932 85.5527 12.8932 84.475 13.0874L84.419 13.0978C84.2863 13.1217 84.1642 13.1854 84.0686 13.2802C83.9731 13.3751 83.9088 13.4967 83.8843 13.6288L83.5568 15.3914C82.8137 15.6725 82.1214 16.0724 81.5071 16.5754L79.8118 15.9741C79.6849 15.9293 79.5474 15.9241 79.4174 15.9592C79.2875 15.9942 79.1713 16.0679 79.0844 16.1704L79.0471 16.2138C78.3306 17.056 77.7718 18.0197 77.3974 19.059L77.3787 19.1128C77.2854 19.3711 77.3621 19.6603 77.5715 19.8401L78.9434 21.0076C78.8792 21.396 78.8481 21.7928 78.8481 22.1854C78.8481 22.5821 78.8792 22.9788 78.9434 23.3631L77.5756 24.5306C77.4732 24.618 77.3999 24.7344 77.3655 24.8643C77.3311 24.9942 77.3371 25.1315 77.3829 25.2579L77.4015 25.3117C77.7766 26.351 78.33 27.3118 79.0512 28.157L79.0885 28.2003C79.1757 28.3025 79.2918 28.376 79.4217 28.411C79.5516 28.4461 79.689 28.441 79.816 28.3966L81.5113 27.7954C82.1289 28.3016 82.817 28.7025 83.561 28.9793L83.8884 30.7419C83.913 30.874 83.9773 30.9956 84.0728 31.0905C84.1683 31.1853 84.2905 31.249 84.4231 31.2729L84.4791 31.2833C85.5674 31.4785 86.6819 31.4785 87.7702 31.2833L87.8262 31.2729C87.9588 31.249 88.081 31.1853 88.1765 31.0905C88.272 30.9956 88.3363 30.874 88.3609 30.7419L88.6863 28.9876C89.4365 28.7066 90.1287 28.3078 90.7505 27.7995L92.4334 28.3966C92.5603 28.4414 92.6978 28.4466 92.8278 28.4115C92.9577 28.3765 93.0739 28.3028 93.1608 28.2003L93.1981 28.157C93.9193 27.3077 94.4727 26.351 94.8478 25.3117L94.8665 25.2579C94.9556 25.0017 94.8789 24.7145 94.6696 24.5347ZM86.1247 25.6133C84.1123 25.6133 82.4812 23.9872 82.4812 21.9808C82.4812 19.9744 84.1123 18.3482 86.1247 18.3482C88.1371 18.3482 89.7681 19.9744 89.7681 21.9808C89.7681 23.9872 88.1371 25.6133 86.1247 25.6133Z" fill="#2543D7"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M57.9516 22.9077L53.1809 22.907L53.1856 18.3894L53.1443 17.7756C52.8448 15.5676 50.9522 13.866 48.662 13.866L48.0483 13.9071C45.8404 14.2067 44.1386 16.0994 44.1386 18.3894L44.1338 22.907L23.0268 22.91C15.5318 22.91 9.45606 28.9858 9.45606 36.4806V63.6496C9.45606 71.1445 15.5318 77.2203 23.0268 77.2203H74.2932C81.7883 77.2203 87.8637 71.1445 87.8637 63.6496V49.8644C87.2874 49.8996 86.7064 49.9174 86.1213 49.9174C70.9469 49.9174 58.5724 37.9296 57.9516 22.9077ZM83.3594 86.2391C90.8531 86.2391 96.9299 92.3145 96.9299 99.8097V105.269C96.9299 111.865 94.0499 118.132 89.0445 122.429C79.6024 130.535 66.0908 134.498 48.6602 134.498C31.2324 134.498 17.7293 130.536 8.3029 122.432C3.30525 118.137 0.430291 111.873 0.430291 105.282V99.8097C0.430291 92.3145 6.50608 86.2391 14.001 86.2391H83.3594ZM35.0851 41.0042C30.9237 41.0042 27.5502 44.3777 27.5502 48.5391C27.5502 52.7006 30.9237 56.0741 35.0851 56.0741C39.2466 56.0741 42.6201 52.7006 42.6201 48.5391C42.6201 44.3777 39.2466 41.0042 35.0851 41.0042ZM62.1826 41.0042C58.0212 41.0042 54.6477 44.3777 54.6477 48.5391C54.6477 52.7006 58.0212 56.0741 62.1826 56.0741C66.3441 56.0741 69.7183 52.7006 69.7183 48.5391C69.7183 44.3777 66.3441 41.0042 62.1826 41.0042ZM48.6599 70.367C52.8676 70.367 56.2785 66.9561 56.2785 62.7484H41.0413C41.0413 66.9561 44.4522 70.367 48.6599 70.367Z" fill="#2543D7"/>
                            <circle cx="86.1213" cy="22.6477" r="22.6477" fill="#2543D7"/>
                            <path d="M86.1261 18.6615C85.2455 18.6615 84.4209 18.9971 83.7965 19.6104C83.1751 20.2236 82.8305 21.0336 82.8305 21.8986C82.8305 22.7635 83.1751 23.5735 83.7965 24.1868C84.4209 24.7972 85.2455 25.1356 86.1261 25.1356C87.0067 25.1356 87.8313 24.7972 88.4557 24.1868C89.0771 23.5735 89.4217 22.7635 89.4217 21.8986C89.4217 21.0336 89.0771 20.2236 88.4557 19.6104C88.1507 19.3085 87.7878 19.0692 87.3878 18.9063C86.9879 18.7434 86.559 18.6602 86.1261 18.6615ZM98.2689 25.4741L96.3428 23.857C96.4341 23.3074 96.4812 22.7462 96.4812 22.1879C96.4812 21.6296 96.4341 21.0655 96.3428 20.5187L98.2689 18.9016C98.4144 18.7793 98.5185 18.6163 98.5674 18.4344C98.6164 18.2525 98.6078 18.0603 98.5428 17.8834L98.5163 17.8081C97.9862 16.3522 97.1919 15.0026 96.1719 13.8247L96.1189 13.764C95.9951 13.6209 95.83 13.5181 95.6455 13.4691C95.4609 13.42 95.2656 13.427 95.0852 13.4892L92.6937 14.3252C91.8102 13.6136 90.8265 13.0524 89.7604 12.6618L89.298 10.2058C89.2631 10.0208 89.1717 9.85059 89.036 9.71779C88.9003 9.585 88.7267 9.49591 88.5382 9.46237L88.4586 9.4479C86.9272 9.17598 85.3132 9.17598 83.7818 9.4479L83.7022 9.46237C83.5137 9.49591 83.3401 9.585 83.2044 9.71779C83.0687 9.85059 82.9773 10.0208 82.9424 10.2058L82.4771 12.6734C81.421 13.067 80.4373 13.6269 79.5643 14.331L77.1552 13.4892C76.9749 13.4265 76.7794 13.4192 76.5947 13.4683C76.4101 13.5174 76.245 13.6205 76.1215 13.764L76.0685 13.8247C75.0503 15.0038 74.2562 16.3531 73.7241 17.8081L73.6976 17.8834C73.5651 18.245 73.6741 18.65 73.9715 18.9016L75.9212 20.5361C75.8299 21.0799 75.7857 21.6353 75.7857 22.185C75.7857 22.7404 75.8299 23.2958 75.9212 23.8339L73.9774 25.4683C73.8319 25.5907 73.7278 25.7536 73.6789 25.9355C73.6299 26.1174 73.6385 26.3096 73.7035 26.4866L73.73 26.5618C74.2631 28.0169 75.0494 29.3621 76.0744 30.5452L76.1274 30.606C76.2512 30.749 76.4163 30.8518 76.6008 30.9009C76.7854 30.95 76.9807 30.9429 77.1611 30.8808L79.5702 30.039C80.4479 30.7477 81.4257 31.3089 82.483 31.6966L82.9483 34.1641C82.9832 34.3491 83.0746 34.5194 83.2103 34.6522C83.346 34.7849 83.5196 34.874 83.7081 34.9076L83.7877 34.922C85.3342 35.1954 86.918 35.1954 88.4645 34.922L88.544 34.9076C88.7325 34.874 88.9062 34.7849 89.0419 34.6522C89.1776 34.5194 89.269 34.3491 89.3039 34.1641L89.7663 31.7081C90.8324 31.3147 91.8161 30.7564 92.6996 30.0448L95.0911 30.8808C95.2714 30.9434 95.4669 30.9507 95.6515 30.9016C95.8362 30.8525 96.0013 30.7494 96.1248 30.606L96.1778 30.5452C97.2027 29.3563 97.9891 28.0169 98.5222 26.5618L98.5487 26.4866C98.6753 26.1279 98.5663 25.7258 98.2689 25.4741ZM86.1261 26.9842C83.2664 26.9842 80.9485 24.7075 80.9485 21.8986C80.9485 19.0897 83.2664 16.813 86.1261 16.813C88.9858 16.813 91.3036 19.0897 91.3036 21.8986C91.3036 24.7075 88.9858 26.9842 86.1261 26.9842Z" fill="white"/>
                        </svg>    
                        &nbsp;
                        Bot Level Settings
                    </div>  
                    <table style="table-layout: fixed;word-wrap: break-word;">
                        <tbody>
                            {% if selected_language == "en" %}
                            
                            <tr>
                                <td>Bot Name <sup><i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="Min - 1, Max - 18 characters allowed">help</i></sup></td>
                                <td>
                                    <input class="show-char-count" id="bot_name_field" type="text" maxlength="18" value="{{ bot_obj.name }}">
                                    <div class="easychat-char-count">
                                        <p id="bot_name_field-char-count">{{ bot_obj.name | length}}</p>
                                        <p>/18</p>
                                    </div>
                                </td>
                            </tr>

                            <tr>
                                <td>Go-Live Date</td>
                                <td>
                                    <input type="date" id="easychat-go-live-date" min="{{ bot_obj.created_datetime|date:'Y-m-d' }}" value="{{ go_live_date|date:'Y-m-d' }}">
                                </td>
                            </tr>
                            {% endif %}

                                {% if supported_languages|length != 1 %}

                                <tr>
                                    <td>Edit Response Language Settings  <sup><i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="Select Language for which you want to configure default bot responses for">help</i></sup></td>
                                    <td>
                                        <div class="col s4" style="padding-right: 1rem;padding-left: 0px;">
                                            <div id="edit-bot-custom-drp-down" class="easychat-console-custom-dropdown">
                                                <div class="easychat-console-select-drop"  style="display: none;">
                                                {% for language in supported_languages %}
                                                    <span data-value="{{language.lang}}">{{language.name_in_english}}</span>
                                                {% endfor %}
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                {% endif %}
                            {% if selected_language == "en" %}
                            <tr>
                                <td>Speak out Bot Response</td>
                                <td>
                                    {% if bot_obj.is_text_to_speech_required %}
                                      <label>                        
                                          <input type="checkbox" id="is-text-to-speech-required" checked/>
                                          <span></span>
                                      </label>
                                    {% else %}
                                      <label>                        
                                          <input type="checkbox" id="is-text-to-speech-required"/>
                                          <span></span>
                                      </label>
                                    {% endif %}                                    
                                </td>
                            </tr>
                            <tr>
                                <td>Mask Confidential Information</td>
                                <td>
                                    {% if mask_confidential_info %}
                                        <label>
                                            <input type="checkbox" id="checkbox-mask-confidential-info" checked/>
                                            <span></span>
                                        </label>
                                    {% else %}
                                        <label>
                                            <input type="checkbox" id="checkbox-mask-confidential-info"/>
                                            <span></span>
                                        </label>
                                    {% endif %}
                                </td>                                
                            </tr>
                            <tr>
                                <td>Include Synonyms in variation generation <sup><b>BETA</b></sup> </td>
                                <td>
                                    {% if is_synonyms_included_in_paraphrase %}
                                        <label>
                                            <input type="checkbox" id="checkbox-synonyms-included-variation-generation" checked/>
                                            <span></span>
                                        </label>
                                    {% else %}
                                        <label>
                                            <input type="checkbox" id="checkbox-synonyms-included-variation-generation"/>
                                            <span></span>
                                        </label>
                                    {% endif %}
                                </td>                                
                            </tr>
                            {% endif %}
                           
                            {% if selected_language == "en" %}
                            <tr>
                                <td>Enable Intent-level Feedback  <sup><i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="Collect Feedback for each intent that you create">help</i></sup></td>
                                <td>
                                    {% if is_feedback_required %}
                                        <label>
                                            <input type="checkbox" id="checkbox-bot-feedback-required" checked/>
                                            <span></span>
                                        </label>
                                    {% else %}
                                        <label>
                                            <input type="checkbox" id="checkbox-bot-feedback-required"/>
                                            <span></span>
                                        </label>
                                    {% endif %}
                                </td>                                
                            </tr>
                            <tr>
                                <td>Enable Audio Notification For New Messages <sup><i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="This will enable audio notification for the user">help</i></sup></td>
                                <td>
                                    {% if bot_obj.enable_audio_notification %}
                                    <label>                        
                                        <input type="checkbox" id="is-audio-notification-enabled" checked/>
                                        <span></span>
                                    </label>
                                    {% else %}
                                    <label>                        
                                        <input type="checkbox" id="is-audio-notification-enabled"/>
                                        <span></span>
                                    </label>
                                    {% endif %}                                    
                                </td>
                            </tr>
                            {% endif %}
                            {% if selected_language == "en" %}
                                <tr>
                                    <td>Enable Bot Inactivity detection <sup><i class="material-icons inline-icon tooltipped"  data-tooltip="Enable auto responses if bot inactivity is detected">help</i></sup>
                                    {% if bot_inactivity_detection_enabled %}
                                        <button class="bot-inactivity-config-trigger" style="box-shadow:0 0 black;background: transparent;margin:0em 0em -1em -1em"><i class="material-icons inline-icon">open_in_new</i></button>
                                    {% else %}
                                        <button class="bot-inactivity-config-trigger" style="box-shadow:0 0 black;background: transparent;margin:0em 0em -1em -1em;display: none;"><i class="material-icons inline-icon">open_in_new</i></button>
                                    {% endif %}
                                    </td>
                                    <td>
                                        {% if bot_inactivity_detection_enabled %}
                                            <label>
                                                <input type="checkbox" id="checkbox-bot-inactivity-enabled" checked/>
                                                <span></span>
                                            </label>
                                        {% else %}
                                            <label>
                                                <input type="checkbox" id="checkbox-bot-inactivity-enabled"/>
                                                <span></span>
                                            </label>
                                        {% endif %}
                                    </td>                                
                                </tr>
                            {% else %}
                                {% if bot_inactivity_detection_enabled %}
                                    <tr>
                                        <td>
                                            Bot Inactivity Message
                                        </td>
                                        <td>
                                            <textarea  class="configuration-textarea-element" oninput="auto_grow_textarea(this)" onpaste="auto_grow_textarea(this)"  id="bot-inactivity-msg" >{{bot_inactivity_msg}}</textarea>
                                        </td> 
                                    </tr>
                                {% endif %}
                                <tr style="display: none;">
                                    <td>
                                        {% if bot_inactivity_detection_enabled %}
                                            <label>
                                                <input type="checkbox" id="checkbox-bot-inactivity-enabled" checked/>
                                                <span></span>
                                            </label>
                                        {% else %}
                                            <label>
                                                <input type="checkbox" id="checkbox-bot-inactivity-enabled"/>
                                                <span></span>
                                            </label>
                                        {% endif %}
                                    </td>
                                </tr>   
                            {% endif %}
                            {% if selected_language == "en" %}
                            <!-- This option is hidden because it was not being used anywhere -->
                            <tr style="display: none;">
                                <td>Set time interval for Session Expiration (in min) <sup><i class="material-icons inline-icon tooltipped"  data-tooltip="The cookies being stored will expire in the set time interval for all the User IDs">help</i></sup></td>
                                <td>
                                    <input type="number" id="easychat-userid-timeout" value={{bot_obj.bot_userid_cookie_timeout}}>
                                </td>
                            </tr>
                            <tr>
                                <td>Show Brand name <sup><i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="Enable 'Powered by Cogno AI' at the bottom of the bot">help</i></sup></td>
                                <td>   
                                    <label>
                                        {% if easychat_config_obj.disable_show_brand_name %}
                                            <input type="checkbox"  disabled id ="checkbox-show-brand-name" />
                                        {% else %}
                                            {% if bot_obj.show_brand_name %}
                                            <input type="checkbox" id ="checkbox-show-brand-name" checked />
                                            {% else %}
                                            <input type="checkbox" id ="checkbox-show-brand-name" />
                                            {% endif %}
                                            
                                        {% endif %}
                                    <span></span>
                                </label>
                                </td>
                            </tr>
                            {% endif %}
                            {% if selected_language == "en" %}
                                <tr>
                                    <td>Enable Bot Response Delay Detection
                                    {% if bot_obj.bot_response_delay_allowed %}
                                        <button class="bot-response-delay-config-trigger" style="box-shadow:0 0 black;background: transparent;margin:0em;"><i class="material-icons inline-icon">open_in_new</i></button>
                                    {% else %}
                                        <button class="bot-response-delay-config-trigger" style="box-shadow:0 0 black;background: transparent;display: none;margin: 0em"><i class="material-icons inline-icon">open_in_new</i></button>
                                    {% endif %}
                                    </td>
                                    <td>
                                        {% if bot_obj.bot_response_delay_allowed %}
                                            <label>
                                                <input type="checkbox" id="checkbox-bot-response-delay-enabled" checked/>
                                                <span></span>
                                            </label>
                                        {% else %}
                                            <label>
                                                <input type="checkbox" id="checkbox-bot-response-delay-enabled"/>
                                                <span></span>
                                            </label>
                                        {% endif %}
                                    </td>                                
                                </tr>
                            {% else %}
                                {% if bot_obj.bot_response_delay_allowed %}
                                    <tr>
                                        <td>
                                            Bot Response Delay Message
                                        </td>
                                        <td>
                                            <textarea class="configuration-textarea-element" oninput="auto_grow_textarea(this)" onpaste="auto_grow_textarea(this)" id="bot-response-delay-msg" >{{ bot_response_delay_message }}</textarea>
                                        </td>
                                    </tr>
                                {% endif %}
                                    <tr style="display: none;">
                                        <td>
                                        {% if bot_obj.bot_response_delay_allowed %}
                                            <label>
                                                <input type="checkbox" id="checkbox-bot-response-delay-enabled" checked/>
                                                <span></span>
                                            </label>
                                        {% else %}
                                            <label>
                                                <input type="checkbox" id="checkbox-bot-response-delay-enabled"/>
                                                <span></span>
                                            </label>
                                        {% endif %}
                                    </td>
                                    </tr>  
                            {% endif %}
                            {% if selected_language == "en" %}
                            <tr>
                                <td>Max file size allowed (in MB) 
                                </td>
                                <td>
                                    <input type="number" id="easychat-attachment-max-file-size" value={{bot_obj.max_file_size_allowed}} min=5>
                                </td>
                            </tr>
                            {% endif %}
                            {% if selected_language == "en" %}
                            <tr>
                                <td>Bot level advanced NLP configurations <sup><i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="Enabling this setting would add an advanced way of configuring threshold score at a bot level.">help</i></sup></td>
                                <td>
                                    <label>
                                        {% if bot_obj.show_intent_threshold_functionality %}
                                        <input type="checkbox" id="checkbox_bot_level_advance_nlp_cb" checked>
                                        {% else %}
                                        <input type="checkbox" id="checkbox_bot_level_advance_nlp_cb">
                                        {% endif %}
                                        <span></span>
                                    </label>
                                </td>
                            </tr>
                            {% if bot_obj.show_intent_threshold_functionality %}
                            <tr id="easychat_threshold_value_range_container" style="display: table-row;">
                            {% else %}
                            <tr id="easychat_threshold_value_range_container" style="display: none;">
                            {% endif %}
                                <td>Threshold <sup><i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="This is a score for setting bot confidence in suggesting intents against customer queries.">help</i></sup></td>
                                <td>
                                    <div class="easychat-bot-range-slider-area">
                                        <input type="range" id="easychat-bot-intent-threshold" min="0" max="1" step="0.01" value="{{ bot_obj.intent_score_threshold }}">
                                    </div>
                                    <div class="easychat-bot-level-nlp-threshold-warning-div">
                                        <span>
                                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2ZM10 3C6.13401 3 3 6.13401 3 10C3 13.866 6.13401 17 10 17C13.866 17 17 13.866 17 10C17 6.13401 13.866 3 10 3ZM10 12.5C10.4142 12.5 10.75 12.8358 10.75 13.25C10.75 13.6642 10.4142 14 10 14C9.58579 14 9.25 13.6642 9.25 13.25C9.25 12.8358 9.58579 12.5 10 12.5ZM10 6C10.2455 6 10.4496 6.17688 10.4919 6.41012L10.5 6.5V11C10.5 11.2761 10.2761 11.5 10 11.5C9.75454 11.5 9.55039 11.3231 9.50806 11.0899L9.5 11V6.5C9.5 6.22386 9.72386 6 10 6Z" fill="#F9600A"/>
                                            </svg>
                                        </span>
                                        <span>
                                            This is an advanced NLP configuration, setting the threshold score to too high or too low would result in improper functioning of the bot recommendation system. 
                                        </span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>Intent level advanced NLP configurations <sup><i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="Enabling this setting would add an advanced way of configuring Intents which would be accessible inside all intents">help</i></sup></td>
                                <td>
                                    <label>
                                        {% if bot_obj.enable_intent_level_nlp %}
                                        <input type="checkbox" id="easychat_intent_level_advance_nlp" checked>
                                        {% else %}
                                        <input type="checkbox" id="easychat_intent_level_advance_nlp">
                                        {% endif %}
                                        <span></span>
                                    </label>
                                </td>
                            </tr>
                            {% endif %}                            
                            </tbody>
                            </table>
                            {% if selected_language == "en" %}
                            <div class="gy-settings-heading gy-margin-top-50">
                                <svg width="22" height="22" viewBox="0 0 22 22" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M20.1667 7.8905V15.354C20.1667 16.9426 18.9233 18.2408 17.3566 18.3285L17.1875 18.3332H4.81251C3.2239 18.3332 1.9257 17.0898 1.83806 15.5231L1.83334 15.354V7.8905L10.681 12.5255C10.8808 12.6302 11.1192 12.6302 11.319 12.5255L20.1667 7.8905ZM4.81251 3.6665H17.1875C18.7319 3.6665 20.0017 4.84159 20.1518 6.34642L11 11.1404L1.84819 6.34642C1.99272 4.89732 3.17564 3.754 4.64209 3.6713L4.81251 3.6665H17.1875H4.81251Z"
                                        fill="#2755CB" />
                                </svg>


                                &nbsp;
                                Email Settings
                            </div>
                            <table style="table-layout: fixed;word-wrap: break-word;">
                                <tbody>

                            <tr>
                                <td>Enable Email Notifications</td>
                                <td>
                                    {% if is_email_notifiication_enabled %}
                                        <label>
                                            <input type="checkbox" id="checkbox-is-email-notifiication-enabled" checked/>
                                            <span></span>
                                        </label>
                                    {% else %}
                                        <label>        
                                            <input type="checkbox" id="checkbox-is-email-notifiication-enabled"/>
                                            <span></span>
                                        </label>
                                    {% endif %}
                                </td>
                                <td style="padding-left: 0px !important;">
                                {% if is_email_notifiication_enabled %} 
                                        <a class="right waves-effect btn easychat-button" id="edit-email-config" href="javascript:void(0)" onclick="set_profile_modal()" style="display: block;" amino-styles="background: #2755cb !important;">Configure
                                                                        Notifications</a>
                                {% else %}     
                                    <a class="right waves-effect btn easychat-button" id="edit-email-config" href="javascript:void(0)" onclick="set_profile_modal()" style="display: none;" amino-styles="background: #2755cb !important;">Configure
                                                                        Notifications</a>
                                {% endif %}                                
                                </td>  
                            </tr>
                            <tr>
                                <td>Enable Emails for API Failure</td>
                                <td>
                                    {% if bot_obj.is_api_fail_email_notifiication_enabled %}
                                        <label>
                                            <input type="checkbox" id="checkbox-is-api-fail-email-notifiication-enabled" checked/>
                                            <span></span>
                                        </label>
                                    {% else %}
                                        <label>        
                                            <input type="checkbox" id="checkbox-is-api-fail-email-notifiication-enabled"/>
                                            <span></span>
                                        </label>
                                    {% endif %}
                                </td>          
                                <td style="padding-left: 0px !important;">
                                {% if bot_obj.is_api_fail_email_notifiication_enabled %}    
                                        <a class="right waves-effect btn easychat-button modal-trigger" id="edit-api-fail-email-config" target="_blank" href="#modal-api-fail-email-config" style="display: block;" amino-styles="background: #2755cb !important;">Configure API Fail Email</a>
                                {% else %}  
                                        <a class="right waves-effect btn easychat-button modal-trigger" target="_blank" id="edit-api-fail-email-config" href="#modal-api-fail-email-config" style="display: none;" amino-styles="background: #2755cb !important;">Configure API Fail Email</a>
                                {% endif %}                      
                                </td>
                            </tr>
                            <tr>
                                <td>Enable Bot Usage Alert <sup><i class="material-icons inline-icon tooltipped"  data-tooltip="Enable email notifications if bot usage does not meet the expected requirements.">help</i></sup></td>
                                <td>
                                    {% if bot_obj.is_analytics_monitoring_enabled %}
                                        <label>
                                            <input type="checkbox" id="checkbox-is-analytics-monitoring-enabled" checked/>
                                            <span></span>
                                        </label>
                                    {% else %}
                                        <label>        
                                            <input type="checkbox" id="checkbox-is-analytics-monitoring-enabled"/>
                                            <span></span>
                                        </label>
                                    {% endif %}
                                </td>
                                <td style="padding-left: 0px !important;">
                                {% if bot_obj.is_analytics_monitoring_enabled %} 
                                    <a class="right waves-effect btn easychat-button modal-trigger" id="edit-analytics-monitoring-config" target="_blank" href="#modal-analytics-monitoring-config" style="display: block;" amino-styles="background: #2755cb !important;">Configure Monitoring</a>
                                {% else %}  
                                    <a class="right waves-effect btn easychat-button modal-trigger" target="_blank" id="edit-analytics-monitoring-config" href="#modal-analytics-monitoring-config" style="display: none;" amino-styles="background: #2755cb !important;">Configure Monitoring</a>
                                {% endif %}
                                </td>
                            </tr>

                            <tr>
                                <td>Enable Email For Bot Break</td>
                                <td>
                                    
                                        <label>  
                                        {% if bot_info_obj.is_bot_break_email_notification_enabled %}      
                                            <input type="checkbox" id="checkbox-is-email-bot-break-enable" checked/>
                                        {% else %}
                                            <input type="checkbox" id="checkbox-is-email-bot-break-enable"/>
                                        {% endif %}
                                            <span></span>
                                        </label>
                                    
                                </td>
                                <td style="padding-left: 0px !important;">
                                  {% if bot_info_obj.is_bot_break_email_notification_enabled %}
                                        <a class="right waves-effect btn easychat-button modal-trigger" target="_blank" id="edit-bot-break-email-config" href="#modal-configure-bot-break-email" style="display: block;"  amino-styles="background: #2755cb !important;">Configure Bot Break Email</a>
                                  {% else %}
                                        <a class="right waves-effect btn easychat-button modal-trigger" target="_blank" id="edit-bot-break-email-config" href="#modal-configure-bot-break-email" style="display: none;"  amino-styles="background: #2755cb !important;">Configure Bot Break Email</a>
                                  {% endif %}
                                    
                                
                                </td>
                            </tr>
                                </tbody>
                            </table>
                            
                            
                            <div class="gy-settings-heading gy-margin-top-50">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M13.3867 3.42427L19.7519 7.66772C20.2115 7.97407 20.3356 8.59494 20.0293 9.05447C19.956 9.16432 19.8618 9.25858 19.7519 9.33182L13.3867 13.5753C12.547 14.1351 11.453 14.1351 10.6132 13.5753L4.24807 9.33182C3.78854 9.02547 3.66437 8.4046 3.97072 7.94507C4.04396 7.83522 4.13822 7.74095 4.24807 7.66772L10.6132 3.42427C11.453 2.86444 12.547 2.86444 13.3867 3.42427ZM20.0256 12.1917C19.8772 12.4291 19.6806 12.6327 19.4486 12.7894L13.3987 16.8731C12.5535 17.4436 11.4465 17.4436 10.6013 16.8731L4.55142 12.7894C3.79043 12.2757 3.49533 11.3301 3.77229 10.4998L10.6132 15.0593C11.4005 15.5842 12.4112 15.617 13.2264 15.1578L13.3867 15.0593L20.2271 10.4993C20.4088 11.0454 20.3545 11.6655 20.0256 12.1917ZM20.0256 15.4417C19.8772 15.6791 19.6806 15.8827 19.4486 16.0394L13.3987 20.1231C12.5535 20.6936 11.4465 20.6936 10.6013 20.1231L4.55142 16.0394C3.79043 15.5257 3.49533 14.5801 3.77229 13.7498L10.6132 18.3093C11.4005 18.8342 12.4112 18.867 13.2264 18.4078L13.3867 18.3093L20.2271 13.7493C20.4088 14.2954 20.3545 14.9155 20.0256 15.4417Z"
                                        fill="#2755CB" />
                                </svg>

                                &nbsp;
                                Solutions Settings
                            </div>
                            <table style="table-layout: fixed;word-wrap: break-word;">
                                <tbody>
                            {% if is_easy_assist_admin %}
                                <tr>
                                    <td>Enable Cobrowsing Functionality</td>
                                    <td>
                                        <label>
                                            {% if is_easy_assist_allowed %}
                                                <input type="checkbox" id="easychat-checkbox-easyassist-enable" checked/>
                                            {% else %}
                                                <input type="checkbox" id="easychat-checkbox-easyassist-enable"/>
                                            {% endif %}
                                            <span></span>
                                        </label>
                                    </td>
                                </tr>
                            {% endif %}
                            {% if is_easy_search_user %}
                                <tr>
                                    <td>Enable EasySearch Functionality</td>
                                    <td>
                                        <label>
                                            {% if is_easy_search_allowed %}
                                                <input type="checkbox" id="easychat-checkbox-easysearch-enable" checked/>
                                            {% else %}
                                                <input type="checkbox" id="easychat-checkbox-easysearch-enable"/>
                                            {% endif %}
                                            <span></span>
                                        </label>
                                    </td>
                                </tr>
                            {% endif %}
                            
                            <tr>
                                <td>Enable PDF Searcher<sup><i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="Include Searching functionality from a pdf file..">help</i></sup></td>
                                <td>
                                    <label>
                                        {% if is_pdf_search_allowed %}
                                            <input type="checkbox" id="easychat-checkbox-pdfsearch-enable" checked/>
                                        {% else %}
                                            <input type="checkbox" id="easychat-checkbox-pdfsearch-enable"/>
                                        {% endif %}
                                        <span></span>
                                    </label>
                                </td>
                            </tr>

                            {% if is_livechat_manager %}
                                <tr>
                                    <td>Enable LiveChat Functionality</td>
                                    <td>
                                        <label>
                                            {% if is_livechat_enabled %}
                                                <input onchange="show_developer_form()" type="checkbox" id="easychat-checkbox-livechat-enable" checked/ >
                                            {% else %}
                                                <input onchange="show_developer_form()" type="checkbox" id="easychat-checkbox-livechat-enable"/>
                                            {% endif %}
                                            <span></span>
                                        </label>
                                    </td>
                                </tr>

                                <tr id="choose-livechat-provider-row" {% if not is_livechat_enabled %} style="display: none;" {% endif %}>
                                    <td>
                                        Choose LiveChat Provider:
                                    </td>
                                    <td>
                                        <div class="livechat-provider-select-configure-div">
                                            <select id="livechat-provider-select" class="">
                                               <option value="cogno_livechat" {% if bot_info_obj.livechat_provider == "cogno_livechat" %} selected {% endif %}>Cogno LiveChat</option>
                                               <option value="ameyo_fusion" {% if bot_info_obj.livechat_provider == "ameyo_fusion" %} selected {% endif %}>Ameyo Fusion</option>
                                            </select>
    
                                            <div class="livechat-provider-configure-div">
                                                <a class="right waves-effect btn easychat-button livechat-provider-configure-button" id="livechat-provider-configure-btn" href="/chat/fusion-editor/?bot_pk={{bot_obj.pk}}&editor_id=1" {% if bot_info_obj.livechat_provider != "ameyo_fusion" %} style="display: none;" {% endif %}>
                                                    Configure
                                                </a>
                                            </div>
                                           
                                        </div>
                                      
                                    </td>
                                </tr>

                                {% if is_livechat_enabled %}
                                <tr id="autosuggest-livechat-complex-queries-row">
                                    <td>Autosuggest LiveChat for Complex Queries
                                        <sup><i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="Suggest Livechat connect when the user query exceeds the word limit.">help</i></sup>
                                    </td>
                                    <td>
                                        <label>
                                                {% if is_trigger_livechat_enabled %}
                                                <input type="checkbox" id="autosuggest-livechat-complex-queries" checked/>
                                                {% else %}
                                                <input type="checkbox" id="autosuggest-livechat-complex-queries"/>
                                                {% endif %}
                                            
                                            <span></span>
                                        </label>
                                    </td>
                                </tr>
                                {% else %}
                                <tr id="autosuggest-livechat-complex-queries-row" style="display: none;">
                                    <td>Autosuggest LiveChat for Complex Queries
                                        <sup><i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="Suggest Livechat connect when the user query exceeds the word limit.">help</i></sup>
                                    </td>
                                    <td>
                                        <label>
                                            
                                                <input type="checkbox" id="autosuggest-livechat-complex-queries"/>
                                            
                                            <span></span>
                                        </label>
                                    </td>
                                </tr>
                                {% endif %}
                            
                                {% if is_trigger_livechat_enabled %}
                                <tr id="autosuggest-livechat-word-limit-row">
                                    <td>Word Limit
                                        <sup><i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="Word limit to trigger Livechat Agent connect suggestions">help</i></sup>
                                    </td>
                                    <td>
                                        <label>
                                            
                                                <input style="text-align:center" type="number" min="0" value="{{autosuggest_livechat_word_limit}}" id="autosuggest-livechat-word-limit"/>
                                            
                                            <span></span>
                                        </label>
                                    </td>
                                </tr>
                                {% else %}
                                <tr id="autosuggest-livechat-word-limit-row" style="display: none;">
                                    <td>Word Limit
                                        <sup><i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="Word limit to trigger Livechat Agent connect suggestions">help</i></sup>
                                    </td>
                                    <td>
                                        <label>
                                            
                                                <input style="text-align:center" type="number" min="0" value="{{autosuggest_livechat_word_limit}}" id="autosuggest-livechat-word-limit"/>
                                            
                                            <span></span>
                                        </label>
                                    </td>
                                </tr>
                                {% endif %}
                                <tr id="trigger_livechat_profanity_words_wrapper">
                                    <td>Suggest/Trigger Livechat for Profanity words
                                        <sup><i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="LiveChat intent will be suggested/triggered when the user's query consists of Profanity words.">help</i></sup>
                                    </td>
                                    <td>
                                        <label>
                                            {% if is_livechat_profanity_words_enabled %}
                                                <input type="checkbox" checked id="livechat-profanity-words-enable"/>
                                            {% else %}
                                                <input type="checkbox" id="livechat-profanity-words-enable"/>
                                            {% endif %}

                                            <span></span>
                                        </label>
                                        {% if is_livechat_profanity_words_enabled %}
                                            <a class="waves-effect btn modal-trigger" style="margin-top: -10px;margin-left: 40px;" 
                                                target="_blank" id="configure-profanity-setting" href="#modal-configure-profanity-setting">
                                                Configure Profanity Settings
                                            </a>
                                        {% else %}
                                            <a class="waves-effect btn modal-trigger" style="display:none;margin-top: -10px;margin-left: 40px;" 
                                                target="_blank" id="configure-profanity-setting" href="#modal-configure-profanity-setting">
                                                Configure Profanity Settings
                                            </a>
                                        {% endif %}
                                        

                                    </td>

                                </tr>
                            {% endif %}
                            {% if is_easytms_admin %}
                                <tr>
                                    <td>Enable Ticket Management Functionality</td>
                                    <td>
                                
                                    {% if is_tms_allowed %}
                                        <label>
                                            <input type="checkbox" id="easychat-checkbox-easytms-enable" checked/>
                                            <span></span>
                                        </label>
                                        <a class="waves-effect btn modal-trigger" style="margin-top: -10px;
                                        margin-left: 40px;" target="_blank" id="configure-tms-categories" href="#modal-add-tms-category" >Configure TMS Categories </a>
                                    {% else %}
                                        <label>
                                            <input type="checkbox" id="easychat-checkbox-easytms-enable"/>
                                                    <span></span>
                                        </label>
                                        <a class="waves-effect btn modal-trigger" style="display:none;margin-top: -10px;
                                        margin-left: 40px;"target="_blank" id="configure-tms-categories" href="#modal-add-tms-category" >Configure TMS Categories </a>
                                
                                    {% endif %}
                                    </td>
                                    
                                </tr>

                            {% endif %}

                            <tr>
                                <td>Enable Lead Generation <sup><i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="This feature will run only after deploying the bot on some website and form assist is disabled.">help</i></sup></td>
                                <td>
                                    {% if bot_obj.is_form_assist_enabled %}
                                        <label>
                                            <input type="checkbox" id="checkbox-bot-lead-generation-enabled" disabled/>
                                            <span></span>
                                        </label>
                                    {% elif is_lead_generation_enabled %}
                                        <label>
                                            <input type="checkbox" id="checkbox-bot-lead-generation-enabled" checked/>
                                            <span></span>
                                        </label>
                                    {% else %}
                                        <label>
                                            <input type="checkbox" id="checkbox-bot-lead-generation-enabled"/>
                                            <span></span>
                                        </label>
                                    {% endif %}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    {% endif %}
                    <div class="gy-settings-heading" style="margin-top: 50px !important;" id="configurations-other-settings">
                        <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9.50365 7.27699C8.83329 7.27699 8.20553 7.53629 7.73022 8.01017C7.25716 8.48405 6.99485 9.10993 6.99485 9.77828C6.99485 10.4466 7.25716 11.0725 7.73022 11.5464C8.20553 12.018 8.83329 12.2796 9.50365 12.2796C10.174 12.2796 10.8018 12.018 11.2771 11.5464C11.7501 11.0725 12.0124 10.4466 12.0124 9.77828C12.0124 9.10993 11.7501 8.48405 11.2771 8.01017C11.0449 7.77693 10.7686 7.59201 10.4642 7.46615C10.1597 7.34028 9.83322 7.27599 9.50365 7.27699ZM18.7474 12.5411L17.2812 11.2916C17.3507 10.8669 17.3865 10.4332 17.3865 10.0018C17.3865 9.5704 17.3507 9.13452 17.2812 8.71205L18.7474 7.46252C18.8582 7.36798 18.9375 7.24207 18.9747 7.10152C19.012 6.96097 19.0054 6.81245 18.9559 6.6757L18.9357 6.61758C18.5322 5.49254 17.9276 4.4497 17.1511 3.53958L17.1108 3.49264C17.0165 3.38211 16.8908 3.30266 16.7503 3.26475C16.6098 3.22684 16.4611 3.23226 16.3238 3.28029L14.5033 3.92629C13.8307 3.37641 13.0819 2.94276 12.2703 2.641L11.9183 0.743235C11.8917 0.60027 11.8222 0.468746 11.7188 0.366136C11.6155 0.263526 11.4833 0.194687 11.3398 0.168765L11.2793 0.157588C10.1135 -0.0525293 8.88485 -0.0525293 7.71901 0.157588L7.65848 0.168765C7.51498 0.194687 7.3828 0.263526 7.27948 0.366136C7.17616 0.468746 7.1066 0.60027 7.08004 0.743235L6.72581 2.64994C5.92189 2.95411 5.17298 3.3867 4.50847 3.93076L2.67451 3.28029C2.53722 3.23188 2.38841 3.22626 2.24784 3.2642C2.10728 3.30213 1.98162 3.3818 1.88757 3.49264L1.84721 3.53958C1.07213 4.45067 0.467642 5.49325 0.0625767 6.61758L0.0423987 6.6757C-0.0584914 6.95511 0.0244627 7.26805 0.250905 7.46252L1.73511 8.72546C1.66561 9.1457 1.63198 9.57487 1.63198 9.99958C1.63198 10.4288 1.66561 10.8579 1.73511 11.2737L0.255389 12.5366C0.144624 12.6312 0.0653488 12.7571 0.0281036 12.8976C-0.00914159 13.0382 -0.00259167 13.1867 0.0468826 13.3235L0.0670607 13.3816C0.472863 14.5059 1.07148 15.5453 1.85169 16.4596L1.89205 16.5065C1.98634 16.617 2.112 16.6965 2.25248 16.7344C2.39296 16.7723 2.54166 16.7669 2.67899 16.7189L4.51295 16.0684C5.18107 16.616 5.92541 17.0497 6.73029 17.3492L7.08453 19.2559C7.11108 19.3989 7.18064 19.5304 7.28396 19.633C7.38728 19.7356 7.51947 19.8045 7.66296 19.8304L7.7235 19.8416C8.90081 20.0528 10.1065 20.0528 11.2838 19.8416L11.3443 19.8304C11.4878 19.8045 11.62 19.7356 11.7233 19.633C11.8267 19.5304 11.8962 19.3989 11.9228 19.2559L12.2748 17.3582C13.0864 17.0542 13.8352 16.6227 14.5078 16.0729L16.3283 16.7189C16.4656 16.7673 16.6144 16.7729 16.755 16.735C16.8955 16.697 17.0212 16.6173 17.1152 16.5065L17.1556 16.4596C17.9358 15.5409 18.5344 14.5059 18.9402 13.3816L18.9604 13.3235C19.0568 13.0463 18.9739 12.7356 18.7474 12.5411ZM9.50365 13.7079C7.32666 13.7079 5.56221 11.9488 5.56221 9.77828C5.56221 7.60781 7.32666 5.84864 9.50365 5.84864C11.6806 5.84864 13.4451 7.60781 13.4451 9.77828C13.4451 11.9488 11.6806 13.7079 9.50365 13.7079Z" fill="#2543D7"/>
                            </svg>
                            
                        &nbsp;
                        Other Settings
                    </div>
                    <table style="table-layout: fixed;word-wrap: break-word;">
                        <tbody style="box-shadow: none !important;">
                            {% if selected_language == "en" %}

                            <tr>
                                <td>Enable CSAT <sup><i class="material-icons inline-icon tooltipped"  data-tooltip="Collect customer satisfaction score from the customer when the chat ends.">help</i></sup></td>
                                <td>

                                    <div class="switch-custom">
                                        <label>
                                            {% if bot_obj.is_nps_required %}
                                                <input type="checkbox" id="enable_csat_option_cb" checked/>
                                            {% else %}
                                                <input type="checkbox" id="enable_csat_option_cb"/>
                                            {% endif %}
                                            <span style="margin-left: 0px !important;" class="lever-custom"></span>
                                        </label>
                                    </div>

                                </td>
                            </tr>
                        </tbody>
                        
                        <tbody id="csat_setting_wrapper" style="box-shadow: none !important; display: none;">

                            <tr id="csat_scale_rating_options_div">
                                <td>CSAT Scale Rating <sup><i class="material-icons inline-icon tooltipped"  data-tooltip="4 or 5 scale CSAT rating will be displayed to the end customer according to the option selected.">help</i></sup></td>
                                <td>

                                    <div class="csat-scale-radio-container">
                                        <label>
                                    

                                    {% if bot_obj.scale_rating_5 %}

                                        <input class="with-gap" name="group_scale" value="4_scale" type="radio">

                                    {% else %}

                                        <input class="with-gap" name="group_scale" value="4_scale" type="radio"  checked="">

                                    {% endif %}

                                    
                                    <span>4 Scale</span>
                                  </label>
                                        <label>
                                    
                                    {% if bot_obj.scale_rating_5 %}

                                        <input class="with-gap" name="group_scale" value="5_scale"  type="radio" checked>   

                                    {% else %}

                                        <input class="with-gap" name="group_scale" value="5_scale"  type="radio">   

                                    {% endif %}
                                                                             
                                    <span>5 Scale</span>
                                  </label>
                                    </div>

                                </td>
                            </tr>

                            <tr>
                                <td>
                                    Select Channel
                                </td>
                                <td>
                                    <select id="multi-select-channels" onchange="nps_filter()" multiple>
                                        {% for channel in channel_list %}
                                            {% if channel.is_selected %}
                                                <option value="{{ channel.channel.name }}" selected>{{ channel.channel.name }}</option>
                                            {% else %}
                                                <option value="{{ channel.channel.name }}">{{ channel.channel.name }}</option>
                                            {% endif %}
                                        {% endfor %}
                                    </select>
                                </td>
                            </tr>

                            <tr id="viber-nps-timer" style="display: none;">
                                <td>
                                    Viber CSAT Time (in min)<sup><i class="material-icons inline-icon tooltipped"  data-tooltip="A message will be pushed after the set time to collect customer satisfaction score.">help</i></sup>&nbsp;&nbsp;&nbsp;
                                </td>
                                <td>
                                    <input type="number" min="1" step="1" onkeypress="return event.charCode >= 48" id="easychat-viber-nps-timer" value={{ viber_nps_time }}>
                                </td>
                            </tr>

                            <tr id="whatsapp-nps-timer" style="display: none;">
                                <td>
                                    WhatsApp CSAT Time (in min)<sup><i class="material-icons inline-icon tooltipped"  data-tooltip="A message will be pushed after the set time to collect customer satisfaction score.">help</i></sup>&nbsp;&nbsp;&nbsp;
                                </td>
                                <td>
                                    <input type="number" min="1" step="1" onkeypress="return event.charCode >= 48" id="easychat-whatsapp-nps-timer" value={{ whatsapp_nps_time }}>
                                </td>
                            </tr>

                            <tr id="csat-configuration">
                                <td>
                                    <br>
                                    <div class="row">
                                        <div class="col s7">
                                    CSAT Feedback Form
                                    </div>
                                    {% if csat_feedback_form_enabled %}
                                        <div class="switch-custom">
                                            <label>
                                <input type="checkbox" id="checkbox-csat-feedback" checked onchange="toggle_csat_feedback_checkbox(this)"/>
                                                <span class="lever-custom"></span>
                                            </label>
                                        </div>
                                    {% else %}
                                        <div class="switch-custom">
                                            <label>
                                    <input type="checkbox" id="checkbox-csat-feedback" onchange="toggle_csat_feedback_checkbox(this)"/>
                                                <span class="lever-custom"></span>
                                            </label>
                                        </div>
                                    {% endif %}
                                </div>
                               </td>
                                <td><a class="waves-effect btn modal-trigger" target="_blank" id="configure-csat-modal-opener" href="#configure_csat_modal" >Configure CSAT Form</a>
                                </td>
                            </tr>
                            </tbody>
                            <tbody style="box-shadow: none !important;">

                            <tr>
                                <td>
                                    <p>Stop Words Dictionary<sup><i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="Words which do not provide weightage to sentence such as prepositions">help</i></sup>
                                    </p>
                                </td>
                                <td>
                                    <a class="waves-effect btn modal-trigger" target="_blank" id="configure-stop-words" href="#modal-configure-stop-words" onclick="stop_words_filter()">Configure Stop Words</a>
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    <p>Default Bot Response Order
                                    </p>
                                </td>
                                <td>
                                    <a class="waves-effect btn modal-trigger" target="_blank" id="configure-default-response" href="#modal-configure-default-response">Configure Default Response</a>
                                </td>
                            </tr>
                            {% endif %}


                            <tr>
                                <td>
                                    <p>Emoji Bot Response
                                    </p>
                                </td>
                                <td>
                                    <a class="waves-effect btn modal-trigger" target="_blank" id="configure-default-response" href="#modal-emoji-bot-response">Configure Emoji Bot Responses</a>
                                </td>
                                
                            </tr>

                            <tr>
                                <td>
                                    <p>Do Not Translate Keyword
                                    </p>
                                </td>
                                <td>
                                    <a class="waves-effect btn modal-trigger" target="_blank" id="configure-default-response" href="#modal_dont_translate_keywords">Add Keyword</a>
                                </td>

                            </tr>

                            {% if selected_language == "en" %}

                            <tr>
                                <td>
                                    Initiate conversation after welcome message&nbsp;&nbsp;&nbsp;
                                </td>
                                <td>
                                    <select id="single-select-initial-intent" class="">
                                        <option value="" selected>--- Choose One ---</option>
                                        {% for intent_name in intent_name_list %}
                                            {% if intent_name.is_selected %}
                                                <option value="{{ intent_name.intent_pk }}" selected>{{ intent_name.intent_name }}</option>
                                            {% else %}
                                                <option  value="{{ intent_name.intent_pk }}">{{ intent_name.intent_name }}</option>
                                            {% endif %}
                                        {% endfor %}
                                    </select>
                                </td>
                            </tr>
                            
                            
                            <tr>
                                <td>
                                    Flow termination keywords <sup><i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="These keywords are used by the bot to end the flow">help</i></sup>
                                </td>
                                <td id = "flow_termination_keywords" style="border: 0.1em solid black;padding:20px 20px 20px 20px !important;font-family: Consolas, monaco, monospace;word-wrap: break-word;background-color:white;">
                                </td>
                            </tr>
                            {% endif %}
                            <tr>
                                <td>
                                    Flow termination bot response
                                </td>
                                <td>
                                    <div class="divider"></div>
                                    <textarea id="flow_termination_bot_response" class="materialize-textarea"></textarea>
                                </td>
                            </tr>
                            
                            <tr id="flow-termination-user-confirmation-response">
                            <td>
                                    Flow Termination Display Message <sup><i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="Message to be displayed when a user aborts in the middle of a flow">help</i></sup>
                                </td>
                                <td>
                                    <div class="divider"></div>
                                    <textarea id="flow_termination_confirmation_display_message" class="materialize-textarea"></textarea>
                                </td>
                            </tr>

                            {% if selected_language != "en" %}
                                {% if is_livechat_profanity_words_enabled %}
                                    <tr>
                                        <td>
                                            Profanity words Bot Response
                                        </td>
                                        <td>
                                            <div class="divider"></div>
                                            <textarea id="profanity-word-bot-response" class="materialize-textarea">{{language_profanity_response}}</textarea>

                                        </td>
                                    </tr>
                                {% endif %}
                            {% endif %}

                            {% if selected_language == "en" %}
                                <tr>
                                    <td>Enable Abort Flow <sup><i class="material-icons inline-icon tooltipped"  data-tooltip="Enabling this will display a message in case when a user invokes an intent/training question in the middle of a current flow.">help</i></sup></td>
                                    <td>
                                        <div class="switch-custom">
                                            <label>
                                                {% if bot_info_obj.enable_abort_flow_feature %}
                                                <input type="checkbox" id="enable_abort_flow_toggle" checked>
                                                {% else %}
                                                <input type="checkbox" id="enable_abort_flow_toggle">
                                                {% endif %}
                                                <span class="lever-custom"></span>
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                            
                            
                                <tr>
                                    <td>Masking PII <sup><i class="material-icons inline-icon tooltipped"  data-tooltip="PII data of customer will be masked, to disable it, a mail will be sent for confirmation.">help</i></sup></td>
                                    <td>
                                        {% if masking_enabled %}
                                            <div class="switch-custom">
                                                <label>
                                                    <input type="checkbox" id="checkbox-masking-enabled" checked />
                                                    <span class="lever-custom"></span>
                                                </label>
                                            </div>
                                        {% else %}
                                            <div class="switch-custom">
                                                <label>
                                                    <input type="checkbox" id="checkbox-masking-enabled" />
                                                    <span class="lever-custom"></span>
                                                </label>
                                            </div>
                                        {% endif %}
                                    </td>
                                </tr>

                                {% if masking_enabled %}                            
                                    <tr>
                                        <td>Masking PII Timer <sup><i class="material-icons inline-icon tooltipped"  data-tooltip="Time after which the masking will happen.">help</i></sup></td>
                                        <td>
                                            <div class="input-group ">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">mins</span>
                                                </div>
                                                <input type="number" class="form-control" min="1" max="20" value="{{masking_time}}" id="easychat-mask-pii-time">
                                            </div>
                                        </td>
                                    </tr>
                                {% endif %}
                                <!-- https://app.clickup.com/t/2cj8mdd this feature is conflicting with self learning so hiding this feature untill this is resolved -->
                                <tr style="display: none;">
                                    <td>Enable Tree Level Advanced NLP <sup><i class="material-icons inline-icon tooltipped"  data-tooltip="Enabling this will Activate Semantic similarity matching on child tree recogniztion">help</i></sup></td>
                                    <td>
                                        <div class="switch-custom">
                                            <label>
                                                {% if bot_info_obj.is_advance_tree_level_nlp_enabled %}
                                                <input type="checkbox" id="enable_advance_tree_level_nlp" checked>
                                                {% else %}
                                                <input type="checkbox" id="enable_advance_tree_level_nlp">
                                                {% endif %}
                                                <span class="lever-custom"></span>
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                            {% endif %}

                        </tbody>
                    </table>
                    {% if selected_language == "en" %}
                        <div class="gy-settings-heading gy-margin-top-50">
                            <svg width="22" height="17" viewBox="0 0 22 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12.3845 0L8.02466 16.0225L9.83298 16.5L14.1928 0.477486L12.3845 0V0Z" fill="#2755CB"/>
                                <path d="M7.03728 14.1124L8.31022 12.7777L8.30929 12.7602L3.54138 8.35401L8.02475 3.64828L6.66008 2.38635L0.894409 8.43604L7.03728 14.1133V14.1124Z" fill="#2755CB"/>
                                <path d="M15.2516 14.1124L13.9786 12.7777L13.9796 12.7602L18.7475 8.35401L14.2641 3.64828L15.6288 2.38635L21.3945 8.43604L15.2516 14.1133V14.1124Z" fill="#2755CB"/>
                            </svg>


                            &nbsp;
                            Developer Settings
                        </div>
                        <table style="table-layout: fixed;word-wrap: break-word;">
                            <tbody>
                                <tr>
                                    <td>Custom JS for Bot</td>
                                    <td>   
                                        <label>
                                            {% if bot_obj.is_custom_js_required %}
                                                <input type="checkbox" id ="checkbox-custom-bot-js" checked />
                                            {% else %}
                                                <input type="checkbox" id ="checkbox-custom-bot-js" />
                                            {% endif %}
                                        <span></span>
                                    </label>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Custom CSS for Bot</td>
                                    <td>   
                                        <label>
                                            {% if bot_obj.is_custom_css_required %}
                                                <input type="checkbox" id ="checkbox-custom-bot-css" checked />
                                            {% else %}
                                                <input type="checkbox" id ="checkbox-custom-bot-css" />
                                            {% endif %}
                                        <span></span>
                                    </label>
                                    </td>
                                </tr>
                                <tr id="livechat-developers-options-form" style="display: none">
                                        <td>Show LiveChatForm</td>
                                        <td><label>
                                        {% if show_form_enabled %}
                                            <input type="checkbox" id="show_form" checked/ >
                                        {% else %}
                                            <input type="checkbox" id="show_form" >
                                        {% endif %}

                                        <span></span></label></td>
                                    </tr>

                                    <tr id="livechat-developers-options-processor-customer" style="display: none">
                                        <td>Show Customer Details Process</td>
                                        <td><label>
                                        {% if use_customer_details_processor %}
                                            <input type="checkbox" id="use_customer_details_processor" checked/ >
                                        {% else %}
                                            <input type="checkbox" id="use_customer_details_processor" >
                                        {% endif %}
                                        <span></span></label></td>
                                    </tr>

                                    <tr id="livechat-developers-options-processor-end-chat" style="display: none">
                                        <td>Show End Chat Processor</td>
                                        <td><label>
                                        {% if use_end_chat_processor %}
                                            <input type="checkbox" id="use_end_chat_processor" checked/ >
                                        {% else %}
                                            <input type="checkbox" id="use_end_chat_processor" >
                                        {% endif %}
                                        <span></span></label></td>
                                    </tr>

                                    <tr id="livechat-developers-options-processor-assign-agent" style="display: none">
                                        <td>Show Lead Assignment Processor</td>
                                        <td><label>
                                        {% if bot_obj.use_assign_agent_processor_livechat %}
                                            <input type="checkbox" id="use_assign_agent_processor" checked/ >
                                        {% else %}
                                            <input type="checkbox" id="use_assign_agent_processor" >
                                        {% endif %}
                                        <span></span></label></td>
                                    </tr>
                                    <tr id="easychat-language-configuration">
                                        <td>Enable Language Configuration</td>
                                    
                                            <td>

                                                <a class="waves-effect btn easychat-button modal-trigger" id="configure-languages-btn" href="#easychat_language_config_modal" style="display: block;">Configure Languages</a>

                                             </td>
                                    </tr>
                            </tbody>
                        </table>
                    {% endif %}
                    </div>
                
                <div class="col s3 gy-fixed">
                    <p class="right">Created on {{ bot_obj.created_datetime|date:"M d, Y, h:i a" }}</p>
                    <div class="clearfix"></div>
                    {% if selected_language == "en" %}
                        <a class="btn right green lighten-2 black-text gy-flex"
                            id="save-bot-general-settings-btn"
                            onclick="save_bot_general_settings(this)"><svg width="16"
                                height="16" viewBox="0 0 16 16" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M9.33334 1.33325V4.50158C9.33334 4.58048 9.27851 4.64657 9.20488 4.66384L9.16667 4.66825H5.16667C5.08777 4.66825 5.02168 4.61342 5.0044 4.53979L5 4.50158V1.33325H9.33334ZM11.5058 9.36C11.5979 9.36 11.6725 9.43461 11.6725 9.52666L11.672 14.3333H4.33267L4.33334 9.52666C4.33334 9.43461 4.40796 9.36 4.5 9.36H11.5058ZM10.4244 1.33325C10.6082 1.33325 10.786 1.39401 10.9307 1.50469L14.4333 4.49992C14.5978 4.65714 14.6667 4.8785 14.6667 5.10606V12.8333C14.6667 13.6617 13.9951 14.3333 13.1667 14.3333H12.672L12.6725 9.52666C12.6725 8.88233 12.1502 8.36 11.5058 8.36H4.5C3.85567 8.36 3.33334 8.88233 3.33334 9.52666L3.33267 14.3333H2.83334C2.00491 14.3333 1.33334 13.6617 1.33334 12.8333V2.83325C1.33334 2.00482 2.00491 1.33325 2.83334 1.33325H4V4.50158C4 5.1137 4.47141 5.61571 5.07098 5.66438L5.16667 5.66825H9.16667C9.77879 5.66825 10.2808 5.19684 10.3295 4.59726L10.3333 4.50158V1.33325H10.4244Z"
                                    fill="#fff" />
                            </svg>

                            &nbsp;
                            Save</a>
                        <div class="clearfix"></div>
                        <br>
                        <a class="btn right green lighten-2 black-text gy-flex modal-trigger"
                            id="build-bot-btn"
                            onclick="build_bot(this)"
                            >
                            Build Bot</a>
                    {% else %}
                        <a class="btn right green lighten-2 black-text gy-flex"
                        id="save-multilingual-bot-general-settings-btn"
                        onclick="save_multilingual_bot_general_settings(this)"><svg width="16"
                            height="16" viewBox="0 0 16 16" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M9.33334 1.33325V4.50158C9.33334 4.58048 9.27851 4.64657 9.20488 4.66384L9.16667 4.66825H5.16667C5.08777 4.66825 5.02168 4.61342 5.0044 4.53979L5 4.50158V1.33325H9.33334ZM11.5058 9.36C11.5979 9.36 11.6725 9.43461 11.6725 9.52666L11.672 14.3333H4.33267L4.33334 9.52666C4.33334 9.43461 4.40796 9.36 4.5 9.36H11.5058ZM10.4244 1.33325C10.6082 1.33325 10.786 1.39401 10.9307 1.50469L14.4333 4.49992C14.5978 4.65714 14.6667 4.8785 14.6667 5.10606V12.8333C14.6667 13.6617 13.9951 14.3333 13.1667 14.3333H12.672L12.6725 9.52666C12.6725 8.88233 12.1502 8.36 11.5058 8.36H4.5C3.85567 8.36 3.33334 8.88233 3.33334 9.52666L3.33267 14.3333H2.83334C2.00491 14.3333 1.33334 13.6617 1.33334 12.8333V2.83325C1.33334 2.00482 2.00491 1.33325 2.83334 1.33325H4V4.50158C4 5.1137 4.47141 5.61571 5.07098 5.66438L5.16667 5.66825H9.16667C9.77879 5.66825 10.2808 5.19684 10.3295 4.59726L10.3333 4.50158V1.33325H10.4244Z"
                                fill="#fff" />
                        </svg>

                        &nbsp;
                        Save</a>
                    {% endif %}

                </div>

                <div class="col l8 m12 s12">
                    
                </div>

            </div>

        </div>

    </div>

  </div>

</div>

<!-- Modal Structure -->

<!-- Modal Structure -->

<div id="modal-analytics-monitoring-config" class="modal modal-custom">
    <div class="modal-content custom-modal-content">
        <h5 style="text-align: center;">Bot Usage Monitoring</h5>
        <div class="row content-scroll">
            <table style="table-layout: fixed;word-wrap: break-word;">
                <tbody>
                    <tr style="border-bottom:1px solid rgba(0,0,0,0.12);border-top:1px solid rgba(0,0,0,0.12)">
                        <td>
                            <p>Monitor Bot Usage from <sup><i class="material-icons tooltipped"  data-tooltip="Bot usage will be monitored starting from this hour">help</i></sup></p>
                        </td>
                        <td>
                            <input type="time" id="active_hours_start" value="{{ start_hour }}" style="text-align: center;" min=0 max=24>                        </td>
                    </tr>
                    <tr style="border-bottom:1px solid rgba(0,0,0,0.12);border-top:1px solid rgba(0,0,0,0.12)">
                        <td>
                            <p>Monitor Bot Usage till <sup><i class="material-icons tooltipped"  data-tooltip="Bot usage will be monitored till this hour">help</i></sup></p>
                        </td>
                        <td>
                            <input type="time" id="active_hours_end" value="{{ end_hour }}" style="text-align: center;" min=0 max=24>
                        </td>
                    </tr>
                    <tr style="border-bottom:1px solid rgba(0,0,0,0.12);border-top:1px solid rgba(0,0,0,0.12)">
                        <td>
                            <p>Expected number of messages per hour <sup><i class="material-icons tooltipped"  data-tooltip="Please enter the number of messages you expect per hour during active hours">help</i></sup></p>
                        </td>
                        <td>
                            <input type="number" id="analytics-monitoring-message-limit" value="{{ analytics_monitoring_obj.message_limit }}" style="text-align: center;" min=0>
                        </td>
                    </tr>
                    <tr style="border-bottom:1px solid rgba(0,0,0,0.12);border-top:1px solid rgba(0,0,0,0.12)">
                        <td>
                            <p>Consecutive hours <sup><i class="material-icons tooltipped"  data-tooltip=" If the bot usage is below expected use for the given consecutive hours, an email will be sent to the stakeholders">help</i></sup></p>
                        </td>
                        <td>
                            <input type="number" id="analytics-monitoring-consecutive-hrs" value="{{ analytics_monitoring_obj.consecutive_hours }}" style="text-align: center;">
                        </td>
                    </tr>
                    <tr style="border-bottom:1px solid rgba(0,0,0,0.12);border-top:1px solid rgba(0,0,0,0.12)">
                        <td>
                            Email address
                        </td>
                        <td>
                            <div class="col s8 chips chips-initial" id = "analytics-monitoring-email-address" style="width:96%;border: 0.1em solid black;padding:1em;font-family: Consolas, monaco, monospace;word-wrap: break-word;background-color:white;">
                            </div>
                        </td>
                    </tr>

                </tbody>
            </table>
        </div>
    </div>
    <div class="modal-footer">
        <a class="modal-close btn transparent-btn white black-text" style="margin-right: 10px;">Cancel</a>
        <a class="btn green lighten-2 black-text" onclick="save_analytics_monitoring_config(this, '{{bot_obj.pk}}')" style="margin-right: 10px;">Save</a>
    </div>
</div>

<!-- configure bot break email modal -->
<div id="modal-configure-bot-break-email" class="modal modal-custom">
    <div class="modal-content custom-modal-content">
        <h5 style="text-align: center;">Bot Break Email Configuration</h5>
        <div class="row content-scroll">
            <table style="table-layout: fixed;word-wrap: break-word;">
                <tbody>
                    <tr style="border-bottom:1px solid rgba(0,0,0,0.12);border-top:1px solid rgba(0,0,0,0.12)">
                        <td>
                            <p>Time interval(in minutes)<sup><i class="material-icons tooltipped"  data-tooltip="This is the time interval between 2 emails that will be sent for the same Bot break. ">help</i></sup></p>
                        </td>
                        <td>
                            <input type="number" id="bot_break_mail_sender_time_interval_input" value="1" style="text-align: center;" min="0" step="1"  onkeypress="return event.charCode >= 48" 
                            onpaste="return event.charCode >= 48">
                        </td>
                    </tr>
                    <tr style="border-bottom:1px solid rgba(0,0,0,0.12);border-top:1px solid rgba(0,0,0,0.12)">
                        <td>
                            Email address
                        </td>
                        <td>
                            <div class="col s12 chips chips-initial" id = "bot-break-email-config-email-address" style="border: 0.1em solid black;padding:1em;font-family: Consolas, monaco, monospace;word-wrap: break-word;background-color:white;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="modal-footer">
        {% if bot_info_obj.is_bot_break_email_notification_enabled and bot_break_email_configured %}
            <tr>    
                <td><a class="modal-close left waves-effect btn easychat-button" id="test-bot-break-fail-email-config" target="_blank" onclick="send_bot_break_fail_test_email('{{bot_obj.pk}}')" style="display: block;">Test Bot Break Email</a></td>  
            </tr>
        {% else %}
            <tr>    
                <td><a class="modal-close left waves-effect btn easychat-button" id="test-bot-break-fail-email-config" target="_blank" onclick="send_bot_break_fail_test_email('{{bot_obj.pk}}')" style="display: none;">Test Bot Break Email</a></td>  
            </tr>
        {% endif %}
        
        <a class="modal-close btn transparent-btn white black-text" style="margin-right: 10px;">Cancel</a>
        <a class="btn green lighten-2 black-text"  style="margin-right: 10px;" onclick="save_bot_fail_email_configuration(this, '{{bot_obj.pk}}')">Save</a>
    </div>
</div>

<div id="modal-api-fail-email-config" class="modal modal-custom">
    <div class="modal-content custom-modal-content">
        <h5 style="text-align: center;">API Fail Email Configuration</h5>
        <div class="row content-scroll">
            <table style="table-layout: fixed;word-wrap: break-word;">
                <tbody>
                    <tr style="border-bottom:1px solid rgba(0,0,0,0.12);border-top:1px solid rgba(0,0,0,0.12)">
                        <td>
                            <p>Time interval (in minutes)<i class="material-icons inline-icon tooltipped" data-position="top" data-tooltip="This is the time interval between two mails that will be sent for the same API failure.">help</i></p> 
                        </td>
                        <td>
                            <input type="number" id="mail_sender_time_interval_input" value="{{ bot_obj.mail_sender_time_interval }}" style="text-align: center;" min="0" step="1"  onkeypress="return event.charCode >= 48" 
                            onpaste="return event.charCode >= 48">
                        </td>
                    </tr>
                    <tr style="border-bottom:1px solid rgba(0,0,0,0.12);border-top:1px solid rgba(0,0,0,0.12)">
                        <td>
                            Email address
                        </td>
                        <td>
                            <div class="col s12 chips chips-initial" id = "api-fail-email-config-email-address" style="border: 0.1em solid black;padding:1em;font-family: Consolas, monaco, monospace;word-wrap: break-word;background-color:white;">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="modal-footer">
        {% if bot_obj.is_api_fail_email_notifiication_enabled and api_fail_email_configured %}
            <tr>    
                <td><a class="left waves-effect btn easychat-button" id="test-api-fail-email-config" target="_blank" onclick="send_api_fail_test_email('{{bot_obj.pk}}')" style="display: block;">Test API Failure Mail</a></td>  
            </tr>
        {% else %}
            <tr>    
                <td><a class="left waves-effect btn easychat-button modal-close" id="test-api-fail-email-config" target="_blank" onclick="send_api_fail_test_email('{{bot_obj.pk}}')" style="display: none;">Test API Failure Mail</a></td>  
            </tr>
        {% endif %}
        <a class="modal-close btn transparent-btn white black-text" style="margin-right: 10px;">Cancel</a>
        <a class="btn green lighten-2 black-text" onclick="save_api_fail_email_configuration(this, '{{bot_obj.pk}}')" style="margin-right: 10px;">Save</a>
    </div>
</div>

<!-- Modal Structure -->
<div id="modal-upload-bot-image" class="modal">
    <div class="modal-content">
        <h5>Choose Image</h5>
        <div class="file-field input-field col s10">
            <div class="btn-small black-text easychat-button">
                <span>Choose image</span>
                <input id="input_upload_bot_image" type="file">
            </div>
            <div class="file-path-wrapper">
                <input id="input_upload_bot_image2" class="file-path validate" type="text">
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <a class="modal-close waves-effect waves-green btn-flat grey" id="upload-bot-image">Upload</a>
    </div>
</div>

<div id="modal-bot-inactivity-config" class="modal">
    <div class="modal-content">
        <h5>Bot Inactivity Configuration</h5>
        <div class="row">
            <table style="table-layout: fixed;word-wrap: break-word;">
                <tbody>
                    <tr style="border-bottom:1px solid rgba(0,0,0,0.12);border-top:1px solid rgba(0,0,0,0.12)">
                        <td>
                            Bot Inactivity Time(in seconds)
                        </td>
                        <td>
                            <input type="number" id="bot-inactivity-time" name="email_config_channel" value="{{bot_inactivity_time}}" min="1" step="1"  onkeypress="return event.charCode >= 48" 
                            onpaste="return event.charCode >= 48" />
                        </td>
                    </tr>
                    <tr style="border-bottom:1px solid rgba(0,0,0,0.12);border-top:1px solid rgba(0,0,0,0.12)">
                        <td>
                            Bot Inactivity Message
                        </td>
                        <td>
                            <textarea id="bot-inactivity-msg" class="configuration-textarea-element" oninput="auto_grow_textarea(this)" onpaste="auto_grow_textarea(this)"  >{{bot_inactivity_msg}}</textarea>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="modal-footer">
        <a class="modal-close btn transparent-btn white black-text" style="margin-right: 10px;">Cancel</a>
        <a class="btn green lighten-2" onclick="save_bot_inactivity_settings()" style="margin-right: 10px;">Save</a>
    </div>
</div>


<div id="modal-bot-response-delay-config" class="modal">
    <div class="modal-content">
        <h5>Bot Response Delay Configuration</h5>
        <div class="row">
            <table style="table-layout: fixed;word-wrap: break-word;">
                <tbody>
                    <tr style="border-bottom:1px solid rgba(0,0,0,0.12);border-top:1px solid rgba(0,0,0,0.12)">
                        <td>
                            Bot Response Delay Time(in seconds)
                        </td>
                        <td>
                            <input type="number" id="bot-response-delay-time" name="email_config_channel" value="{{ bot_obj.bot_response_delay_timer }}" />
                        </td>
                    </tr>
                    <tr style="border-bottom:1px solid rgba(0,0,0,0.12);border-top:1px solid rgba(0,0,0,0.12)">
                        <td>
                            Bot Response Delay Message
                        </td>
                        <td>
                           
                            <textarea id="bot-response-delay-msg" class="configuration-textarea-element" oninput="auto_grow_textarea(this)" onpaste="auto_grow_textarea(this)">{{ bot_response_delay_message|safe }}</textarea>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="modal-footer">
        <a class="modal-close btn transparent-btn white black-text" style="margin-right: 10px;">Cancel</a>
        <a class="modal-close btn green lighten-2 modal-close" onclick="save_bot_response_delay_settings()" style="margin-right: 10px;">Save</a>
    </div>
</div>

<!-- Modal Structure -->
<div id="modal-alert-create-new-deployjs" class="modal">
    <div class="modal-content">
        <h5>Do you want replace previous deploy js file with new one?</h5>
    </div>
    <div class="modal-footer">
        <a class="modal-close waves-effect waves-green btn-flat grey" onclick="create_new_deployment(this)">Yes</a>
        <a class="modal-close waves-effect waves-green btn-flat grey">No</a>
    </div>
</div>

<!-- Modal Structure -->
<div id="modal-upload-message-image" class="modal">
    <div class="modal-content">
        <h5>Choose Image</h5>
        <div class="file-field input-field col s10">
            <div class="btn-small black-text easychat-button">
                <span>Choose image</span>
                <input id="input_upload_bot_message_image" type="file">
            </div>
            <div class="file-path-wrapper">
                <input id="input_upload_bot_message_image2" class="file-path validate" 
                type="text">
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <a class="modal-close btn easychat-button" id="upload-bot-message-image">Upload</a>
    </div>
</div>
{% include "EasyChatApp/platform/language_configuration_modal.html" %}
<!-- Configure Stop Words Modal -->
<div id="modal-configure-stop-words" class="modal">
    <div class="modal-header" style="font-size: 16px; font-weight: 500; color: #2543D7; padding: 1em;">
        Configure Stop Words
    </div>
    <div style="border: 1px solid #E6E6E6;"></div>
    <div class="modal-content" id="modal-configure-stop-words-content" style="padding: 1em;">
        <div id="stop-words-modal-content-before">
            <h6 style="color: #292929; font-size: 16px; font-weight: 500;">
                Please select an alphabet from the dropdown list to view the stop words beginning with that alphabet. 
            </h6>
            <div class="row right" style="padding: 20px 10px 10px 10px; width: 25%;">
                <div class="col s4" style="width: 90%; float: right;">
                    <select id="filter-stop-words" onchange="stop_words_filter(this)">
                    </select>
                </div>
            </div>
            <div class="row" style="padding-top: 6em;">
                <div id="stop_words_div" style="overflow: auto; border: 1px solid #E6E6E6; box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.25); height: 10em; font-family: Consolas, monaco, monospace;word-wrap: break-word;background-color:white; padding: 8px 12px !important;" class="chips input-field">
    
                </div>
            </div>
        </div>
        <div id="stop-words-modal-content-after" style="display: none;">
            <div style="width: 100%; display: flex; align-items: center; justify-content: center; flex-direction: column;">
                <img src="/static/EasyChatApp/img/stop_words_saved.svg" />
                <p style="font-size: 20px; color: #2543D7;">Stop Words have been successfully updated!</p>
            </div>
            <div style="width: 100%; display: flex; align-items: flex-start; justify-content: flex-start; flex-direction: column; color: #8e8e8e; font-size: 15px;">
                <p style="margin-top: 45px;margin-bottom: 4px;">Please re-save the appropriate intents for the changes to be reflected</p>
                <p style="margin-bottom: 4px;">OR</p>
                <p style="margin-bottom: 4px;">Click on the 'Save' button to automatically save all the intents (This may take up to a few minutes)</p>
            </div>
        </div>
        <div id="stop-words-modal-content-saving" style="display: none;">
            <div style="width: 100%; display: flex; align-items: center; justify-content: center; flex-direction: column;">
                <img src="/static/EasyChatApp/img/clock.gif" style="margin-top: 30px;" />
                <p style="font-size: 25px; color: #2543D7; margin-bottom: 0; margin-top: 11px;">Saving...</p>
                <p style="font-size: 20px; color: #757575; margin-top: 22px">Saving Intents, This may take a while...</p>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <a class="waves-effect btn transparent-btn white" target="_blank" onclick="go_back_stop_words_modal()" id="stop-words-modal-go-back" style="float: left; border: none; display: none; padding-left: 0.5em;">Back</a>
        <a class="waves-effect btn modal-close transparent-btn white" target="_blank" onclick="cancel_stop_words_modal()" id="stop-words-modal-cancel">Cancel</a>
        <a class="waves-effect btn modal-close transparent-btn white" target="_blank" onclick="cancel_save_all_intents_modal()" id="save-all-intents-modal-cancel" style="display: none;">Exit without saving</a>
        <a class="waves-effect btn" target="_blank" id="stop-words-modal-save" onclick="save_stop_words()" style="margin-left: 12px;">Next</a>
        <a class="waves-effect btn" target="_blank" id="stop-words-modal-save-all-intents" onclick="resave_all_intents()" style="margin-left: 12px; display: none">Save and Exit</a>
    </div>
</div>
<!-- tms category modal -->
<div id="modal-add-tms-category" class="modal modal-fixed-footer">
    <div class="modal-header" style="font-size: 16px; font-weight: 500; color: #2543D7; padding: 1em;">
        Configure TMS Categories
    </div>
    <div class="modal-content">
        <div class="row">
            <div class="col s12" id="tms-cat-drop-down-choices" >
                <div id ="tms-cat-input-wrapper" class="col s12">
                    Hit "Enter" after adding a Category.
                    <input type="text" id="add_drop_down_tms_cat" maxlength="25" onkeypress="return (event.charCode >= 65 && event.charCode <= 90) || (event.charCode >= 97 && event.charCode <= 122) || (event.charCode >= 48 && event.charCode <= 57) || (event.charCode == 32)"
                     data-length="100">
                </div>
                <div class="col s12">
                    <ul class="collection with-header" id="tms-drop-down-cat-collection">
                        <li class="collection-header">
                            <span style="font-size: medium;"><b>Dropdown Categories</b></span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <a class="btn white transparent-btn black-text modal-close" >Cancel</a>
        &nbsp;&nbsp;&nbsp;&nbsp;
        <!-- <a id="save-intent" class="btn green lighten-2 black-text">
            <i class="inline-icon material-icons">save</i> Save
        </a> -->
        <a class="btn green lighten-2 black-text " onclick="check_for_duplicates_in_tms_cat()">Ok</a>
    </div>
</div>
<!-- Configure Default Response Modal -->
<div id="modal-configure-default-response" class="modal modal-fixed-footer">
    <div class="modal-header" style="font-size: 16px; font-weight: 500; color: #2543D7; padding: 1em;">
        Configure Default Response
    </div>
    <div style="border: 1px solid #E6E6E6;"></div>
    <div class="modal-content" style="padding: 1em;">
        <div class="col s12" id="easychat_order_of_responses">
            <!--filled dynamically-->
        </div>
    </div>
    <div class="modal-footer">
        <a class="waves-effect btn modal-close transparent-btn white" target="_blank" onclick="cancel_default_response()" id="stop-words-modal-cancel">Cancel</a>
        <a class="waves-effect btn" target="_blank" id="stop-words-modal-save" onclick="save_default_response()" style="margin-left: 12px; background-color: #038456 !important">Save</a>
    </div>
</div>
{% if selected_language == "en" %}
<!-- Modal Profanity setting -->
<div id="modal-configure-profanity-setting" class="modal " tabindex="0">
    <div class="modal-content">
        <div class="row" style="margin-bottom: 12px !important;">
            <div class="modal-header">
                <h6>Configure Profanity Settings</h6>
                <a href="javascript:void(0)" class="modal-close-btn modal-close">
                    <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18.9247 6.12377C18.7379 5.93652 18.4842 5.83129 18.2197 5.83129C17.9552 5.83129 17.7016 5.93652 17.5147 6.12377L12.6247 11.0038L7.73473 6.11377C7.5479 5.92652 7.29424 5.82129 7.02973 5.82129C6.76521 5.82129 6.51156 5.92652 6.32473 6.11377C5.93473 6.50377 5.93473 7.13377 6.32473 7.52377L11.2147 12.4138L6.32473 17.3038C5.93473 17.6938 5.93473 18.3238 6.32473 18.7138C6.71473 19.1038 7.34473 19.1038 7.73473 18.7138L12.6247 13.8238L17.5147 18.7138C17.9047 19.1038 18.5347 19.1038 18.9247 18.7138C19.3147 18.3238 19.3147 17.6938 18.9247 17.3038L14.0347 12.4138L18.9247 7.52377C19.3047 7.14377 19.3047 6.50377 18.9247 6.12377Z" fill="black" fill-opacity="0.54"></path>
                </svg>

                </a>
            </div>

            <div class="modal-overflow-content-div" style="margin: 0;">
                <div class="row">
                    <div class="sub-heading">
                        Select any one
                    </div>
                    <div class="profanity-word-radio-container">
                        <label>   
                            {% if profanity_response_obj.add_livechat_as_quick_recommendation %}                
                                <input class="with-gap" name="group3" id ="add_livechat_as_quick_recommendation_for_profan_words" value="trigger_quick_recommendation" type="radio"  checked="">
                            {% else %}
                                <input class="with-gap" name="group3" id ="add_livechat_as_quick_recommendation_for_profan_words" value="trigger_quick_recommendation" type="radio">
                            {% endif %}
                            <span>Add LiveChat intent as Quick recommendation</span>
                        </label>
                        <label>
                            {% if profanity_response_obj.trigger_livechat_intent%}
                                <input class="with-gap" name="group3" id ="trigger_livechat_for_profan_words" value="trigger_livechat_intent"  type="radio" checked>   
                            {% else %}
                                <input class="with-gap" name="group3" id ="trigger_livechat_for_profan_words" value="trigger_livechat_intent"  type="radio"> 
                            {% endif %}                                     
                            <span>Trigger LiveChat intent</span>
                        </label>
                    </div>

                </div>
                <div class="row" style="margin-top: 3rem;">
                    <div class="col s6 sub-heading" style="padding-left: 0px;">
                        Profanity words Bot Response

                    </div>
                    <div class="col s6 ">
                        <textarea id="profanity-word-bot-response" class="materialize-textarea">{{profanity_response_obj.profanity_response_text}}</textarea>

                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <a class="btn filter-modal-footer-btn" onclick="check_profanity_model_settings()">Save</a>
    </div>
</div>
<!-- Modal Profanity setting end -->
{% endif %}
<!-- Emoji Bot Response Modal --- -->
<div id="modal-emoji-bot-response" class="modal modal-fixed-footer">
    <div class="modal-header" style="font-size: 16px; font-weight: 500; color: #2543D7; padding: 1em;">
        Configure Emoji Bot Responses
    </div>
    <div style="border: 1px solid #E6E6E6;"></div>
    <div class="modal-content" style="padding: 1em 2em;">
                <div class="col s12">
                    <div class="emoji-container">
                            <div class="heading">
                            <h6>Happy Emoji Bot Response</h6>
                            {% if is_livechat_manager and is_livechat_enabled and selected_language == "en" %}
                                <label class="container emoji-checkbox-container">
                            {% else %}
                                <label class="container emoji-checkbox-container" style="display: none;">
                            {% endif %}
                            
                                <input type="checkbox" id="happy-emoji-response-livechat">
                                <span class="checkmark"></span>
                                Add LiveChat Intent as Quick recommendation
                            </label>
                            
                        </div>
                        <div class="edit-box-container">
                            <textarea id="happy-emoji-response" class="materialize-textarea emoji-response"></textarea>
                        </div>
                        
                    </div>
                </div>
                <div class="col s12">
                    <div class="emoji-container">
                            <div class="heading">
                            <h6>Sad Emoji Bot Response</h6>
                            {% if is_livechat_manager and is_livechat_enabled and selected_language == "en" %}
                                <label class="container emoji-checkbox-container">
                            {% else %}
                                <label class="container emoji-checkbox-container" style="display: none;">
                            {% endif %}
                                <input type="checkbox" id="sad-emoji-response-livechat">
                                <span class="checkmark"></span>
                                Add LiveChat Intent as Quick recommendation
                            </label>
                        </div>
                        <div class="edit-box-container">
                            <textarea id="sad-emoji-response" class="materialize-textarea emoji-response"></textarea>
                        </div>
                        
                    </div>
                </div>
                <div class="col s12">
                    <div class="emoji-container">
                            <div class="heading">
                            <h6>Angry Emoji Bot Response</h6>
                            {% if is_livechat_manager and is_livechat_enabled and selected_language == "en" %}
                                <label class="container emoji-checkbox-container">
                            {% else %}
                                <label class="container emoji-checkbox-container" style="display: none;">
                            {% endif %}
                                <input type="checkbox" id="angry-emoji-response-livechat">
                                <span class="checkmark"></span>
                                Add LiveChat Intent as Quick recommendation
                            </label>
                        </div>
                        <div class="edit-box-container">
                            <textarea id="angry-emoji-response" class="materialize-textarea emoji-response"></textarea>
                        </div>
                        
                    </div>
                </div>
                <div class="col s12">
                    <div class="emoji-container">
                            <div class="heading">
                            <h6>Neutral Emoji Bot Response</h6>
                            {% if is_livechat_manager and is_livechat_enabled and selected_language == "en" %}
                                <label class="container emoji-checkbox-container">
                            {% else %}
                                <label class="container emoji-checkbox-container" style="display: none;">
                            {% endif %}
                                <input type="checkbox" id="neutral-emoji-response-livechat">
                                <span class="checkmark"></span>
                                Add LiveChat Intent as Quick recommendation
                            </label>
                        </div>
                        <div class="edit-box-container">
                            <textarea id="neutral-emoji-response" class="materialize-textarea emoji-response"></textarea>
                        </div>
                    </div>
                </div>
    </div>
    <div class="modal-footer">
        <a class="waves-effect btn modal-close transparent-btn white" target="_blank" id="stop-words-modal-cancel">Cancel</a>
        <a class="waves-effect btn" target="_blank" onclick="save_emoji_modal()" style="margin-left: 10px; background-color: #038456 !important;padding: 0px 25px;">Save</a>
    </div>
</div>

<!-- Masking PII OTP Modal -->
<div id="easychat-masking-pi-modal" class="modal">
    <div class="modal-content">
        <div class="header">OTP Verification
        </div>
        <div class="modal-body">
            <div class="row">
                <div class="col s12 mb-4">
                    <div class="switch-off-toggle-info-div">
                        To switch off the Masking PII toggle you need to enter the 6-digit OTP code.
                    </div>
                </div>
                <div class="col s12 mb-4">

                    <div class="otp-send-to-div">
                        {{ masking_pii_otp_email_sentence }}
                    </div>
                </div>
                <div class="col s12">

                    <div class="d-flex flex-row mx-5" style="display: inline-flex;     padding: 0px 4rem;">
                        <input maxlength="1" type="text" class=" otp-form" autofocus="">
                        <input maxlength="1" type="text" class=" otp-form">
                        <input maxlength="1" type="text" class=" otp-form">
                        <input maxlength="1" type="text" class=" otp-form">
                        <input maxlength="1" type="text" class=" otp-form">
                        <input maxlength="1" type="text" class=" otp-form" style="margin-right: 0px !important;"></div>
                </div>
            </div>
            <div class="col s12">

                <div class="resend-otp-div">
                    Didnt receive the OTP? <a href="javascript:void(0)" style="font-weight: bold;" id="easychat-resend-otp" onclick="resend_otp ()">RESEND OTP</a>
                </div>
            </div>

            <div class="modal-footer" style="background-color: #fff; height: unset;">
                <button class="cancel-btn modal-close masking-pii-btn">Cancel</button>
                <button class="submit-btn masking-pii-btn" onclick="check_otp(this)">Submit</button>
            </div>
        </div>
    </div>
</div>
<!-- Masking PII Data End -->

<!-- Enable csat feedback form -->
<!-- Modal Structure -->
    <div id="configure_csat_modal" class="modal">
    <div class="modal-content">
    <h4>Configure CSAT Form
    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.9999 1.83334C9.18693 1.83334 7.41465 2.37096 5.9072 3.37821C4.39974 4.38545 3.22483 5.81709 2.53103 7.49208C1.83722 9.16707 1.65569 11.0102 2.00939 12.7883C2.36309 14.5665 3.23613 16.1998 4.51811 17.4818C5.80009 18.7638 7.43344 19.6368 9.2116 19.9905C10.9898 20.3442 12.8329 20.1627 14.5079 19.4689C16.1828 18.7751 17.6145 17.6002 18.6217 16.0927C19.629 14.5853 20.1666 12.813 20.1666 11C20.1666 9.79623 19.9295 8.60423 19.4688 7.49208C19.0082 6.37993 18.3329 5.3694 17.4817 4.5182C16.6305 3.66699 15.62 2.99178 14.5079 2.53111C13.3957 2.07045 12.2037 1.83334 10.9999 1.83334ZM10.9999 18.3333C9.54953 18.3333 8.1317 17.9032 6.92574 17.0975C5.71978 16.2917 4.77985 15.1463 4.22481 13.8064C3.66976 12.4664 3.52454 10.9919 3.8075 9.56935C4.09046 8.14682 4.78889 6.84015 5.81447 5.81456C6.84006 4.78898 8.14673 4.09054 9.56926 3.80758C10.9918 3.52463 12.4663 3.66985 13.8063 4.22489C15.1463 4.77994 16.2916 5.71987 17.0974 6.92583C17.9032 8.13179 18.3333 9.54961 18.3333 11C18.3333 12.9449 17.5606 14.8102 16.1854 16.1855C14.8101 17.5607 12.9448 18.3333 10.9999 18.3333Z" fill="#757575"/>
    <path d="M10.9999 8.24999C11.5062 8.24999 11.9166 7.83958 11.9166 7.33332C11.9166 6.82706 11.5062 6.41666 10.9999 6.41666C10.4937 6.41666 10.0833 6.82706 10.0833 7.33332C10.0833 7.83958 10.4937 8.24999 10.9999 8.24999Z" fill="#757575"/>
    <path d="M10.9999 9.16666C10.7568 9.16666 10.5236 9.26323 10.3517 9.43514C10.1798 9.60705 10.0833 9.84021 10.0833 10.0833V14.6667C10.0833 14.9098 10.1798 15.1429 10.3517 15.3148C10.5236 15.4867 10.7568 15.5833 10.9999 15.5833C11.243 15.5833 11.4762 15.4867 11.6481 15.3148C11.82 15.1429 11.9166 14.9098 11.9166 14.6667V10.0833C11.9166 9.84021 11.82 9.60705 11.6481 9.43514C11.4762 9.26323 11.243 9.16666 10.9999 9.16666Z" fill="#757575"/>
    </svg>

    </h4>
    <div class="modal-body">
    <div class="row">
    <div class="col s12" style="position: relative;">
        <label for="">Number of Feedbacks </label>
        {% if total_feedback_options != 0 %}
            <input type="number" id="rating_csat_value" value="{{total_feedback_options}}" oninput="feedback_options_hide_show('{{max_feedback_allowed}}')">
        {% else %}
            <input type="number" id="rating_csat_value" oninput="feedback_options_hide_show('{{max_feedback_allowed}}')">
        {% endif %}

        <p id="wrong_value_feedback">This field cannot be left empty, it can contain Min - 1 and Max - {{max_feedback_allowed}} values</p>
    </div>

    {% if total_feedback_options != 0 %}
        {% for item in all_csat_feedbacks %}
            <div class="col s12" id="feedback_option_{{forloop.counter}}" style="display: block;">
                <input type="text" placeholder="Enter Feedback Option {{forloop.counter}} " id="feedback_option__input_{{forloop.counter}}" value="{{item}}">
            </div>
        {% endfor %}

        {% for i in range_total_feedback_options %}
        {% if  i > total_feedback_options %}
             <div class="col s12" id="feedback_option_{{i}}" style="display: none;">
                <input type="text" placeholder="Enter Feedback Option {{i}} " id="feedback_option__input_{{i}}" value="" >
            </div>
        {% endif %}

        {% endfor %}

    {% else %}
          {% for i in range_total_feedback_options %}
             <div class="col s12" id="feedback_option_{{i}}" style="display: none;">
                <input type="text" placeholder="Enter Feedback Option {{i}} " id="feedback_option__input_{{i}}" value="">
            </div>
        {% endfor %}
    {% endif %}



    
   

    </div>
    <div class="row">
    
    <div class="col s12" style="display: flex; margin-bottom: 10px; position: relative;">
        <label class="checkboxes">
        Collect Phone Number
    </label>
    {% if collect_phone_number %}
        <input type="checkbox" checked="checked" id="collect_phone_number" />
    {% else %}
        <input type="checkbox" id="collect_phone_number" />
    {% endif %}
    </div>
    
   
    <div class="col s12" style="display: flex; margin-bottom: 10px; position: relative;">
        <label class="checkboxes">
        Collect Email id
    </label>
    {% if collect_email_id %}
        <input type="checkbox" checked="checked" id="collect_email_id"  />
    {% else %}
        <input type="checkbox"  id="collect_email_id"/>
    {% endif %}
    </div>
    <div class="col s12" style="position: relative;">
        <label class="checkboxes" >
        Mark all the fields as mandatory
    </label>
    {% if mark_all_fields_mandatory %}
        <input type="checkbox" id="mark_all_fields_mandatory" checked="checked" />
    {% else %}
        <input type="checkbox" id="mark_all_fields_mandatory" />
    {% endif %}
    </div>
    </div>
    </div>
    </div>
    <div class="modal-footer">
    <button class="cancel-btn modal-close">Cancel</button>
    <button onclick="check_input_feedback('{{bot_obj.pk}}','{{max_feedback_allowed}}');" class="save-btn">Save</button>

    </div>
    </div>
<!-- End Csat feedback form -->

<!-- Mailer Analytics Modal -->

<div id="modal-mailer_analytics" class="modal" tabindex="0" style="z-index: 1003; opacity: 1; top: 10%; transform: scaleX(1) scaleY(1); ">
    <div class="modal-content eamil-analytics-profile-add-modal-content">
        <div class="row" style="margin-bottom: 12px !important;">
            <div class="modal-header">
                <h6>Manage Email Trigger Profiles</h6>
                <a href="javascript:void(0)" class="modal-close-btn modal-close">
                    <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18.9247 6.12377C18.7379 5.93652 18.4842 5.83129 18.2197 5.83129C17.9552 5.83129 17.7016 5.93652 17.5147 6.12377L12.6247 11.0038L7.73473 6.11377C7.5479 5.92652 7.29424 5.82129 7.02973 5.82129C6.76521 5.82129 6.51156 5.92652 6.32473 6.11377C5.93473 6.50377 5.93473 7.13377 6.32473 7.52377L11.2147 12.4138L6.32473 17.3038C5.93473 17.6938 5.93473 18.3238 6.32473 18.7138C6.71473 19.1038 7.34473 19.1038 7.73473 18.7138L12.6247 13.8238L17.5147 18.7138C17.9047 19.1038 18.5347 19.1038 18.9247 18.7138C19.3147 18.3238 19.3147 17.6938 18.9247 17.3038L14.0347 12.4138L18.9247 7.52377C19.3047 7.14377 19.3047 6.50377 18.9247 6.12377Z" fill="black" fill-opacity="0.54"></path>
                    </svg>

                </a>
            </div>

            <div class="modal-overflow-content-div">
                <div class="row email-analytics-persons-profile-wrapper" id="mailer_analytics_all_profiles" style="margin-bottom: 0px;">
                    <div class="col s4">
                        <div class="email-analytics-add-new-profile-container" onclick="create_new_profile();">
                            <svg class="email-analytics-add-profile-svg" width="65" height="65" viewBox="0 0 65 65" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M48.7887 35.1126H35.4554V48.446C35.4554 49.9126 34.2554 51.1126 32.7887 51.1126C31.3221 51.1126 30.1221 49.9126 30.1221 48.446V35.1126H16.7887C15.3221 35.1126 14.1221 33.9126 14.1221 32.446C14.1221 30.9793 15.3221 29.7793 16.7887 29.7793H30.1221V16.446C30.1221 14.9793 31.3221 13.7793 32.7887 13.7793C34.2554 13.7793 35.4554 14.9793 35.4554 16.446V29.7793H48.7887C50.2554 29.7793 51.4554 30.9793 51.4554 32.446C51.4554 33.9126 50.2554 35.1126 48.7887 35.1126Z" fill="#DADADA"/>
                            </svg>
                            <div class="email-analytics-add-profile-text-div">
                                Add Profile
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-content eamil-analytics-profile-edit-modal-content">
        <div class="row" style="margin-bottom: 12px !important;">
            <div class="modal-header">
                <h6>
                    <svg onclick="go_to_all_profiles();" class="email-analytics-edit-back-arrow" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8.73171 16.7948C9.03264 17.0795 9.50733 17.0662 9.79196 16.7653C10.0766 16.4644 10.0634 15.9897 9.76243 15.7051L4.52339 10.75H17.2471C17.6613 10.75 17.9971 10.4142 17.9971 9.99995C17.9971 9.58574 17.6613 9.24995 17.2471 9.24995H4.52112L9.76243 4.29269C10.0634 4.00807 10.0766 3.53338 9.79196 3.23245C9.50733 2.93151 9.03264 2.91829 8.73171 3.20291L2.31449 9.27236C2.14819 9.42964 2.04819 9.62975 2.01448 9.83854C2.00308 9.89053 1.99707 9.94454 1.99707 9.99995C1.99707 10.0575 2.00356 10.1136 2.01585 10.1675C2.05084 10.3733 2.15039 10.5702 2.31449 10.7254L8.73171 16.7948Z" fill="#212121"/>
                    </svg>

                    <span class="eamil-analytics-profile-edit-modal-header" id="modal_profile_name_head">Profile 1</span>
                </h6>

                <a href="javascript:void(0)" class="modal-close-btn modal-close">
                    <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.9247 6.12377C18.7379 5.93652 18.4842 5.83129 18.2197 5.83129C17.9552 5.83129 17.7016 5.93652 17.5147 6.12377L12.6247 11.0038L7.73473 6.11377C7.5479 5.92652 7.29424 5.82129 7.02973 5.82129C6.76521 5.82129 6.51156 5.92652 6.32473 6.11377C5.93473 6.50377 5.93473 7.13377 6.32473 7.52377L11.2147 12.4138L6.32473 17.3038C5.93473 17.6938 5.93473 18.3238 6.32473 18.7138C6.71473 19.1038 7.34473 19.1038 7.73473 18.7138L12.6247 13.8238L17.5147 18.7138C17.9047 19.1038 18.5347 19.1038 18.9247 18.7138C19.3147 18.3238 19.3147 17.6938 18.9247 17.3038L14.0347 12.4138L18.9247 7.52377C19.3047 7.14377 19.3047 6.50377 18.9247 6.12377Z" fill="black" fill-opacity="0.54"></path>
                    </svg>
                </a>
            </div>

            <div class="modal-overflow-content-div" id="profile_details_div">
                <div class="row email-analytics-persons-profile-wrapper" style="margin-bottom: 0px;">
                    <ul class="collapsible email-analytics-collapsible-options" id="trigger_settings_collapsible">
                        <li class="active">
                            <div class="collapsible-header" onclick="collapseRotateIcon(this);"><i class="material-icons email-analytics-collapsible-icon-rotate" id="trigger_settings_icon">chevron_right</i>Trigger Settings</div>

                            <div class="collapsible-body">
                                <table>
                                    <tbody>
                                        <tr>
                                            <td>Profile Name</td>
                                            <td>
                                                <input type="text" maxlength="{{character_limit_small_text}}" id="mailer-profile-name" class="email-analytics-profile-setting-input show-char-count" placeholder="Enter Profile Name" value="Profile 1">
                                                <div class="easychat-char-count" style="padding-right: 5% !important; width: 100%;">
                                                    <p id="mailer-profile-name-char-count">0</p>
                                                    <p>/{{character_limit_small_text}}</p>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="vertical-align: baseline; padding-top: 22px !important;">Email Frequency</td>
                                            <td class="easychat-profile-dropdown-wrapper">
                                                <div class="easychat-multiselect-box-dropdown">
                                                    <div class="email-frequency-options-container">
                                                        
                                                        <label for="Daily">
                                                            <div class="option">
                                                                <input type="radio" class="radio" id="daily" name="category"/>
                                                                <label for="daily">Daily</label>
                                                                <input type="checkbox" class="item-checkbox" id="Daily" name="Daily">
                                                            </div>
                                                        </label>

                                                        <label for="7days">
                                                            <div class="option">
                                                                <input type="radio" class="radio" id="7_days" name="category"/>
                                                                <label for="7_days">7 days</label>
                                                                <input type="checkbox" class="item-checkbox" id="7days" name="7days">
                                                            </div>
                                                        </label>

                                                        <label for="15days">
                                                            <div class="option">
                                                                <input type="radio" class="radio" id="15_days" name="category"/>
                                                                <label for="15_days">15 days</label>
                                                                <input type="checkbox" class="item-checkbox" id="15days" name="15days">
                                                            </div>
                                                        </label>

                                                        <label for="30days">
                                                            <div class="option">
                                                                <input type="radio" class="radio" id="30_days" name="category" />
                                                                <label for="30_days">30 days</label>
                                                                <input type="checkbox" class="item-checkbox" id="30days" name="30days">
                                                            </div>
                                                        </label>

                                                        <label for="60days">
                                                            <div class="option">
                                                                <input type="radio" class="radio" id="60_days" name="category"/>
                                                                <label for="60_days">60 days</label>
                                                                <input type="checkbox" class="item-checkbox" id="60days" name="60days">
                                                            </div>
                                                        </label>

                                                        <label for="90days">
                                                            <div class="option">
                                                                <input type="radio" class="radio" id="90_days" name="category"/>
                                                                <label for="90_days">90 days</label>
                                                                <input type="checkbox" class="item-checkbox" id="90days" name="90days">
                                                            </div>
                                                        </label>

                                                    </div>
                                                    
                                                    <div class="wrapper-box" id="email_frequency_dropdown_wrapper">
                                                        <div class="box">
                                                            <div class="selected email-frequency-selected-items" style="border: none">
                                                                Selected Frequency
                                                            </div>
                                                        </div>

                                                        <div class="arrow">
                                                            <img src="{% static 'EasyChatApp/img/arrow-down.svg' %}" class="arrow-img" onchange="hideIcon(this);" alt="arrow-down" />
                                                        </div>

                                                    </div>
                                                </div>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td>Email Address</td>
                                            <td class="email-analytics-email-address-input">
                                                <div class="col s12 chips chips-initial" id="mailer-analytics-email-address">
                                                </div>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td>Email Subject</td>
                                            <td>
                                                <input type="text" maxlength="{{character_limit_medium_text}}" class="email-analytics-profile-setting-input show-char-count" id="mailer_email_subject" placeholder="Email Subject">
                                                <div class="easychat-char-count" style="padding-right: 5% !important; width: 100%;">
                                                    <p id="mailer_email_subject-char-count">0</p>
                                                    <p>/{{character_limit_medium_text}}</p>
                                                </div>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td>Accuracy Drop Mailer %</td>
                                            <td>
                                                <input type="text" maxlength="3" pattern="[0-9]{3}" class="email-analytics-profile-setting-input" id="mailer_bot_accuracy" placeholder="Accuracy Drop Percentage">
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </li>
                    </ul>
                    <ul class="collapsible email-analytics-collapsible-options">
                        <li>
                            <div class="collapsible-header" onclick="collapseRotateIcon(this);"><i class="material-icons">chevron_right</i>Table Parameters</div>

                            <div class="collapsible-body">
                                <table>
                                    <tbody>
                                        <tr class="email-analytics-enable-parameters-toggle-div">
                                            <td>Enable Table Parameters</td>
                                            <td>
                                                <div class="switch-custom">
                                                    <label>
                                                        <input type="checkbox" id="enable_table_parameter_cb">
                                                        <span class="lever-custom"></span>
                                                    </label>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>

                                <table class="email-analytics-toggleable-table-parameter-div ">
                                    <tbody>
                                        <tr class="email-analytics-toggleable-parameter-subheading">
                                            <td style="padding-top: 2rem !important; padding-bottom: 1.5rem !important;">Reporting Parameters</td>
                                            <td></td>
                                        </tr>
                                        <tr>
                                            <td class="vertical-align-baseline-table">Count Variations</td>
                                            <td>
                                                <div class="col s12 analytics-channel-select-area email-message-analytics-parameter">
                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_count_variation_checkbox" id="checkbox_daily_count_variation" name="Daily" value="">
                                                        <label for="checkbox_daily_count_variation">
                                                            <span>Daily</span>
                                                        </label>
                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_count_variation_checkbox" id="checkbox4-2" name="WTD" value="">
                                                        <label for="checkbox4-2">
                                                            <span>Week To Date</span>
                                                        </label>
                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_count_variation_checkbox" id="checkbox4-3" name="LMSD" value="">
                                                        <label for="checkbox4-3">
                                                            <span>Last Month Same Date</span>
                                                        </label>
                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_count_variation_checkbox" id="checkbox4-4" name="YTD" value="">
                                                        <label for="checkbox4-4">
                                                            <span>Year to date</span>
                                                        </label>
                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_count_variation_checkbox" id="checkbox4-5" name="MTD" value="">
                                                        <label for="checkbox4-5">
                                                            <span>Month To Date</span></label>
                                                    </div>

                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="vertical-align-baseline-table">Select Channel</td>
                                            <td>
                                                <div class="col s12 analytics-channel-select-area" id="channel_selection_div">
                                                    {% for channel in all_channel_list %}
                                                    <div class="channel-box">
                                                        <input type="checkbox" class="table_parameter_channels_checkbox {{ channel.name }}" id="table-parameter-{{ channel.name }}" value="{{ channel.name }}" name="{{ channel.name }}">
                                                        <label for="table-parameter-{{ channel.name }}">
                                                                {{ channel.icon|safe }}
                                                                <span>{{ channel.name }}</span>
                                                        </label>
                                                    </div>
                                                    {% endfor %}
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="email-analytics-toggleable-parameter-subheading">
                                            <td style="padding-top: 2rem !important; padding-bottom: 1.5rem !important;">Record Parameters</td>
                                            <td></td>
                                        </tr>
                                        <tr>
                                            <td class="vertical-align-baseline-table">Message Analytics</td>
                                            <td>
                                                <div class="col s12 analytics-channel-select-area email-message-analytics-parameter">
                                                    
                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_message_analytics_checkbox" id="checkbox1-1" name="total_messages" value="">

                                                        <label for="checkbox1-1">
                                                            <span>Total Messages</span>
                                                        </label>
                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_message_analytics_checkbox" id="checkbox1-2" name="identified_messages" value="">
                                                        
                                                        <label for="checkbox1-2">
                                                            <span>Identified Messages</span>
                                                        </label>

                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_message_analytics_checkbox" id="checkbox1-3" name="unidentified_messages" value="">
                                                        
                                                        <label for="checkbox1-3">
                                                            <span>Unidentified Messages</span>
                                                        </label>

                                                    </div>
                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_message_analytics_checkbox" id="checkbox1-4" name="intuitive_messages" value="">
                                                        
                                                        <label for="checkbox1-4">
                                                            <span>Intuitive Messages</span>
                                                        </label>

                                                    </div>
                                                    
                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_message_analytics_checkbox" id="checkbox1-5" name="negative_feedback" value="">

                                                        <label for="checkbox1-5">
                                                            <span>Messages with +ve Feedback</span>
                                                        </label>

                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_message_analytics_checkbox" id="checkbox1-6" name="positive_feedback" value="">

                                                        <label for="checkbox1-6">
                                                            <span>Messages with -ve Feedback</span>
                                                        </label>

                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_message_analytics_checkbox" id="checkbox1-7" name="bot_accuracy" value="">

                                                        <label for="checkbox1-7" data-toggle="tooltip" data-placement="left" title="Only applicable for Channels">
                                                            <span>Accuracy %</span>
                                                        </label>

                                                    </div>

                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="vertical-align-baseline-table">Session Analytics</td>
                                            <td>
                                                <div class="col s12 analytics-channel-select-area email-message-analytics-parameter">

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_session_analytics_checkbox" id="checkbox2-1" name="total_sessions" value="">

                                                        <label for="checkbox2-1">
                                                            <span>Total No. of Sessions</span>
                                                        </label>

                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_session_analytics_checkbox" id="checkbox2-2" name="avg_session_duration" value="">

                                                        <label for="checkbox2-2">
                                                            <span>Avg. Session Durations</span>
                                                        </label>

                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_session_analytics_checkbox" id="checkbox2-3" name="avg_messages_in_session" value="">

                                                        <label for="checkbox2-3">
                                                            <span>Avg. No. of messages in a session</span>
                                                        </label>

                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_session_analytics_checkbox" id="checkbox2-4" name="total_session_duration" value="">

                                                        <label for="checkbox2-4">
                                                            <span>Total Sessions Duration </span>
                                                        </label>

                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_session_analytics_checkbox" id="checkbox2-5" name="total_bot_clicks" value="">

                                                        <label for="checkbox2-5">
                                                            <span>No. of clicks on bot </span>
                                                        </label>

                                                    </div>

                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="vertical-align-baseline-table">User Analytics</td>
                                            <td>
                                                <div class="col s12 analytics-channel-select-area email-message-analytics-parameter">

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_user_analytics_checkbox" id="checkbox3-1" name="total_users" value="">

                                                        <label for="checkbox3-1">
                                                            <span>Total Users</span>
                                                        </label>

                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_user_analytics_checkbox" id="checkbox3-2" name="form_filled" value="">

                                                        <label for="checkbox3-2">
                                                            <span>Form filled</span>
                                                        </label>

                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_user_analytics_checkbox" id="checkbox3-3" name="authentication_failure" value="">

                                                        <label for="checkbox3-3">
                                                            <span>Authentication Failure</span>
                                                        </label>

                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_user_analytics_checkbox" id="checkbox3-4" name="authentication_successful" value="">

                                                        <label for="checkbox3-4">
                                                            <span>Authentication Successful</span>
                                                        </label>

                                                    </div>
                                                    <div class="channel-box" id="customer_initiated_div" style="display: none;">
                                                        <input type="checkbox" class="table_parameter_user_analytics_checkbox" id="checkbox3-5" name="customer_initiated_conversation" value="">

                                                        <label for="checkbox3-5">
                                                            <span>Customer Initiated Conversation</span>
                                                        </label>
                                                    </div>
                                                    <div class="channel-box" id="business_initiated_div" style="display: none;">
                                                        <input type="checkbox" class="table_parameter_user_analytics_checkbox" id="checkbox3-6" name="business_initiated_conversation" value="">
                                                        <label for="checkbox3-6">
                                                            <span>Business Initiated Conversation</span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Flow Completion Rate</td>
                                            <td class="mailer-analytics-flow-completion-dropdown">
                                                <select name="basic[]" multiple="multiple" id="mailer-flow-completion-multi-dropdown">
                                                    <option value="select_top_five">Select Top 5</option>
                                                    {% for flow in flows %}
                                                        <option value="{{flow.name}}">{{flow.name}}</option>
                                                    {% endfor %}
                                                </select>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td>Intent Analytics</td>
                                            <td class="mailer-analytics-intent-analytics-dropdown">
                                                <select name="basic[]" multiple="multiple" id="mailer-intent-analytics-multi-dropdown">
                                                    <option value="select_top_five">Select Top 5</option>
                                                    {% for intent in intent_objs %}
                                                    <option value="{{intent.name}}">{{intent.name}}</option>
                                                    {% endfor %}
                                                </select>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Traffic Analytics</td>
                                            <td class="mailer-analytics-traffic-analytics-dropdown">
                                                <select name="basic[]" multiple="multiple" id="mailer-traffic-analytics-multi-dropdown">
                                                    <option value="select_top_five_sources">Select Top 5 (based on Sources)</option>
                                                    <option value="select_top_five_bot_views">Select Top 5 (based on Bot Views)</option>
                                                    <option value="select_top_five_average_time">Select Top 5 (based on Avg. Time on Bot)</option>
                                                    {% for traffic in traffic_objs %}
                                                    <option value="{{traffic.web_page}}">{{traffic.web_page}}</option>
                                                    {% endfor %}
                                                </select>
                                            </td>
                                        </tr>
                                        {% if bot_obj.is_livechat_enabled %}
                                         <tr >
                                        {% else %}
                                         <tr style="display: none;">
                                        {% endif %}
                                            <td style="padding-top: 12px !important;" class="vertical-align-baseline-table">Live Chat Analytics</td>
                                            <td>
                                                <div class="col s12 analytics-channel-select-area email-message-analytics-parameter" style="margin:12px 0px 0px;">

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_livechat_analytics_checkbox" id="checkbox5-1" name="intent_called" value="">

                                                        <label for="checkbox5-1">
                                                            <span>Chat with an expert</span>
                                                        </label>

                                                    </div>
                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_livechat_analytics_checkbox" id="checkbox5-2" name="conversion_percent" value="">

                                                        <label for="checkbox5-2">
                                                            <span>Conversion Percentage</span>
                                                        </label>

                                                    </div>
                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_livechat_analytics_checkbox" id="checkbox5-3" name="agent_connected" value="">

                                                        <label for="checkbox5-3">
                                                            <span>Agent Connected</span>
                                                        </label>

                                                    </div>
                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_livechat_analytics_checkbox" id="checkbox5-4" name="request_raised" value="">

                                                        <label for="checkbox5-4">
                                                            <span>Request Raised</span>
                                                        </label>

                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <!-- Languages based analytics over mail -->
                                        <tr>
                                            <td style="vertical-align: baseline;padding-top: 14px!important;">Language based Analytics </td>
                                            <td class="mailer-analytics-traffic-analytics-dropdown">
                                                <select name="basic[]" multiple="multiple" id="language-based-multi-dropdown">
                                                    {%for lang_obj in bot_obj.languages_supported.all%}
                                                        <option value={{lang_obj.name_in_english}}>{{lang_obj.name_in_english}}</option>
                                                    {%endfor%}
                                                </select>
                                                <div class="col s12 analytics-channel-select-area email-message-analytics-parameter" id="language_query_analytics" style="margin:12px 0px 0px; display: none">

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_language_analytics_checkbox" id="checkbox9-1" name="total_users" value="">

                                                        <label for="checkbox9-1">
                                                            <span>Total Users</span>
                                                        </label>

                                                    </div>
                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_language_analytics_checkbox" id="checkbox9-2" name="total_queries_asked" value="">

                                                        <label for="checkbox9-2">
                                                            <span>Total Queries Asked</span>
                                                        </label>

                                                    </div>
                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_language_analytics_checkbox" id="checkbox9-3" name="total_queries_answered" value="">

                                                        <label for="checkbox9-3">
                                                            <span>Total Queries Answered</span>
                                                        </label>

                                                    </div>
                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="table_parameter_language_analytics_checkbox" id="checkbox9-4" name="bot_accuracy" value="">

                                                        <label for="checkbox9-4">
                                                            <span>Bot Accuracy</span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </li>
                    </ul>
                    <ul class="collapsible email-analytics-collapsible-options">
                        <li>
                            <div class="collapsible-header" onclick="collapseRotateIcon(this);"><i class="material-icons">chevron_right</i>Graphic Parameters</div>
                            <div class="collapsible-body">
                                <table>
                                    <tbody>
                                        <tr class="email-analytics-enable-parameters-toggle-div">
                                            <td>Enable Graphic Parameters</td>
                                            <td>
                                                <div class="switch-custom">
                                                    <label>
                                                        <input type="checkbox" id="enable_graphic_parameter_cb">
                                                        <span class="lever-custom"></span>
                                                    </label>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <table class="email-analytics-toggleable-graphic-parameter-div">
                                    <tbody>
                                        <tr>
                                            <td style="padding-top: 28px !important;" class="vertical-align-baseline-table">Select Graphic Parameters</td>
                                            <td style="padding-top: 28px !important;">
                                                <div class="col s12 analytics-channel-select-area email-message-analytics-parameter">

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="graph_parameters_checkbox" id="checkbox6-1" name="category_wise_usage" value="">

                                                        <label for="checkbox6-1">
                                                            <span>Category Wise Usage</span>
                                                        </label>

                                                    </div>
                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="graph_parameters_checkbox" id="checkbox6-2" name="user_analytics" value="">

                                                        <label for="checkbox6-2">
                                                            <span>User Analytics</span>
                                                        </label>

                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="graph_parameters_checkbox" id="checkbox6-3" name="channel_usage" value="">

                                                        <label for="checkbox6-3">
                                                            <span>Channel Usage</span>
                                                        </label>

                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="graph_parameters_checkbox" id="checkbox6-4" name="word_cloud" value="">

                                                        <label for="checkbox6-4">
                                                            <span>Word Cloud</span>
                                                        </label>

                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="vertical-align-baseline-table">Message Analytics</td>
                                            <td>
                                                <div class="col s12 analytics-channel-select-area email-message-analytics-parameter">

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="message_analytics_graph_checkbox" id="checkbox8-1" name="total" value="">

                                                        <label for="checkbox8-1">
                                                            <span>Total</span>
                                                        </label>
                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="message_analytics_graph_checkbox" id="checkbox8-2" name="answered" value="">

                                                        <label for="checkbox8-2">
                                                            <span> Answered</span>
                                                        </label>

                                                    </div>

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="message_analytics_graph_checkbox" id="checkbox8-3" name="unanswered" value="">

                                                        <label for="checkbox8-3">
                                                            <span>Unanswered</span>
                                                        </label>

                                                    </div>
                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="message_analytics_graph_checkbox" id="checkbox8-4" name="intuitive" value="">

                                                        <label for="checkbox8-4">
                                                            <span>Intuitive</span>
                                                        </label>

                                                    </div>


                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="message_analytics_graph_checkbox" id="checkbox8-5" name="projected" value="">
                                                        
                                                        <label for="checkbox8-5">
                                                            <span>Projected</span>
                                                        </label>

                                                    </div>
                                                </div>
                                            </td>

                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </li>
                    </ul>
                    <ul class="collapsible email-analytics-collapsible-options">
                        <li>
                            <div class="collapsible-header" onclick="collapseRotateIcon(this);"><i class="material-icons">chevron_right</i>Attachment Parameters</div>
                            <div class="collapsible-body">
                                <table>
                                    <tbody>
                                        <tr class="email-analytics-enable-parameters-toggle-div">
                                            <td>Enable Attachment </td>
                                            <td>
                                                <div class="switch-custom">
                                                    <label>
                                                        <input type="checkbox" id="enable_attachment_parameter_cb">
                                                        <span class="lever-custom"></span>
                                                    </label>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <table class="email-analytics-toggleable-attachment-parameter-div">
                                    <tbody>
                                        <tr>
                                            <td style="padding-top: 28px !important;" class="vertical-align-baseline-table">Select Attachment </td>
                                            <td style="padding-top: 28px !important;">
                                                <div class="col s12 analytics-channel-select-area email-message-analytics-parameter">

                                                    <div class=" channel-box">
                                                        <input type="checkbox" class="attachment_parameters_checkbox" id="checkbox7-1" name="bot_queries" value="">

                                                        <label for="checkbox7-1">
                                                            <span>Bot Queries</span>
                                                        </label>

                                                    </div>
                                                    <div class=" channel-box">

                                                        <input type="checkbox" class="attachment_parameters_checkbox" id="checkbox7-2" name="unanswered" value="">
                                                        <label for="checkbox7-2">
                                                            <span>Unanswered</span>
                                                        </label>

                                                    </div>
                                                    <div class=" channel-box">

                                                        <input type="checkbox" class="attachment_parameters_checkbox" id="checkbox7-3" name="intuitive" value="">
                                                        <label for="checkbox7-3">
                                                            <span>Intuitive</span>
                                                        </label>

                                                    </div>
                                                    <div class=" channel-box">

                                                        <input type="checkbox" class="attachment_parameters_checkbox" id="checkbox7-4" name="dropoff" value="">
                                                        <label for="checkbox7-4">
                                                            <span>User Specific Dropoff</span>
                                                        </label>

                                                    </div>
                                                    <div class=" channel-box">

                                                        <input type="checkbox" class="attachment_parameters_checkbox" id="checkbox7-5" name="language_analytics" value="">
                                                        <label for="checkbox7-5">
                                                            <span>Language based Reports</span>
                                                        </label>

                                                    </div>
                                                    <div class=" channel-box">

                                                        <input type="checkbox" class="attachment_parameters_checkbox" id="checkbox7-6" name="csat_data" value="">
                                                        <label for="checkbox7-6">
                                                            <span>CSAT Report</span>
                                                        </label>

                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="mailer-modal-btn-wrapper">
            <a href="javascript:void(0)" class="btn modal-footer-btn-sample-mail" style="margin: 0 20px;" onclick="send_sample_mail(this)">Send Sample Mail</a>
        </div>
        <a class="btn filter-modal-footer-btn email-analytics-edit-modal-save-btn" onclick="save_profile_to_server()">Save</a>
    </div>
</div>

<div id="email-analytics-delete-profile-modal" class="modal bot-manager-delete-modal" tabindex="0" style="z-index: 1003; opacity: 1; top: 10%; transform: scaleX(1) scaleY(1);">
    <div class="modal-content">
        <div class="row">
            <div class="col s12">
                <h6 style="font-weight: 400 !important; word-break: break-word;">Are you sure you want to delete this <b>Profile</b>?</h6>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <a class="btn transparent-btn white black-text modal-close">Cancel</a>
        <a class="btn waves-effect waves-light white-text" style="background-color: #C62828 !important;" href="javascript:void(0)" id="delete_mailer_profile_btn" onclick="delete_mailer_profile(this)">Delete</a>
    </div>
</div>

<div id="modal-analytics-monitoring-config" class="modal">
<div class="modal-content">
<h5 style="text-align: center;">Bot Usage Monitoring</h5>
<div class="row">
<table style="table-layout: fixed;word-wrap: break-word;">
<tbody>
    <tr style="border-bottom:1px solid rgba(0,0,0,0.12);border-top:1px solid rgba(0,0,0,0.12)">
        <td>
            <p>Monitor Bot Usage from <sup><i class="material-icons tooltipped"  data-tooltip="Bot usage will be monitored starting from this hour">help</i></sup></p>
        </td>
        <td>
            <input type="time" id="active_hours_start" value="" style="text-align: center;" min=0 max=24> </td>
    </tr>
    <tr style="border-bottom:1px solid rgba(0,0,0,0.12);border-top:1px solid rgba(0,0,0,0.12)">
        <td>
            <p>Monitor Bot Usage till <sup><i class="material-icons tooltipped"  data-tooltip="Bot usage will be monitored till this hour">help</i></sup></p>
        </td>
        <td>
            <input type="time" id="active_hours_end" value="" style="text-align: center;" min=0 max=24>
        </td>
    </tr>
    <tr style="border-bottom:1px solid rgba(0,0,0,0.12);border-top:1px solid rgba(0,0,0,0.12)">
        <td>
            <p>Expected number of messages per hour <sup><i class="material-icons tooltipped"  data-tooltip="Please enter the number of messages you expect per hour during active hours">help</i></sup></p>
        </td>
        <td>
            <input type="number" id="analytics-monitoring-message-limit" value="" style="text-align: center;" min=0>
        </td>
    </tr>
    <tr style="border-bottom:1px solid rgba(0,0,0,0.12);border-top:1px solid rgba(0,0,0,0.12)">
        <td>
            <p>Consecutive hours <sup><i class="material-icons tooltipped"  data-tooltip=" If the bot usage is below expected use for the given consecutive hours, an email will be sent to the stakeholders">help</i></sup></p>
        </td>
        <td>
            <input type="number" id="analytics-monitoring-consecutive-hrs" value="" style="text-align: center;">
        </td>
    </tr>
    <tr style="border-bottom:1px solid rgba(0,0,0,0.12);border-top:1px solid rgba(0,0,0,0.12)">
        <td>
            Email address
        </td>
        <td>
            <div class="col s8 chips chips-initial" id="analytics-monitoring-email-address" style="width:96%;border: 0.1em solid black;padding:1em;font-family: Consolas, monaco, monospace;word-wrap: break-word;background-color:white;">
            </div>
        </td>
    </tr>

</tbody>
</table>
</div>
</div>
<div class="modal-footer">
<a class="modal-close btn transparent-btn white black-text" style="margin-right: 10px;">Cancel</a>
<a class="btn green lighten-2 black-text" onclick="save_analytics_monitoring_config(this, '6')" style="margin-right: 10px;">Save</a>
</div>
</div>

<!-- End Mailer Analytics Modal -->

<!-- Delete Profile Modal -->

<div id="email-analytics-delete-profile-modal" class="modal bot-manager-delete-modal" tabindex="0" style="z-index: 1003; opacity: 1; top: 10%; transform: scaleX(1) scaleY(1);">
    <div class="modal-content">
        <div class="row">
            <div class="col s12">
                <h6 style="font-weight: 400 !important; word-break: break-word;">Are you sure you want to delete this <b>Profile</b>?</h6>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <a class="btn transparent-btn white black-text modal-close">Cancel</a>
        <a class="btn waves-effect waves-light white-text" style="background-color: #C62828 !important;" href="/supervisor/remove-bot-manager/42">Delete
        </a>
    </div>
</div>

<!-- End Delete Profile Modal -->
<div id="edit-response-language-settings-modal" class="modal">
    <div class="modal-content">
      <p style="margin-top: 0;font-size: 17px;">A text change has been detected on your settings, Would you like to auto-fix changes on other languages?</p>
    </div>
    <div class="modal-footer">
    <a href="javascript:void(0)" id = "ignore-non-primary-bot-configuration" style="background: #fff !important;font-size:14px !important;color: #333333 !important;" class="modal-close btn filter-modal-footer-btn">Ignore</a>
      <a href="javascript:void(0)"  id="auto-fix-non-primary-bot-configuration" class="modal-close btn filter-modal-footer-btn">Auto-Fix</a>
    </div>
</div>
<!-- End Modal -->

<!-- Modal Do Not Translate Keywords -->
<div id="modal_dont_translate_keywords" class="modal easychat-custom-modals-container" tabindex="0" style="z-index: 1003; display: none; opacity: 0; top: 4%; transform: scaleX(0.8) scaleY(0.8);">
    <div class="modal-content">
        <div class="row" style="margin-bottom: 12px !important;">
            <div class="modal-header">
                <div class="modal-heading-text-div">Do not translate keyword </div>
                <a href="javascript:void(0)" class="modal-close-btn modal-close">
                    <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.9247 6.12377C18.7379 5.93652 18.4842 5.83129 18.2197 5.83129C17.9552 5.83129 17.7016 5.93652 17.5147 6.12377L12.6247 11.0038L7.73473 6.11377C7.5479 5.92652 7.29424 5.82129 7.02973 5.82129C6.76521 5.82129 6.51156 5.92652 6.32473 6.11377C5.93473 6.50377 5.93473 7.13377 6.32473 7.52377L11.2147 12.4138L6.32473 17.3038C5.93473 17.6938 5.93473 18.3238 6.32473 18.7138C6.71473 19.1038 7.34473 19.1038 7.73473 18.7138L12.6247 13.8238L17.5147 18.7138C17.9047 19.1038 18.5347 19.1038 18.9247 18.7138C19.3147 18.3238 19.3147 17.6938 18.9247 17.3038L14.0347 12.4138L18.9247 7.52377C19.3047 7.14377 19.3047 6.50377 18.9247 6.12377Z" fill="black" fill-opacity="0.54"></path>
                    </svg>
                </a>
            </div>
            <div class="modal-overflow-content-div">
                <div class="modal-content-divider-wrapper">
                    <div class="modal-content-subheading-div">
                        Enable Do Not Translate Keyword
                    </div>
                    <div class="modal-content-data-wrapper-div">
                        <div class="easychat-custom-switch-toggle-wrapper medium-size">
                            <label class="easychat-custom-toggle-switch">
                                <input type="checkbox" style="position: relative; display: none;" id="enable-do-not-translate" {% if bot_info_obj.enable_do_not_translate %} checked {% endif %}>
                                <span class="easychat-custom-toggle-slider easychat-custom-toggle-round"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div id="dont_translate_keyword_enable_wrapper" style="display: none;">
                    <div class="modal-content-divider-wrapper" style="margin-top:24px; align-items: baseline;">
                        <div class="modal-content-subheading-div">
                            Add Keyword
                            <i class="tooltipped" data-position="top" data-tooltip="Keyword added here will not change in the bot response according to the user's language">
                                <svg style="margin-bottom:-1px;" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M7.58006 2.36719C10.6586 2.36719 13.154 4.86322 13.154 7.94117C13.154 11.0191 10.6586 13.5152 7.58006 13.5152C4.50155 13.5152 2.00607 11.0191 2.00607 7.94117C2.00607 4.86322 4.50155 2.36719 7.58006 2.36719ZM7.58006 9.89207C7.27222 9.89207 7.02266 10.1416 7.02266 10.4495C7.02266 10.7573 7.27222 11.0069 7.58006 11.0069C7.8879 11.0069 8.13746 10.7573 8.13746 10.4495C8.13746 10.1416 7.8879 9.89207 7.58006 9.89207ZM7.58006 5.01483C6.73349 5.01483 6.04721 5.70111 6.04721 6.54768C6.04721 6.77856 6.23438 6.96573 6.46526 6.96573C6.6769 6.96573 6.85181 6.80845 6.87949 6.6044L6.88331 6.54768C6.88331 6.16287 7.19526 5.85093 7.58006 5.85093C7.96486 5.85093 8.27681 6.16287 8.27681 6.54768C8.27681 6.84801 8.20156 6.99653 7.91734 7.29024L7.84185 7.36687C7.3524 7.85632 7.16201 8.17364 7.16201 8.77727C7.16201 9.00815 7.34918 9.19532 7.58006 9.19532C7.81094 9.19532 7.99811 9.00815 7.99811 8.77727C7.99811 8.47694 8.07335 8.32842 8.35758 8.03471L8.43306 7.95808C8.92252 7.46863 9.11291 7.15131 9.11291 6.54768C9.11291 5.70111 8.42663 5.01483 7.58006 5.01483Z" fill="#4D4D4D"></path>
                                </svg>
                            </i>
                        </div>
                        <div class="modal-content-data-wrapper-div">
                            <input type="text" class="input add-keyword-input-div" name="" id="add-no-translate-keyword" placeholder="Type keyword and hit enter" autocomplete="off">
                            <div class="modal-keyword-preview-wrapper" id="keywords-container" style="display: none;">
                                {% for keyword in bot_info_obj.get_do_not_translate_keywords_list %}
                                <div class="translate-keyword-chip-item" value="{{ keyword }}">
                                    <span>{{ keyword }}</span>
                                    <a onclick="remove_keywords_chip(this)">
                                        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M2.3938 2.25L9.60619 9.75" stroke="white" stroke-width="1.30211" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="M9.6062 2.25L2.39381 9.75" stroke="white" stroke-width="1.30211" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </a>
                                </div>
                                {% endfor %}
                            </div>
                        </div>

                    </div>
                    <div class="modal-content-divider-wrapper" style="margin-top:18px;  align-items: baseline;">
                        <div class="modal-content-subheading-div">
                            Add Regex
                            <i class="tooltipped" data-position="top" data-tooltip="Regex added here will not change in the bot response according to the user's language">
                                <svg style="margin-bottom:-1px;" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M7.58006 2.36719C10.6586 2.36719 13.154 4.86322 13.154 7.94117C13.154 11.0191 10.6586 13.5152 7.58006 13.5152C4.50155 13.5152 2.00607 11.0191 2.00607 7.94117C2.00607 4.86322 4.50155 2.36719 7.58006 2.36719ZM7.58006 9.89207C7.27222 9.89207 7.02266 10.1416 7.02266 10.4495C7.02266 10.7573 7.27222 11.0069 7.58006 11.0069C7.8879 11.0069 8.13746 10.7573 8.13746 10.4495C8.13746 10.1416 7.8879 9.89207 7.58006 9.89207ZM7.58006 5.01483C6.73349 5.01483 6.04721 5.70111 6.04721 6.54768C6.04721 6.77856 6.23438 6.96573 6.46526 6.96573C6.6769 6.96573 6.85181 6.80845 6.87949 6.6044L6.88331 6.54768C6.88331 6.16287 7.19526 5.85093 7.58006 5.85093C7.96486 5.85093 8.27681 6.16287 8.27681 6.54768C8.27681 6.84801 8.20156 6.99653 7.91734 7.29024L7.84185 7.36687C7.3524 7.85632 7.16201 8.17364 7.16201 8.77727C7.16201 9.00815 7.34918 9.19532 7.58006 9.19532C7.81094 9.19532 7.99811 9.00815 7.99811 8.77727C7.99811 8.47694 8.07335 8.32842 8.35758 8.03471L8.43306 7.95808C8.92252 7.46863 9.11291 7.15131 9.11291 6.54768C9.11291 5.70111 8.42663 5.01483 7.58006 5.01483Z" fill="#4D4D4D"></path>
                                </svg>                            
                            
                            </i>
                        </div>
                        <div class="modal-content-data-wrapper-div">
                            <input type="text" class="input add-keyword-input-div" name="" id="add-no-translate-regex" placeholder="Type regex and hit enter" autocomplete="off">
                            <div class="modal-keyword-preview-wrapper" id="regex-container" style="display: none;">
                                {% for regex in bot_info_obj.get_do_not_translate_regex_list %}
                                <div class="translate-keyword-chip-item" value="{{ regex }}">
                                    <span>{{ regex }}</span>
                                    <a onclick="remove_keywords_chip(this)">
                                        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M2.3938 2.25L9.60619 9.75" stroke="white" stroke-width="1.30211" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="M9.6062 2.25L2.39381 9.75" stroke="white" stroke-width="1.30211" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </a>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <a class="btn filter-modal-footer-btn modal-close">Save</a>
    </div>
</div>

<div id="easychat_export_bot_email_modal" class="modal easychat-language-config-modals-wrapper">
    <div class="modal-content">
        <div class="row" style="margin-bottom: 12px !important;">

            <a href="javascript:void(0)" class="modal-close-btn modal-close">
                <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18.9247 6.12377C18.7379 5.93652 18.4842 5.83129 18.2197 5.83129C17.9552 5.83129 17.7016 5.93652 17.5147 6.12377L12.6247 11.0038L7.73473 6.11377C7.5479 5.92652 7.29424 5.82129 7.02973 5.82129C6.76521 5.82129 6.51156 5.92652 6.32473 6.11377C5.93473 6.50377 5.93473 7.13377 6.32473 7.52377L11.2147 12.4138L6.32473 17.3038C5.93473 17.6938 5.93473 18.3238 6.32473 18.7138C6.71473 19.1038 7.34473 19.1038 7.73473 18.7138L12.6247 13.8238L17.5147 18.7138C17.9047 19.1038 18.5347 19.1038 18.9247 18.7138C19.3147 18.3238 19.3147 17.6938 18.9247 17.3038L14.0347 12.4138L18.9247 7.52377C19.3047 7.14377 19.3047 6.50377 18.9247 6.12377Z" fill="black" fill-opacity="0.54"></path>
                </svg>

            </a>

            <div class="modal-overflow-content-div">
                <div class="easychat-email-otp-modal-subheading-div">
                    Enter Email ID to receive exported bot
                </div>

                <div class="easychat-email-otp-failed-message-box">
                    Please insert Cogno AI email to continue.
                </div>

                <input type="text" id="easychat-export-bot-email-id" class="easychat-lang-config-email-input" value="{{request.user.username}}" placeholder="Email Address">

                <a onclick="export_data_on_mail()" class="modal-trigger easychat-email-otp-sent-btn ">
                    Send
                </a>
            </div>
        </div>
    </div>

</div>

<!-- Ameyo fusion select notification start  -->
<div class="fusion-select-notification-div">
    <p class="fusion-select-notification">
        <span class="alert-notification-svg">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 3C16.9707 3 21 7.0302 21 12C21 16.9698 16.9707 21 12 21C7.0293 21 3 16.9698 3 12C3 7.0302 7.0293 3 12 3ZM12.0016 14.7034C11.5052 14.7034 11.1028 15.1058 11.1028 15.6021C11.1028 16.0985 11.5052 16.5009 12.0016 16.5009C12.498 16.5009 12.9004 16.0985 12.9004 15.6021C12.9004 15.1058 12.498 14.7034 12.0016 14.7034ZM11.9997 7.5C11.5381 7.50017 11.1578 7.84774 11.106 8.29536L11.1 8.40032L11.1016 12.9011L11.1077 13.0061C11.1599 13.4537 11.5404 13.801 12.0019 13.8008C12.4635 13.8006 12.8438 13.4531 12.8956 13.0054L12.9016 12.9005L12.9 8.39968L12.8939 8.29472C12.8418 7.84713 12.4612 7.49983 11.9997 7.5Z" fill="#F5C828"/>
            </svg>
        </span>

            Make sure you configure App ID and Host Name so that the setup functions normally
       
        <span class="close-svg">
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1.19165 1L10.8082 11" stroke="#4D4D4D" stroke-width="1.73614" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.8083 1L1.19183 11" stroke="#4D4D4D" stroke-width="1.73614" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </span>
      
        
    </p>
</div>
<!-- Ameyo fusion select notification end  -->

<script type="text/javascript">    
    window.API_FAIL_EMAIL_CONFIGURED = '{{api_fail_email_configured}}'
    window.BOT_BREAK_EMAIL_CONFIGURED = '{{bot_break_email_configured}}'
    bot_id = window.location.href.split("/")[6]
    SERVER_URL= window.location.origin;
    BOT_ID=bot_id
    BOT_NAME='uat';
    BOT_THEME='null';
    BOT_POSITION='bottom-right';
    bot_click_image = 'true';
    is_form_assist='false';
    is_easyassist_enabled='false';
    is_lead_generation='false';
    lead_generation_intent_id='';
    window.tms_cat_drop_down_choices_value ='{{tms_cat_drop_down_choices_value}}';
    window.NEED_TO_BUILD = "{{ bot_obj.need_to_build }}";
    window.PROFILE_DICT = {{profile_dict|safe}}
    window.DEFAULT_MAIL_SUBJECT = "{{default_email_subject}}"
    window.SELECTED_LANGUAGE = "{{selected_language}}"
    window.is_livechat_enabled = '{{is_livechat_enabled}}'
    window.IS_LIVECHAT_MANAGER = '{{is_livechat_manager}}'
    window.is_livechat_profanity_words_enabled = '{{is_livechat_profanity_words_enabled}}'
    window.NEED_TO_SHOW_AUTO_FIX_MODAL = "{{need_to_show_auto_fix_popup}}"
    window.INTENT_COUNT = {{intent_objs.count}}
    window.IS_PDF_SEARCH_ACCESS_ALLOWED = "{{is_pdf_searcher_access_allowed}}"
    window.IS_LEAD_GENRATION_ACCESS_ALLOWED = "{{is_lead_generation_access_allowed}}"
</script>

<script type="text/javascript" src="{% static 'EasyChatApp/js/multiselect-dropdown.js' %}?v={% random_int 1 100 %}"></script>
<script src="{% static 'EasyChatApp/js/mailer_analytics.js' %}?v={% random_int 1 100 %}"></script>
<script src="{% static 'EasyChatApp/js/emoji_operations.js' %}?v={% random_int 1 100 %}"></script>
<script src="{% static 'EasyChatApp/js/bot_configuration.js' %}?v={% random_int 1 100 %}"></script>
{% if bot_obj.default_theme.name == "theme_1" %}
<script src="{% static 'EasyChatApp/js/theme1_embed.js' %}?v={% random_int 1 100 %}"></script>
{% elif bot_obj.default_theme.name == "theme_2" %}
<script src="{% static 'EasyChatApp/js/theme2_embed.js' %}?v={% random_int 1 100 %}"></script>
{% elif bot_obj.default_theme.name == "theme_3" %}
<script src="{% static 'EasyChatApp/js/theme3_embed.js' %}?v={% random_int 1 100 %}"></script>
{% elif bot_obj.default_theme.name == "theme_4" %}
<script src="{% static 'EasyChatApp/js/theme4_embed.js' %}?v={% random_int 1 100 %}"></script>
{% endif %}
<script type="text/javascript">
    if(document.getElementById("easychat-checkbox-livechat-enable") != null && document.getElementById("easychat-checkbox-livechat-enable") != undefined && SELECTED_LANGUAGE == "en"){
            if(document.getElementById("easychat-checkbox-livechat-enable").checked){
                document.getElementById("livechat-developers-options-form").style.display = "table-row"
                document.getElementById("livechat-developers-options-processor-customer").style.display = "table-row"
                document.getElementById("livechat-developers-options-processor-end-chat").style.display = "table-row"
                document.getElementById("livechat-developers-options-processor-assign-agent").style.display = "table-row"
            }
        }


    window.MASKING_TIME = "{{masking_time}}";
    
    M.textareaAutoResize($('#email-config-content'))

    mail_sent_to_list = {{mail_sent_to_list | safe}}

    mail_sent_to_list_data = []

    for(var i = 0; i < mail_sent_to_list.length; i++){

        mail_sent_to_list_data.push({"tag": mail_sent_to_list[i]});
    }
    $("#api-fail-email-config-email-address").chips({data: mail_sent_to_list_data})

    bot_break_mail_sent_to_list = {{bot_break_mail_sent_to_list | safe}}

    bot_break_mail_sent_to_list_data = []

    for(var i = 0; i < bot_break_mail_sent_to_list.length; i++){

        bot_break_mail_sent_to_list_data.push({"tag": bot_break_mail_sent_to_list[i]});
    }
    $("#bot-break-email-config-email-address").chips({data: bot_break_mail_sent_to_list_data})

    config_email_address_data = {{email_config_email_address_list | safe}}

    // $("#email-config-email-address").chips(
    //     {data:config_email_address_data})

    config_email_address_data = []

    $("#mailer-analytics-email-address").chips({
        data: config_email_address_data,
        onChipDelete: function(e, data) {
            delete_email_address(e, data)
        },
        onChipAdd: function(e, data) {
            add_email_address(e, data)
        }
    })

    $('#mailer-flow-completion-multi-dropdown').multiselect({
        columns: 1,
        placeholder: 'Select Flow Completion rate',
        search: true,
        searchOptions: {
            'default': 'Search Here'
        },
        selectAll: true
    });

    $('#mailer-intent-analytics-multi-dropdown').multiselect({
        columns: 1,
        placeholder: 'Select Intent Analytics',
        search: true,
        searchOptions: {
            'default': 'Search Here'
        },
        selectAll: true
    });

    $('#mailer-traffic-analytics-multi-dropdown').multiselect({
        columns: 1,
        placeholder: 'Select Traffic Analytics',
        search: true,
        searchOptions: {
            'default': 'Search Here'
        },
        selectAll: true
    });

    $('#language-based-multi-dropdown').multiselect({
        columns: 1,
        placeholder: 'Select Languages',
        search: true,
        searchOptions: {
            'default': 'Search'
        },
        selectAll: true
    });

    analytics_monitoring_email_data =  {{analytics_monitoring_email_address_list | safe }}
    $("#analytics-monitoring-email-address").chips(
        {data:analytics_monitoring_email_data})


    $(document).on("click", ".bot-inactivity-config-trigger", function(e){
        $('#modal-bot-inactivity-config').modal('open');
        auto_grow_textarea(document.getElementById("bot-inactivity-msg"))
    });


    $(document).on("click", ".bot-response-delay-config-trigger", function(e){
        $('#modal-bot-response-delay-config').modal('open');
         auto_grow_textarea(document.getElementById("bot-response-delay-msg"))
    });


    $(document).on("click", "#checkbox-is-email-notifiication-enabled", function(e){
        if(document.getElementById("checkbox-is-email-notifiication-enabled").checked){
            $("#edit-email-config").show()
            $("#test-email-config").show()
        }
        else{
            $("#edit-email-config").hide()
            $("#test-email-config").hide()
        }
    });

    $(document).on("click", "#checkbox-is-analytics-monitoring-enabled", function(e){
        if(document.getElementById("checkbox-is-analytics-monitoring-enabled").checked){
            $("#edit-analytics-monitoring-config").show()
        }
        else{
            $("#edit-analytics-monitoring-config").hide()
        }
    });


    $(document).on("click", "#checkbox-bot-inactivity-enabled", function(e){
        if(document.getElementById("checkbox-bot-inactivity-enabled").checked){
            $(".bot-inactivity-config-trigger").show()            
        }
        else{
            $(".bot-inactivity-config-trigger").hide()
        }
    });

    $(document).on("click", "#checkbox-bot-response-delay-enabled", function(e){
        if(document.getElementById("checkbox-bot-response-delay-enabled").checked){
            $(".bot-response-delay-config-trigger").show()            
        }
        else{
            $(".bot-response-delay-config-trigger").hide()
        }
    });

    $(document).on("click", "#checkbox-bot-lead-generation-enabled", function(e){
        if(document.getElementById("checkbox-bot-lead-generation-enabled").checked){
            document.getElementById("checkbox-bot-form-assist-enabled").checked =false;
            $("#checkbox-bot-form-assist-enabled").attr("disabled", "disabled");
        }else{
            document.getElementById("checkbox-bot-form-assist-enabled").checked = false;
            $("#checkbox-bot-form-assist-enabled").removeAttr("disabled", "disabled");
        }
    });
    $(document).on("click", "#checkbox-bot-form-assist-enabled", function(e){
        if(document.getElementById("checkbox-bot-form-assist-enabled").checked){
            document.getElementById("form-auto-pop-up").style.display = "";
            document.getElementById("form-auto-pop-up-timer").style.display = "";
            document.getElementById("form-inactivity-timer").style.display = "";
            document.getElementById("form-auto-pop-up-timer").style.display = "none";
            document.getElementById("checkbox-bot-lead-generation-enabled").checked =false;
            $("#checkbox-bot-lead-generation-enabled").attr("disabled", "disabled");
        }else{
            // document.getElementById("checkbox-bot-lead-generation-enabled").checked = true;
            $("#checkbox-bot-lead-generation-enabled").removeAttr("disabled", "disabled");
            document.getElementById("form-auto-pop-up").style.display = "none";
            document.getElementById("form-auto-pop-up-timer").style.display = "none";
            document.getElementById("form-inactivity-timer").style.display = "none";
            document.getElementById("form_assist_auto_popup_timer").checked = false;
        }
    });
    $(document).on("click", "#is-form-assist-auto-popup-allowed", function(e){
        if(document.getElementById("is-form-assist-auto-popup-allowed").checked){
            document.getElementById("form-auto-pop-up-timer").style.display = "";
            document.getElementById("form-auto-pop-up-timer").style.display = "";
        }else{
            document.getElementById("form-auto-pop-up-timer").style.display = "none";
            // document.getElementById("bot-popup").style.display = ""
            
        }
    });

    $(document).on("click", "#easychat-checkbox-easytms-enable", function(e){
        if(document.getElementById("easychat-checkbox-easytms-enable").checked){
            document.getElementById("configure-tms-categories").style.display = ""
        }else{
            document.getElementById("configure-tms-categories").style.display = "none"
        }
    });

    if (document.getElementById("enable_csat_option_cb") && document.getElementById("enable_csat_option_cb").checked) {
        $("#csat_setting_wrapper").show();
    }

    $("#enable_csat_option_cb").on("change", function(event) {
            if (this.checked) {
                $("#csat_setting_wrapper").show();
                // $("#csat_select_channel_div").show();


            } else {
                $("#csat_setting_wrapper").hide();
                // $("#csat_select_channel_div").hide();

            }
        });

    function nps_filter(){
        selected_channels_list_nps = $('#multi-select-channels').val();
        const WhatsAppValue = selected_channels_list_nps.some(element => {
            return element.toLowerCase() === "WhatsApp".toLowerCase();
        });
        if(WhatsAppValue){
            document.getElementById("whatsapp-nps-timer").style.display = 'table-row';
        }
        else{
            document.getElementById("whatsapp-nps-timer").style.display = 'none';   
        }
        const ViberValue = selected_channels_list_nps.some(element => {
            return element.toLowerCase() === "Viber".toLowerCase();
        });
        if(ViberValue){
            document.getElementById("viber-nps-timer").style.display = 'table-row';
        }
        else{
            document.getElementById("viber-nps-timer").style.display = 'none';   
        }
    }
    

</script>
<script type="text/javascript">
    $('#bot_name_field').on('keypress', function (event) {

        var regex = new RegExp("^[a-zA-Z0-9!?& ]+$"); // your regex

        var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);

        if (!regex.test(key)) {

           event.preventDefault();

           return false;

        }

    });

    $('#bot_name_field').on('paste', function (event) {

        var format = /[`@#$%^*()_+\-=\[\]{};':"\\|,.<>\/~]/;
        var pastedData = event.originalEvent.clipboardData.getData('text');

        if(format.test(pastedData.trim()))
        {
          event.preventDefault();

           return false;

        }

    });

</script>

{% endblock %}
