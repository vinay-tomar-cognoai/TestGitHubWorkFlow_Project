{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="robots" content="noindex,nofollow,noimageindex" />
    <meta name="googlebot" content="noindex,nofollow" />
    <meta name="googlebot-news" content="noindex,nofollow" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title class="site-title">Cogno AI</title>


    {% if request.user.enable_s3_bucket %}
        <link rel="shortcut icon" type="image/png" href="https://static.allincall.in/static/EasyChatApp/img/favicon.svg" />
        <link href="https://static.allincall.in/static/EasyChatApp/css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection" />
        <script type="text/javascript" src="/static/EasyChatApp/js/easychat-crypto.js"></script>
        <script type="text/javascript" src="https://static.allincall.in/static/EasyChatApp/js/jquery.min.js"></script>
    {% else %}
        <link rel="shortcut icon" type="image/png" href="{% static 'EasyChatApp/img/favicon.svg' %}" />
        <link href="{% static 'EasyChatApp/css/materialize.css' %}" type="text/css" rel="stylesheet" media="screen,projection" />
        <script type="text/javascript" src="{% static 'EasyChatApp/js/easychat-crypto.js' %}"></script>
        <script type="text/javascript" src="{% static 'EasyChatApp/js/jquery.min.js' %}"></script> 
    {% endif %}

    <link rel="stylesheet" href="{% static 'EasyChatApp/css/login.css' %}?v={% random_int 1 100 %}" />
    
    <link rel="stylesheet" href="{% static 'EasyChatApp/css/login_web.css' %}?v={% random_int 1 100 %}" />
    <style>
        body{
            background: none !important;
        }
        .logo-heading-section{
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            height: 100vh;
            z-index: -2;
        }
        .left-side-div {
            height: 100vh;
            background-color: #{{ config_obj.secondary_color }} !important;
            position: relative;
            z-index: -3;
        }

        .left-side-div .traingle-background:after {
            content: "";
            position: absolute;
            top: 0%;
            right: 0%;
            border-top: 50vh solid transparent;
            border-right: 41vw solid #{{ config_obj.primary_color }} !important;
            border-bottom: 50vh solid transparent;
            z-index: -2;
        }

        #welcome_message {
            font-family: Silka;
            font-style: normal;
            font-weight: bold;
            font-size: 20px;
            line-height: 24px;
            color: #3594D8;
            margin-top: 3rem !important;
            /* margin-left: 11em !important;*/
        }
        #reset-pass-btn, .back-to-login-btn{
            background-color: #{{ config_obj.secondary_color }} !important;
            border-radius: 4px !important;
        }
        .login_button_main {
            background: #{{ config_obj.secondary_color }};;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.15);
            border-radius: 30px;
            width: 345px !important;
        }

        #signup_btn:focus {
            background: #{{ config_obj.secondary_color }} !important;
        }

        #signup_btn:hover {
            background: #{{ config_obj.secondary_color }} !important;
        }

        #login_btn:focus {
            background: #{{ config_obj.secondary_color }} !important;
        }

        #login_btn:hover {
            background: #{{ config_obj.secondary_color }} !important;
        }
    </style>

</head>

    <body>
        {% csrf_token %}
        <input type="hidden" name="easychataccesstoken" value="{{ easychat_access_token.token }}"/>

        <div class="container-fluid">
            <div class="row main-page-row">
                <div class="col s5" style="padding:0" id="left-side-div-wrapper">
                    <div class="left-side-div">
                        <div class="logo-heading-section">
                            <div class="logo-container">
                                <img src="{{ config_obj.login_logo }}" alt="logo"
                                    class="cogno-logo">
                            </div>
                            <div>
                                <p class="brand-text-container">Enriching Customer Experience at Scale</p>
                            </div>
                        </div>
                        <div class="traingle-background"></div>
                    </div>
                </div>

                <div class="col s7" id="right-side-div-wrapper" style="padding: 0 !important; background: #ffffff !important;">
                    <div class="reset-pass-wrapper">
                        
                        {% if is_password_reseted %}
                            <div id="reset-password-session-expired" class="reset-pass-success-div" >
                                <div class="svg-icon-div">
                                    <svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path opacity="0.4" d="M65.2801 47.76L46.0801 13.2C43.5001 8.55 39.9301 6 36.0001 6C32.0701 6 28.5001 8.55 25.9201 13.2L6.72005 47.76C4.29005 52.17 4.02005 56.4 5.97005 59.73C7.92005 63.06 11.7601 64.89 16.8001 64.89H55.2001C60.2401 64.89 64.0801 63.06 66.0301 59.73C67.9801 56.4 67.7101 52.14 65.2801 47.76Z" fill="#FF0000"/>
                                        <path d="M36 44.25C34.77 44.25 33.75 43.23 33.75 42V27C33.75 25.77 34.77 24.75 36 24.75C37.23 24.75 38.25 25.77 38.25 27V42C38.25 43.23 37.23 44.25 36 44.25Z" fill="#FF0000"/>
                                        <path d="M36 54.0002C35.82 54.0002 35.61 53.9702 35.4 53.9402C35.22 53.9102 35.04 53.8502 34.86 53.7602C34.68 53.7002 34.5 53.6102 34.32 53.4902C34.17 53.3702 34.02 53.2502 33.87 53.1302C33.33 52.5602 33 51.7802 33 51.0002C33 50.2202 33.33 49.4402 33.87 48.8702C34.02 48.7502 34.17 48.6302 34.32 48.5102C34.5 48.3902 34.68 48.3002 34.86 48.2402C35.04 48.1502 35.22 48.0902 35.4 48.0602C35.79 47.9702 36.21 47.9702 36.57 48.0602C36.78 48.0902 36.96 48.1502 37.14 48.2402C37.32 48.3002 37.5 48.3902 37.68 48.5102C37.83 48.6302 37.98 48.7502 38.13 48.8702C38.67 49.4402 39 50.2202 39 51.0002C39 51.7802 38.67 52.5602 38.13 53.1302C37.98 53.2502 37.83 53.3702 37.68 53.4902C37.5 53.6102 37.32 53.7002 37.14 53.7602C36.96 53.8502 36.78 53.9102 36.57 53.9402C36.39 53.9702 36.18 54.0002 36 54.0002Z" fill="#FF0000"/>
                                    </svg>                                                                                         
                                </div>
                                <div style="text-align: center;" class="heading">
                                    <h5 style="color:#FF0000">Account Already Exists Please Login</h5>
                                </div>
                                <div class="button-group">
                                    <a href="/chat/login" class="back-to-login-btn">Back to Log In</a>
                                </div>
                            </div>
                        {% elif is_reset_pass_session_expired %}
                            <div id="reset-password-session-expired" class="reset-pass-success-div">
                                <div class="svg-icon-div">
                                    <svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path opacity="0.4" d="M65.2801 47.76L46.0801 13.2C43.5001 8.55 39.9301 6 36.0001 6C32.0701 6 28.5001 8.55 25.9201 13.2L6.72005 47.76C4.29005 52.17 4.02005 56.4 5.97005 59.73C7.92005 63.06 11.7601 64.89 16.8001 64.89H55.2001C60.2401 64.89 64.0801 63.06 66.0301 59.73C67.9801 56.4 67.7101 52.14 65.2801 47.76Z" fill="#FF0000"/>
                                        <path d="M36 44.25C34.77 44.25 33.75 43.23 33.75 42V27C33.75 25.77 34.77 24.75 36 24.75C37.23 24.75 38.25 25.77 38.25 27V42C38.25 43.23 37.23 44.25 36 44.25Z" fill="#FF0000"/>
                                        <path d="M36 54.0002C35.82 54.0002 35.61 53.9702 35.4 53.9402C35.22 53.9102 35.04 53.8502 34.86 53.7602C34.68 53.7002 34.5 53.6102 34.32 53.4902C34.17 53.3702 34.02 53.2502 33.87 53.1302C33.33 52.5602 33 51.7802 33 51.0002C33 50.2202 33.33 49.4402 33.87 48.8702C34.02 48.7502 34.17 48.6302 34.32 48.5102C34.5 48.3902 34.68 48.3002 34.86 48.2402C35.04 48.1502 35.22 48.0902 35.4 48.0602C35.79 47.9702 36.21 47.9702 36.57 48.0602C36.78 48.0902 36.96 48.1502 37.14 48.2402C37.32 48.3002 37.5 48.3902 37.68 48.5102C37.83 48.6302 37.98 48.7502 38.13 48.8702C38.67 49.4402 39 50.2202 39 51.0002C39 51.7802 38.67 52.5602 38.13 53.1302C37.98 53.2502 37.83 53.3702 37.68 53.4902C37.5 53.6102 37.32 53.7002 37.14 53.7602C36.96 53.8502 36.78 53.9102 36.57 53.9402C36.39 53.9702 36.18 54.0002 36 54.0002Z" fill="#FF0000"/>
                                    </svg>                                                                                              
                                </div>
                                <div style="text-align: center;" class="heading">
                                    <h5 style="color:#FF0000">Password Link is Expired <br> Please Try Again</h5>

                                </div>
                                <div class="button-group">
                                    <a href="/chat/login" class="back-to-login-btn">Back to Log In</a>
                                </div>
                            </div>

                        {% else %}
                            <div id="reset-password-div" class="reset-pass-div">
                                    <h5>Set New Password</h5>
                                    <p class="sub-heading">Your new password must be different to previously used password.</p>
                                    <p class="hint-text mt-mb-3">Hint: Your password must contain 1 uppercase, 1 lowercase, 1 special character, a minimum of 1 number and should be at least 8 characters long.</p>
        
                                    <form action="javascript:void(0)">
                                        <div class="form-messages">
                                            <p >New Password<span style="color: #FF0000;"> *</span></p>
                                            <input id="new_password" style="border-radius: 4px !important;" type="password" class="form-fields" autocomplete="off"
                                                placeholder="Enter Password" required />
                                        </div>
                                        <div class="input-field form-messages">
                                            <p >Confirm New Password<span style="color: #FF0000;"> *</span></p>
                                            <span id="password-match-error-text" class="error-message-text">Password doesn't match new password</span>
                                            <input id="confirm_new_password" style="border-radius: 4px !important;" type="password" class="form-fields" autocomplete="off"
                                                placeholder="Enter Password" required />
                                            <span id="password-one-lower-one-upper-error-text" class="error-message-text">Password must contain atleast  1 LowerCase and 1 UpperCase Character</span>
                                            <span id="password-one-number-error-text" class="error-message-text">Password must contain atleast  1 Number</span>
                                            <span id="password-one-special-char-match-error-text" class="error-message-text">Password must contain atleast 1 special character </span>
                                            <span id="password-length-error-text" class="error-message-text">Password must be atleast 8 characters and maximum of 32 characters</span>
                                            
                                        </div>
                                    </form>
                                    <div class="button-group">
                                        <a class="reset-pass-btn" style="border-radius: 4px !important;" id="reset-pass-btn">Reset Password</a>
                                        <a href="/chat/login" class="password-reset-cancel">Cancel</a>
                                    </div>
                            </div>
                            <div id="reset-password-succesfull-div" class="reset-pass-success-div" style="display: none;">
                                <div class="svg-icon-div">
                                    <svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path opacity="0.2" d="M32.2526 7.34984C34.3226 5.57984 37.7126 5.57984 39.8126 7.34984L44.5526 11.4298C45.4526 12.2098 47.1326 12.8398 48.3326 12.8398H53.4326C56.6126 12.8398 59.2226 15.4498 59.2226 18.6298V23.7298C59.2226 24.8998 59.8526 26.6098 60.6326 27.5098L64.7126 32.2498C66.4826 34.3198 66.4826 37.7098 64.7126 39.8098L60.6326 44.5498C59.8526 45.4498 59.2226 47.1298 59.2226 48.3298V53.4298C59.2226 56.6098 56.6126 59.2198 53.4326 59.2198H48.3326C47.1626 59.2198 45.4526 59.8498 44.5526 60.6298L39.8126 64.7098C37.7426 66.4798 34.3526 66.4798 32.2526 64.7098L27.5126 60.6298C26.6126 59.8498 24.9326 59.2198 23.7326 59.2198H18.5426C15.3626 59.2198 12.7526 56.6098 12.7526 53.4298V48.2998C12.7526 47.1298 12.1226 45.4498 11.3726 44.5498L7.32258 39.7798C5.58258 37.7098 5.58258 34.3498 7.32258 32.2798L11.3726 27.5098C12.1226 26.6098 12.7526 24.9298 12.7526 23.7598V18.5998C12.7526 15.4198 15.3626 12.8098 18.5426 12.8098H23.7326C24.9026 12.8098 26.6126 12.1798 27.5126 11.3998L32.2526 7.34984Z" fill="#10B981"/>
                                        <path d="M32.3716 45.5101C31.7716 45.5101 31.2016 45.2701 30.7816 44.8501L23.5216 37.5901C22.6516 36.7201 22.6516 35.2801 23.5216 34.4101C24.3916 33.5401 25.8316 33.5401 26.7016 34.4101L32.3716 40.0801L45.2716 27.1801C46.1416 26.3101 47.5816 26.3101 48.4516 27.1801C49.3216 28.0501 49.3216 29.4901 48.4516 30.3601L33.9616 44.8501C33.5416 45.2701 32.9716 45.5101 32.3716 45.5101Z" fill="#10B981"/>
                                    </svg>                                                                                               
                                </div>
                                <div class="heading">
                                    <h5>Password Reset Successfully</h5>
                                    <p class="sub-heading">Your Password has been successfully reset.<br>
                                    Click below to log in </p>
                                </div>
                                <div class="button-group">
                                    <a href="/chat/login" class="back-to-login-btn">Back to Log In</a>
                                </div>
                            </div>
                        {% endif%}
                    </div>
                </div>
            </div>
        </div>

    <script type="text/javascript">
      if (navigator.userAgent.indexOf("MSIE") > -1 || navigator.userAgent.indexOf("Trident/") > -1) {
              alert("Please switch to Google Chrome for better experience. If you are using Chrome make sure it is updated with the latest version. Thank you!")
              window.location = "/"
      }
    </script>
    <script type="text/javascript" src="{% static 'EasyChatApp/js/materialize.js' %}"></script>

    {% if request.user.enable_s3_bucket %}
       <script type="text/javascript" src="https://static.allincall.in/static/EasyChatApp/js/select2.min.js">
    </script>

    {% else %}

    <script type="text/javascript" src="{% static 'EasyChatApp/js/select2.min.js' %}">
    </script>
    {% endif %}
    <script type="text/javascript" src="{% static 'EasyChatApp/js/security_checks.js' %}?v={% random_int 1 100 %}"></script>
    <script type="text/javascript" src="{% static 'EasyChatApp/js/console.js' %}?v={% random_int 1 100 %}"></script> 
    <script type="text/javascript">

        function hide_forgot_password_modal(){
            document.querySelector(".forgot-pass-back").style.display="none";
        }

        function show_login_div() {
            document.getElementById("login-main-div").style.display = "block"
            document.getElementById("signup-main-div").style.display = "none";
            document.getElementById("sign_up_btn_show_div").style.background =
                "linear-gradient(180deg, #0254D7 0%, #0048BA 100%)";
            document.getElementById("sign_up_btn_show_div").style.color = "white";
            document.getElementById("sign_up_btn_show_div").style.border = "1px solid #FFFFFF";
        }

        function show_signup_div() {
            document.getElementById("login-main-div").style.display = "none"
            document.getElementById("signup-main-div").style.display = "block"
            document.getElementById("sign_up_btn_show_div").style.background = "white";
            document.getElementById("sign_up_btn_show_div").style.color = "#0254D7";
        }

        $('#username, #password_form, #captcha, #reset-password-username, #forgot-password-catcha, #new-password, #retype-password')
            .bind("cut copy paste", function (e) {
                e.preventDefault();
        });
    </script>   
  </body>
</html>
