{% extends 'LiveChatApp/agent_console_settings.html' %}
{% block consolecontent %}
{% load static %}

<style>
	.live-chat-general-setting-area .checkbox-content input:checked {
    	background-color: {{admin_config.get_livechat_theme_lighten_one}};
    	border-color: {{admin_config.get_livechat_theme_lighten_one}};
  	}

  	input[type="checkbox"]:checked {
    	background-color: {{admin_config.get_livechat_theme_lighten_one}} !important;
    	border-color: {{admin_config.get_livechat_theme_lighten_one}} !important;
	}

	.livechat-multiselect-dropdown.livechat-multiselect-filter-dropdown ::-webkit-scrollbar-thumb {
		background: {{ admin_config.get_livechat_theme_lighten_six }} !important;
	}

	.multiselect-all {
		color: {{admin_config.get_livechat_theme_lighten_one}} !important;	
	}

</style>

 <link href="{% static 'LiveChatApp/css/agent_settings.css' %}?v={% random_int 1 100 %}" rel="stylesheet">
 <link href="{% static 'LiveChatApp/css/dropdown.css' %}?v={% random_int 1 100 %}" rel="stylesheet">

<div class="col-xl-10 col-lg-10 col-md-9 col-sm-12 col-12 py-2 " id="live-chat-setting-content-gs" style="height: calc(100vh - 4.375rem); background: #FAFAFA;">

	<div class="live-chat-general-setting-heading ">
    <svg width="25" height="21" viewBox="0 0 25 21" fill="none" xmlns="http://www.w3.org/2000/svg" class="back-arrow-div" id="live-chat-active-customers-opener-setting" onclick="go_back_mobile()">
        <path d="M25 9.1376H5.19713L12.3832 1.92643L10.4635 0L0 10.5L10.4635 21L12.3832 19.0736L5.19713 11.8624H25V9.1376Z" fill="#757575"/>
    </svg>
    <svg width="14" height="12" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M4.725 7.125C5.80034 7.125 6.70142 7.92437 6.93885 8.99875L13.475 9C13.7649 9 14 9.25184 14 9.5625C14 9.84727 13.8025 10.0826 13.5462 10.1199L13.475 10.125L6.93901 10.1255C6.70184 11.2003 5.80059 12 4.725 12C3.64941 12 2.74816 11.2003 2.51099 10.1255L0.525 10.125C0.23505 10.125 0 9.87316 0 9.5625C0 9.27773 0.197508 9.04238 0.453761 9.00514L0.525 9L2.51099 8.9995C2.74816 7.92474 3.64941 7.125 4.725 7.125ZM4.725 8.25C4.1901 8.25 3.73528 8.61732 3.56827 9.12937L3.55387 9.17637L3.52693 9.28752C3.50928 9.3762 3.5 9.46819 3.5 9.5625C3.5 9.67863 3.51408 9.79123 3.5405 9.89846L3.56836 9.9959L3.58635 10.0475C3.76638 10.5323 4.20834 10.875 4.725 10.875C5.25963 10.875 5.71427 10.508 5.88148 9.99639L5.90953 9.89836L5.89757 9.94356C5.93167 9.82296 5.95 9.69503 5.95 9.5625C5.95 9.48388 5.94355 9.40688 5.93118 9.33206L5.91016 9.22924L5.89616 9.17647L5.86338 9.07677C5.68316 8.59235 5.2414 8.25 4.725 8.25ZM9.275 0C10.3506 0 11.2518 0.799741 11.489 1.8745L13.475 1.875C13.7649 1.875 14 2.12684 14 2.4375C14 2.72227 13.8025 2.95762 13.5462 2.99487L13.475 3L11.489 3.0005C11.2518 4.07526 10.3506 4.875 9.275 4.875C8.19941 4.875 7.29816 4.07526 7.06099 3.0005L0.525 3C0.23505 3 0 2.74816 0 2.4375C0 2.15273 0.197508 1.91738 0.453761 1.88013L0.525 1.875L7.06115 1.87375C7.29858 0.799366 8.19966 0 9.275 0ZM9.275 1.125C8.7401 1.125 8.28528 1.49232 8.11827 2.00437L8.10387 2.05137L8.07693 2.16252C8.05928 2.2512 8.05 2.34319 8.05 2.4375C8.05 2.55363 8.06408 2.66623 8.0905 2.77346L8.11836 2.8709L8.13635 2.92248C8.31638 3.4073 8.75834 3.75 9.275 3.75C9.80963 3.75 10.2643 3.38304 10.4315 2.87139L10.4595 2.77336L10.4476 2.81856C10.4817 2.69796 10.5 2.57003 10.5 2.4375C10.5 2.35888 10.4935 2.28188 10.4812 2.20706L10.4602 2.10424L10.4462 2.05147L10.4134 1.95177C10.2332 1.46735 9.7914 1.125 9.275 1.125Z" fill="#4D4D4D"/>
    </svg>

		<span>General Settings</span>
	</div>
	<div class="live-chat-general-setting-area mob-livechat-setting">
		<div class="col-xl-8 col-lg-8 col-md-8 col-sm-8 col-8 text-content">
			Enable desktop notifications
		</div>
		<div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 checkbox-content">
			{% if user_obj.notification %}
				<input type="checkbox" id="is-livechat-notification-enabled" checked>
			{% else %}
				<input type="checkbox" id="is-livechat-notification-enabled">
			{% endif %}
		</div>
	</div>

	{% if config_obj.is_virtual_interpretation_enabled %}
  	<div class="row live-chat-preffered-language-area preferred-lang-row">
		<div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 text-content">
        	Preferred Language
      	</div>
      	<div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 livechat-language-dropdown-wrapper">
            <div class="livechat-multiselect-dropdown livechat-multiselect-filter-dropdown language-multiselect-dropdown-div">
				<select id="select-prefered-languages-dropdown" multiple="" class="form-control">
					<option value="en" selected="true" disabled="disabled">English</option>

					{% for language in master_languages %}
					{% if language.lang != "en" and language in user_obj.preferred_languages.all %}
						<option value="{{language.lang}}" selected="true">{{language.name_in_english}}</option>
					{% elif language.lang != "en" and language not in user_obj.preferred_languages.all %}
						<option value="{{language.lang}}">{{language.name_in_english}}</option>
					{% endif %}
				  {% endfor %}
		  
				</select>
			</div>  
        </div>
    </div>
    {% endif %}

	<button class="saveChangesBtn-general-setting" id="save-agent-settings" onclick="save_agent_settings()">Save Changes</button>

</div>

<script src="{% static 'LiveChatApp/js/bootstrap-multiselect.js' %}"></script>

	<script type="text/javascript">
		window.LIVECHAT_THEME_COLOR = '{{admin_config.livechat_theme_color}}'
    	window.CURRENT_STATUS = '{{user_obj.current_status}}'
    	window.IS_VIRTUAL_INTERPRETATION_ENABLED = '{{config_obj.is_virtual_interpretation_enabled}}'

		$("#select-prefered-languages-dropdown").multiselect({
            nonSelectedText: 'Select Language',
            enableFiltering: true,
            includeSelectAllOption: true,
            enableCaseInsensitiveFiltering: true
        });
	</script>
{% endblock %}
